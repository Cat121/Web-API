{"version":3,"sources":["../static/js/14.1fd1d1b8.chunk.js","views/Entities/index.js","components/Util/index.js","components/DataView/index.js","components/DataTable/index.js","components/FilterForm/index.js","components/CreateForm/index.js"],"names":["webpackJsonp","922","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_3_react_i18next__","__WEBPACK_IMPORTED_MODULE_4_lodash__","__WEBPACK_IMPORTED_MODULE_4_lodash___default","__WEBPACK_IMPORTED_MODULE_5__components_Util__","__WEBPACK_IMPORTED_MODULE_6__actions__","__WEBPACK_IMPORTED_MODULE_7__actions_dataview__","__WEBPACK_IMPORTED_MODULE_8__components_DataView__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","DataView","Entities","_Component","this","getPrototypeOf","apply","arguments","requestWorlds","requestCatalog","_t","t","a","createElement","canDelete","icon","title","filterTitle","createTitle","fields","type.name","label","filter","filterName","view","entity","type","name","options","map","entTypes","id","text","world","worlds","uuid","dimensionType","required","position","isGroup","color","location","x","toFixed","y","z","Group","inline","Input","width","placeholder","state","onChange","handleChange","health","wide","progress","percent","current","max","info","aiEnabled","age","Detail","adult","breedable","career","flying","glowing","silent","sneaking","sprinting","mapStateToProps","_state","list","api","types","mapDispatchToProps","dispatch","931","_defineProperty","obj","formatRange","undefined","acc","Math","pow","round","setState","event","data","checked","floatVal","parseFloat","isNaN","934","__WEBPACK_IMPORTED_MODULE_3_lodash__","__WEBPACK_IMPORTED_MODULE_3_lodash___default","__WEBPACK_IMPORTED_MODULE_4__DataTable__","__WEBPACK_IMPORTED_MODULE_5__FilterForm__","__WEBPACK_IMPORTED_MODULE_6__CreateForm__","_this","page","details","bind","edit","save","delete","requestList","interval","setInterval","clearInterval","nextProps","nextState","creating","requestCreate","requestDetails","newData","requestChange","requestDelete","_this2","checks","regsValid","thisRef","columns","mapValues","newValue","tableRef","assign","createFields","pickBy","filterFields","each","ff","find","val","dataVal","get","filterValue","isArray","push","v","indexOf","RegExp","test","e","every","check","cols","origActions","actions","basic","stackable","doubling","Column","button","createButton","onCreate","valid","values","onFilterChange","setFilter","idFunc","onEdit","onSave","newObj","onDelete","canEdit","isEditing","equals","endpoint","replace","noDetails","o1","o2","objId","935","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","__WEBPACK_IMPORTED_MODULE_4__Util__","DataTable","changePage","doHandleChange","preventDefault","col","_props","newCol","maxPage","ceil","min","listPage","slice","changes","style","marginTop","fitted","striped","Header","Row","HeaderCell","Body","editing","j","Cell","collapsing","renderEdit","disabled","updating","loading","onClick","pagination","Item","range","p","active","Field","fluid","selection","search","control","936","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3__Util__","FilterForm","fieldGroups","field","newField","only","second","first","fg","renderField","widths","error","visible","content","multiple","937","CreateForm","set","createName","_this3","canCreate"],"mappings":"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","file":"static/js/14.1fd1d1b8.chunk.js","sourcesContent":["webpackJsonp([14],{\n\n/***/ 922:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_i18next__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_Util__ = __webpack_require__(931);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__actions__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__actions_dataview__ = __webpack_require__(132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_DataView__ = __webpack_require__(934);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DataView=Object(__WEBPACK_IMPORTED_MODULE_8__components_DataView__[\"a\" /* default */])(\"entity\",\"uuid\");var ENT_TYPES=\"entity.EntityType\";var Entities=function(_Component){_inherits(Entities,_Component);function Entities(){_classCallCheck(this,Entities);return _possibleConstructorReturn(this,(Entities.__proto__||Object.getPrototypeOf(Entities)).apply(this,arguments));}_createClass(Entities,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.requestWorlds();this.props.requestCatalog(ENT_TYPES);}},{key:\"render\",value:function render(){var _t=this.props.t;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(DataView,{canDelete:true,icon:\"paw\",title:_t(\"Entities\"),filterTitle:_t(\"FilterEntities\"),createTitle:_t(\"SpawnEntity\"),fields:{\"type.name\":{label:_t(\"Type\"),create:true,filter:true,filterName:\"type.id\",view:function view(entity){return entity.type.name;},options:__WEBPACK_IMPORTED_MODULE_4_lodash___default.a.map(this.props.entTypes,function(type){return{value:type.id,text:type.name+\" (\"+type.id+\")\"};})},world:{label:_t(\"World\"),view:false,create:true,filter:true,filterName:\"location.world.uuid\",options:__WEBPACK_IMPORTED_MODULE_4_lodash___default.a.map(this.props.worlds,function(world){return{value:world.uuid,text:world.name+\" (\"+world.dimensionType.name+\")\"};}),required:true},position:{label:_t(\"Location\"),isGroup:true,view:function view(entity){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"b\" /* Button */],{color:\"blue\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"h\" /* Icon */],{name:\"globe\"}),entity.location.world.name,\"\\xA0 \\xA0\",entity.location.position.x.toFixed(0),\" |\\xA0\",entity.location.position.y.toFixed(0),\" |\\xA0\",entity.location.position.z.toFixed(0));},create:function create(view){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Group,{inline:true},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"label\",null,_t(\"Position\")),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Input,{type:\"number\",width:6,name:\"position.x\",placeholder:\"X\",value:view.state[\"position.x\"],onChange:view.handleChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Input,{type:\"number\",width:6,name:\"position.y\",placeholder:\"Y\",value:view.state[\"position.y\"],onChange:view.handleChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Input,{type:\"number\",width:6,name:\"position.z\",placeholder:\"Z\",value:view.state[\"position.z\"],onChange:view.handleChange}));}},health:{label:_t(\"Health\"),wide:true,view:function view(entity){if(!entity.health)return;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"r\" /* Progress */],{progress:true,color:\"red\",percent:Object(__WEBPACK_IMPORTED_MODULE_5__components_Util__[\"a\" /* formatRange */])(entity.health.current,entity.health.max)});}},info:{label:_t(\"Info\"),wide:true,view:function view(entity){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",null,entity.aiEnabled&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"AI\")),entity.age&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Age\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */].Detail,null,entity.age.adult?_t(\"Adult\"):entity.age.age)),entity.breedable&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Breedable\")),entity.career&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Career\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */].Detail,null,entity.career.name)),entity.flying&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Flying\")),entity.glowing&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Glowing\")),entity.silent&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Silent\")),entity.sneaking&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Sneaking\")),entity.sprinting&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"k\" /* Label */],null,_t(\"Sprinting\")));}}}});}}]);return Entities;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(_state){return{worlds:_state.world.list,entTypes:_state.api.types[ENT_TYPES]};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{requestWorlds:function requestWorlds(){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"p\" /* requestList */])(\"world\",true));},requestCatalog:function requestCatalog(type){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_6__actions__[\"l\" /* requestCatalog */])(type));}};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(mapStateToProps,mapDispatchToProps)(Object(__WEBPACK_IMPORTED_MODULE_3_react_i18next__[\"c\" /* translate */])(\"Entities\")(Entities)));\n\n/***/ }),\n\n/***/ 931:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = formatRange;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = handleChange;\nfunction _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function formatRange(current,max){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var acc=Math.pow(10,a);return Math.round(current/max*100*acc)/acc;}function handleChange(setState,event,data){var value=null;var name=null;if(data){name=data.name?data.name:data.id;value=data.type===\"checkbox\"?data.checked:data.value;if(data.type===\"number\"){var floatVal=parseFloat(value);value=isNaN(floatVal)?\"\":floatVal;}}else{var target=event.target;value=target.type===\"checkbox\"?target.checked:target.value;if(target.type===\"number\"){var _floatVal=parseFloat(value);value=isNaN(_floatVal)?\"\":_floatVal;}name=target.name?target.name:target.id;}if(!setState){this.setState(_defineProperty({},name,value));}else{setState(name,value);}};\n\n/***/ }),\n\n/***/ 934:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__DataTable__ = __webpack_require__(935);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__FilterForm__ = __webpack_require__(936);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__CreateForm__ = __webpack_require__(937);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__actions_dataview__ = __webpack_require__(132);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DataView=function(_Component){_inherits(DataView,_Component);function DataView(props){_classCallCheck(this,DataView);var _this=_possibleConstructorReturn(this,(DataView.__proto__||Object.getPrototypeOf(DataView)).call(this,props));_this.state={page:0,data:null};_this.details=_this.details.bind(_this);_this.create=_this.create.bind(_this);_this.edit=_this.edit.bind(_this);_this.save=_this.save.bind(_this);_this.delete=_this.delete.bind(_this);return _this;}_createClass(DataView,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.requestList();this.interval=setInterval(this.props.requestList,10000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return nextProps.creating!==this.props.creating||nextProps.filter!==this.props.filter||nextProps.list!==this.props.list||nextState.data!==this.state.data;}// Create a new data entry\n},{key:\"create\",value:function create(data){this.props.requestCreate(data);}// Get the details for a data entry\n},{key:\"details\",value:function details(data){this.props.requestDetails(data);}// Select a data entry for editing\n},{key:\"edit\",value:function edit(data){this.setState({data:data});}// Save/Update an existing data entry\n},{key:\"save\",value:function save(data,newData){this.props.requestChange(data,newData);this.setState({data:null});}// Delete a data entry\n},{key:\"delete\",value:function _delete(data){this.props.requestDelete(data);}},{key:\"render\",value:function render(){var _this2=this;var checks=[];var regsValid=false;// Reference that we pass to our various functions\nvar thisRef={create:this.create,details:this.details,save:this.save,edit:this.edit,delete:this.delete};// Get all the columns of the table\nvar columns=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.mapValues(this.props.fields,function(value,name){var newValue=null;// If the column is a function, use that function to display the cell\nif(typeof value===\"function\"){newValue=function newValue(obj,tableRef){return value(obj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},tableRef,thisRef));};}// else if the column provides a view function then use that to display the cell\nelse if(typeof value.view===\"function\"){newValue=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},value,{view:function view(obj,tableRef){return value.view(obj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},tableRef,thisRef));}});}return newValue?newValue:value;});// Get all the fields for the create form\nvar createFields=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.pickBy(this.props.fields,\"create\");// Get all the fields for the filter form\nvar filterFields=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.pickBy(this.props.fields,\"filter\");try{__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.each(this.props.filter,function(value,name){// Get the filter field according to the filterName if specified,\n// otherwise just the name\nvar ff=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.find(filterFields,{filterName:name})||filterFields[name];// If we have a filterValue function then use that as the value for the check\nvar val=function val(dataVal){return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(dataVal,name);};if(typeof ff.filterValue===\"function\"){val=ff.filterValue;}// If it is an array then we need to check if the value is in the array\nif(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.isArray(value)){if(value.length===0)return;checks.push(function(dataVal){var v=val(dataVal);return value.indexOf(v)>=0;});}// Otherwise just use a normal regex check \nelse{checks.push(function(dataVal){return new RegExp(value,\"i\").test(val(dataVal));});}});regsValid=true;}catch(e){}// Filter out the values according to the filters\n// If the regex isn't valid then we don't want to filter\nvar list=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.filter(this.props.list,function(data){return!regsValid||__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.every(checks,function(check){return check(data);});});// Check how many columns we need for the create and filter form\nvar cols=this.props.createTitle&&this.props.filterTitle?2:1;// Wrap the provided actions if we have any\nvar origActions=this.props.actions;var actions=origActions;if(typeof origActions===\"function\"){actions=function actions(obj,tableRef){return origActions(obj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},tableRef,thisRef));};}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"t\" /* Segment */],{basic:true},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"f\" /* Grid */],{stackable:true,doubling:true,columns:cols},this.props.createTitle&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"f\" /* Grid */].Column,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__CreateForm__[\"a\" /* default */],{title:this.props.createTitle,button:this.props.createButton,fields:createFields,creating:this.props.creating,onCreate:function onCreate(obj,view){return _this2.props.onCreate?_this2.props.onCreate(obj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},thisRef,view)):_this2.create(obj);}})),this.props.filterTitle&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"f\" /* Grid */].Column,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__FilterForm__[\"a\" /* default */],{title:this.props.filterTitle,fields:filterFields,valid:regsValid,values:this.props.filter,onFilterChange:this.props.setFilter}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__DataTable__[\"a\" /* default */],{title:this.props.title,icon:this.props.icon,list:list,idFunc:this.props.idFunc,columns:columns,onEdit:function onEdit(obj,view){return _this2.props.onEdit?_this2.props.onEdit(obj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},thisRef,view)):_this2.edit(obj);},onSave:function onSave(obj,newObj,view){return _this2.props.onSave?_this2.props.onSave(obj,newObj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},thisRef,view)):_this2.save(obj,newObj);},onDelete:function onDelete(obj,view){return _this2.props.onDelete?_this2.props.onDelete(obj,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},thisRef,view)):_this2.delete(obj);},canEdit:this.props.canEdit,canDelete:this.props.canDelete,actions:actions,isEditing:function isEditing(obj){return _this2.props.equals(obj,_this2.state.data);}}));}}]);return DataView;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(endpoint,id){return function(_state){var state=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(_state,endpoint.replace(/\\//g,\".\"));return{creating:state?state.creating:false,filter:state&&state.filter?state.filter:{},list:state?state.list:[],types:_state.api.types,idFunc:id};};};var mapDispatchToProps=function mapDispatchToProps(endpoint,id,noDetails){return function(dispatch){return{requestList:function requestList(){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"p\" /* requestList */])(endpoint,!noDetails));},requestDetails:function requestDetails(data){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"o\" /* requestDetails */])(endpoint,id,data));},requestCreate:function requestCreate(data){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"m\" /* requestCreate */])(endpoint,data));},requestChange:function requestChange(data,newData){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"l\" /* requestChange */])(endpoint,id,data,newData));},requestDelete:function requestDelete(data){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"n\" /* requestDelete */])(endpoint,id,data));},setFilter:function setFilter(filter,value){return dispatch(Object(__WEBPACK_IMPORTED_MODULE_7__actions_dataview__[\"q\" /* setFilter */])(endpoint,filter,value));},equals:function equals(o1,o2){return o1!=null&&o2!=null&&id(o1)===id(o2);}};};};/* harmony default export */ __webpack_exports__[\"a\"] = (function(endpoint,objId,noDetails){if(!objId)objId=\"id\";var id=typeof objId===\"function\"?objId:function(data){return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(data,objId);};return Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(mapStateToProps(endpoint,id),mapDispatchToProps(endpoint,id,noDetails))(DataView);});\n\n/***/ }),\n\n/***/ 935:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Util__ = __webpack_require__(931);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ITEMS_PER_PAGE=20;var DataTable=function(_Component){_inherits(DataTable,_Component);function DataTable(props){_classCallCheck(this,DataTable);var _this=_possibleConstructorReturn(this,(DataTable.__proto__||Object.getPrototypeOf(DataTable)).call(this,props));_this.state={page:0,newData:{}};_this.changePage=_this.changePage.bind(_this);_this.doHandleChange=_this.doHandleChange.bind(_this);_this.handleChange=__WEBPACK_IMPORTED_MODULE_4__Util__[\"b\" /* handleChange */].bind(_this,_this.doHandleChange);return _this;}_createClass(DataTable,[{key:\"doHandleChange\",value:function doHandleChange(key,value){this.setState({newData:__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},this.state.newData,_defineProperty({},key,value))});}},{key:\"changePage\",value:function changePage(event,page){event.preventDefault();this.setState({page:page});}},{key:\"onEdit\",value:function onEdit(obj,view){var newData={};if(obj){__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.each(this.props.columns,function(col,name){if(!col.edit)return;newData[name]=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(obj,name);});}this.setState({newData:newData});this.props.onEdit(obj,view);}},{key:\"render\",value:function render(){var _this2=this;var _props=this.props,icon=_props.icon,title=_props.title,list=_props.list,canEdit=_props.canEdit,canDelete=_props.canDelete,actions=_props.actions;var columns=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.filter(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(this.props.columns,function(col,name){var newCol={name:name,view:true};if(typeof col===\"string\"){newCol.label=col;}else if(typeof col===\"function\"){newCol.view=col;}else{__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign(newCol,col);}return newCol;}),\"view\");var maxPage=Math.ceil(list.length/ITEMS_PER_PAGE);var page=Math.min(this.state.page,maxPage-1);var listPage=list.slice(page*ITEMS_PER_PAGE,(page+1)*ITEMS_PER_PAGE);var thisRef={handleChange:this.handleChange,state:this.state.newData,setState:function setState(changes){return _this2.setState({newData:__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},_this2.state.newData,changes)});}};var _t=this.props.t;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{style:{marginTop:\"2em\"}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"g\" /* Header */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{fitted:true,name:icon}),\" \",title),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */],{striped:true,stackable:true},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Header,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Row,null,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(columns,function(col,i){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].HeaderCell,{key:i},col.label?col.label:\"<\"+col.name+\">\");}),actions||canEdit||canDelete?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].HeaderCell,null,_t(\"Actions\")):null)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Body,null,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(listPage,function(obj,i){var editing=_this2.props.isEditing(obj);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Row,{key:_this2.props.idFunc(obj)},__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(columns,function(col,j){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Cell,{key:j,collapsing:!col.wide},col.edit&&editing?typeof col.edit===\"function\"?col.edit(obj,thisRef):_this2.renderEdit(obj,col):typeof col.view===\"function\"?col.view(obj,thisRef):__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(obj,col.name));}),actions||canEdit||canDelete?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Cell,{collapsing:true},canEdit&&editing?[__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */],{key:\"save\",color:\"green\",disabled:obj.updating,loading:obj.updating,onClick:function onClick(){return _this2.props.onSave(obj,_this2.state.newData,thisRef);}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{name:\"save\"}),\" \",_t(\"Save\")),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */],{key:\"cancel\",color:\"yellow\",disabled:obj.updating,loading:obj.updating,onClick:function onClick(){return _this2.onEdit(null,thisRef);}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{name:\"cancel\"}),\" \",_t(\"Cancel\"))]:canEdit?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */],{color:\"blue\",disabled:obj.updating,loading:obj.updating,onClick:function onClick(){return _this2.onEdit(obj,thisRef);}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{name:\"edit\"}),\" \",_t(\"Edit\")):null,canDelete&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */],{color:\"red\",disabled:obj.updating,loading:obj.updating,onClick:function onClick(){return _this2.props.onDelete(obj,thisRef);}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{name:\"trash\"}),\" \",_t(\"Remove\")),actions&&actions(obj,thisRef)):null);}))),maxPage>1?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */],{pagination:true},page>4?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item,{onClick:function onClick(e){return _this2.changePage(e,0);}},\"1\"):null,page>5?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item,{onClick:function onClick(e){return _this2.changePage(e,page-5);}},\"...\"):null,__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.range(Math.max(0,page-4),Math.min(maxPage,page+5)),function(p){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item,{key:p,onClick:function onClick(e){return _this2.changePage(e,p);},active:p===page},p+1);}),page<maxPage-6?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item,{onClick:function onClick(e){return _this2.changePage(e,page+5);}},\"...\"):null,page<maxPage-5?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item,{onClick:function onClick(e){return _this2.changePage(e,maxPage-1);}},maxPage):null):null);}},{key:\"renderEdit\",value:function renderEdit(obj,col){if(col.options){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Field,{fluid:true,selection:true,search:true,control:__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"d\" /* Dropdown */],name:col.name,placeholder:col.label,options:col.options,value:this.state.newData[col.name],onChange:this.handleChange});}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Input,{name:col.name,type:col.type?col.type:\"text\",placeholder:col.label,value:this.state.newData[col.name],onChange:this.handleChange});}}]);return DataTable;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"DataTable\")(DataTable));\n\n/***/ }),\n\n/***/ 936:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Util__ = __webpack_require__(931);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FilterForm=function(_Component){_inherits(FilterForm,_Component);function FilterForm(props){_classCallCheck(this,FilterForm);var _this=_possibleConstructorReturn(this,(FilterForm.__proto__||Object.getPrototypeOf(FilterForm)).call(this,props));_this.handleChange=__WEBPACK_IMPORTED_MODULE_3__Util__[\"b\" /* handleChange */].bind(_this,_this.props.onFilterChange);return _this;}_createClass(FilterForm,[{key:\"render\",value:function render(){var _this2=this;var _props=this.props,title=_props.title,fields=_props.fields,values=_props.values,valid=_props.valid;var fieldGroups=[];__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(fields,function(field,name){var newField={name:field.filterName?field.filterName:name};if(typeof field===\"string\"){newField.label=field;}else{__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.assign(newField,field);}if(newField.isGroup){fieldGroups.push({only:newField,second:true});}else if(fieldGroups.length&&!fieldGroups[fieldGroups.length-1].second){fieldGroups[fieldGroups.length-1].second=newField;}else{fieldGroups.push({first:newField});}});return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"t\" /* Segment */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"g\" /* Header */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{name:\"filter\",fitted:true}),\" \",title),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */],null,__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(fieldGroups,function(fg,i){if(fg.only){return _this2.renderField(fg.only,__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.get(values,fg.only.name),!valid);}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Group,{key:i,widths:\"equal\"},fg.first&&_this2.renderField(fg.first,__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.get(values,fg.first.name),!valid),fg.second&&_this2.renderField(fg.second,__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.get(values,fg.second.name),!valid));}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"o\" /* Message */],{error:true,visible:!valid,content:\"Search term must be a valid regex\"})));}},{key:\"renderField\",value:function renderField(field,value,error){if(typeof field.filter===\"function\"){return field.filter({handleChange:this.handleChange,state:this.props.values,value:value});}if(field.options){if(!value)value=[];return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Field,{fluid:true,selection:true,search:true,multiple:true,control:__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"d\" /* Dropdown */],name:field.name,label:field.label,placeholder:field.label,options:field.options,value:value,error:error,onChange:this.handleChange});}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Input,{name:field.name,type:field.type?field.type:\"text\",label:field.label,placeholder:field.label,value:value,error:error,onChange:this.handleChange});}}]);return FilterForm;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (FilterForm);\n\n/***/ }),\n\n/***/ 937:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Util__ = __webpack_require__(931);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CreateForm=function(_Component){_inherits(CreateForm,_Component);function CreateForm(props){_classCallCheck(this,CreateForm);var _this=_possibleConstructorReturn(this,(CreateForm.__proto__||Object.getPrototypeOf(CreateForm)).call(this,props));_this.state={newData:{}};_this.doHandleChange=_this.doHandleChange.bind(_this);_this.handleChange=__WEBPACK_IMPORTED_MODULE_4__Util__[\"b\" /* handleChange */].bind(_this,_this.doHandleChange);_this.create=_this.create.bind(_this);return _this;}_createClass(CreateForm,[{key:\"doHandleChange\",value:function doHandleChange(key,value){this.setState({newData:__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign({},this.state.newData,_defineProperty({},key,value))});}},{key:\"create\",value:function create(){var data={};__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.each(this.state.newData,function(value,name){return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.set(data,name,value);});this.props.onCreate(data,{handleChange:this.handleChange,state:this.state.newData});}},{key:\"canCreate\",value:function canCreate(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.every(this.props.fields,function(field,name){var key=field.createName?field.createName:name;return typeof field===\"string\"||!field.required||_this2.state.newData[key];});}},{key:\"render\",value:function render(){var _this3=this;var _props=this.props,title=_props.title,creating=_props.creating,fields=_props.fields;var _t=this.props.t;var fieldGroups=[];__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.each(fields,function(field,name){var newField={name:field.createName?field.createName:name};if(typeof field===\"string\"){newField.label=field;}else{__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.assign(newField,field);}if(newField.isGroup){fieldGroups.push({only:newField,second:true});}else if(fieldGroups.length&&!fieldGroups[fieldGroups.length-1].second){fieldGroups[fieldGroups.length-1].second=newField;}else{fieldGroups.push({first:newField});}});return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"t\" /* Segment */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"g\" /* Header */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */],{fitted:true,name:\"plus\"}),\" \",title),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */],{loading:creating},__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(fieldGroups,function(fg,i){if(fg.only){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{key:i},_this3.renderField(fg.only));}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Group,{key:i,widths:\"equal\"},fg.first&&_this3.renderField(fg.first),fg.second&&_this3.renderField(fg.second));}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */],{color:\"green\",onClick:this.create,disabled:!this.canCreate()},this.props.button||_t(\"Create\"))));}},{key:\"renderField\",value:function renderField(field){var state=this.state.newData;if(typeof field.create===\"function\"){return field.create({handleChange:this.handleChange,state:state,value:state[field.name]});}if(field.options){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Field,{fluid:true,selection:true,search:true,required:field.required,control:__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"d\" /* Dropdown */],name:field.name,label:field.label,placeholder:field.label,onChange:this.handleChange,value:state[field.name],options:field.options});}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Input,{required:field.required,type:field.type?field.type:\"text\",name:field.name,label:field.label,placeholder:field.label,onChange:this.handleChange,value:state[field.name]});}}]);return CreateForm;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"CreateForm\")(CreateForm));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/14.1fd1d1b8.chunk.js","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Form, Label, Button, Progress, Icon } from \"semantic-ui-react\"\nimport { translate } from \"react-i18next\"\nimport _ from \"lodash\"\n\nimport { formatRange } from \"../../components/Util\"\nimport { requestCatalog } from \"../../actions\"\nimport { requestList } from \"../../actions/dataview\"\n\nimport DataViewFunc from \"../../components/DataView\"\nconst DataView = DataViewFunc(\"entity\", \"uuid\")\n\nconst ENT_TYPES = \"entity.EntityType\"\n\n\nclass Entities extends Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.requestWorlds();\n\t\tthis.props.requestCatalog(ENT_TYPES);\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\treturn <DataView\n\t\t\tcanDelete\n\t\t\ticon=\"paw\"\n\t\t\ttitle={_t(\"Entities\")}\n\t\t\tfilterTitle={_t(\"FilterEntities\")}\n\t\t\tcreateTitle={_t(\"SpawnEntity\")}\n\t\t\tfields={{\n\t\t\t\t\"type.name\": {\n\t\t\t\t\tlabel: _t(\"Type\"),\n\t\t\t\t\tcreate: true,\n\t\t\t\t\tfilter: true,\n\t\t\t\t\tfilterName: \"type.id\",\n\t\t\t\t\tview: entity => entity.type.name,\n\t\t\t\t\toptions: _.map(this.props.entTypes, type => \n\t\t\t\t\t\t({\n\t\t\t\t\t\t\tvalue: type.id,\n\t\t\t\t\t\t\ttext: type.name + \" (\" + type.id + \")\"\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tworld: {\n\t\t\t\t\tlabel: _t(\"World\"),\n\t\t\t\t\tview: false,\n\t\t\t\t\tcreate: true,\n\t\t\t\t\tfilter: true,\n\t\t\t\t\tfilterName: \"location.world.uuid\",\n\t\t\t\t\toptions: _.map(this.props.worlds, world => \n\t\t\t\t\t\t({\n\t\t\t\t\t\t\tvalue: world.uuid,\n\t\t\t\t\t\t\ttext: world.name + \" (\" + world.dimensionType.name + \")\"\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\tposition: {\n\t\t\t\t\tlabel: _t(\"Location\"),\n\t\t\t\t\tisGroup: true,\n\t\t\t\t\tview: (entity) =>\n\t\t\t\t\t\t<Button color=\"blue\">\n\t\t\t\t\t\t\t<Icon name=\"globe\" />\n\t\t\t\t\t\t\t{entity.location.world.name}&nbsp; &nbsp;\n\t\t\t\t\t\t\t{entity.location.position.x.toFixed(0)} |&nbsp;\n\t\t\t\t\t\t\t{entity.location.position.y.toFixed(0)} |&nbsp;\n\t\t\t\t\t\t\t{entity.location.position.z.toFixed(0)}\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\tcreate: (view) =>\n\t\t\t\t\t\t<Form.Group inline>\n\t\t\t\t\t\t\t<label>{_t(\"Position\")}</label>\n\t\t\t\t\t\t\t<Form.Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\twidth={6}\n\t\t\t\t\t\t\t\tname=\"position.x\"\n\t\t\t\t\t\t\t\tplaceholder=\"X\"\n\t\t\t\t\t\t\t\tvalue={view.state[\"position.x\"]}\n\t\t\t\t\t\t\t\tonChange={view.handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\twidth={6}\n\t\t\t\t\t\t\t\tname=\"position.y\"\n\t\t\t\t\t\t\t\tplaceholder=\"Y\"\n\t\t\t\t\t\t\t\tvalue={view.state[\"position.y\"]}\n\t\t\t\t\t\t\t\tonChange={view.handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\twidth={6}\n\t\t\t\t\t\t\t\tname=\"position.z\"\n\t\t\t\t\t\t\t\tplaceholder=\"Z\"\n\t\t\t\t\t\t\t\tvalue={view.state[\"position.z\"]}\n\t\t\t\t\t\t\t\tonChange={view.handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>,\n\t\t\t\t},\n\t\t\t\thealth: {\n\t\t\t\t\tlabel: _t(\"Health\"),\n\t\t\t\t\twide: true,\n\t\t\t\t\tview: (entity) => {\n\t\t\t\t\t\tif (!entity.health) return;\n\t\t\t\t\t\treturn <Progress\n\t\t\t\t\t\t\tprogress\n\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\tpercent={formatRange(entity.health.current, entity.health.max)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tinfo: {\n\t\t\t\t\tlabel: _t(\"Info\"),\n\t\t\t\t\twide: true,\n\t\t\t\t\tview: (entity) =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{entity.aiEnabled &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"AI\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.age &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Age\")}\n\t\t\t\t\t\t\t\t\t<Label.Detail>\n\t\t\t\t\t\t\t\t\t\t{entity.age.adult ? _t(\"Adult\") : entity.age.age}\n\t\t\t\t\t\t\t\t\t</Label.Detail>\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.breedable &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Breedable\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.career &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Career\")}\n\t\t\t\t\t\t\t\t\t<Label.Detail>{entity.career.name}</Label.Detail>\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.flying &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Flying\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.glowing &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Glowing\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.silent &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Silent\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.sneaking &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Sneaking\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t{entity.sprinting &&\n\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t{_t(\"Sprinting\")}\n\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t</div>,\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t}\n}\n\nconst mapStateToProps = (_state) => {\n\treturn {\n\t\tworlds: _state.world.list,\n\t\tentTypes: _state.api.types[ENT_TYPES],\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\trequestWorlds: () => dispatch(requestList(\"world\", true)),\n\t\trequestCatalog: type => dispatch(requestCatalog(type)),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(translate(\"Entities\")(Entities));\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Entities/index.js","\nexport function formatRange(current, max, a = 1) {\n\tconst acc = Math.pow(10, a);\n\treturn Math.round((current / max) * 100 * acc) / acc;\n}\n\nexport function handleChange(setState, event, data) {\n\tlet value = null;\n\tlet name = null;\n\n\tif (data) {\n\t\tname = data.name ? data.name : data.id;\n\t\tvalue = data.type === \"checkbox\" ? data.checked : data.value;\n\t\tif (data.type === \"number\") {\n\t\t\tconst floatVal = parseFloat(value);\n\t\t\tvalue = isNaN(floatVal) ? \"\" : floatVal;\n\t\t}\n\t} else {\n\t\tconst target = event.target;\n\t\tvalue = target.type === \"checkbox\" ? target.checked : target.value;\n\t\tif (target.type === \"number\") {\n\t\t\tconst floatVal = parseFloat(value);\n\t\t\tvalue = isNaN(floatVal) ? \"\" : floatVal;\n\t\t}\n\t\tname = target.name ? target.name : target.id;\n\t}\n\n\tif (!setState) {\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t})\n\t} else {\n\t\tsetState(name, value)\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Util/index.js","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport {\n\tSegment, Grid,\n} from \"semantic-ui-react\"\nimport _ from \"lodash\"\n\nimport DataTable from \"../DataTable\"\nimport FilterForm from \"../FilterForm\"\nimport CreateForm from \"../CreateForm\"\n\nimport {\n\tsetFilter,\n\trequestList,\n\trequestDetails,\n\trequestCreate,\n\trequestChange,\n\trequestDelete,\n} from \"../../actions/dataview\"\n\n\nclass DataView extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tdata: null,\n\t\t}\n\n\t\tthis.details = this.details.bind(this)\n\t\tthis.create = this.create.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.requestList()\n\n\t\tthis.interval = setInterval(this.props.requestList, 10000);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.filter !== this.props.filter ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.data !== this.state.data;\n\t}\n\n\t// Create a new data entry\n\tcreate(data) {\n\t\tthis.props.requestCreate(data)\n\t}\n\n\t// Get the details for a data entry\n\tdetails(data) {\n\t\tthis.props.requestDetails(data)\n\t}\n\n\t// Select a data entry for editing\n\tedit(data) {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t})\n\t}\n\n\t// Save/Update an existing data entry\n\tsave(data, newData) {\n\t\tthis.props.requestChange(data, newData)\n\t\tthis.setState({\n\t\t\tdata: null,\n\t\t})\n\t}\n\n\t// Delete a data entry\n\tdelete(data) {\n\t\tthis.props.requestDelete(data);\n\t}\n\n\trender() {\n\t\tconst checks = [];\n\t\tlet regsValid = false;\n\n\t\t// Reference that we pass to our various functions\n\t\tconst thisRef = {\n\t\t\tcreate: this.create,\n\t\t\tdetails: this.details,\n\t\t\tsave: this.save,\n\t\t\tedit: this.edit,\n\t\t\tdelete: this.delete,\n\t\t};\n\n\t\t// Get all the columns of the table\n\t\tconst columns = _.mapValues(this.props.fields, (value, name) => {\n\t\t\tlet newValue = null;\n\n\t\t\t// If the column is a function, use that function to display the cell\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tnewValue = (obj, tableRef) => value(obj, _.assign({}, tableRef, thisRef))\n\t\t\t} \n\t\t\t// else if the column provides a view function then use that to display the cell\n\t\t\telse if (typeof value.view === \"function\") {\n\t\t\t\tnewValue = _.assign({}, value, {\n\t\t\t\t\tview: (obj, tableRef) => value.view(obj, _.assign({}, tableRef, thisRef)),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn newValue ? newValue : value;\n\t\t});\n\t\t// Get all the fields for the create form\n\t\tconst createFields = _.pickBy(this.props.fields, \"create\")\n\t\t// Get all the fields for the filter form\n\t\tconst filterFields = _.pickBy(this.props.fields, \"filter\")\n\n\t\ttry {\n\t\t\t_.each(this.props.filter, (value, name) => {\n\t\t\t\t// Get the filter field according to the filterName if specified,\n\t\t\t\t// otherwise just the name\n\t\t\t\tconst ff = _.find(filterFields, { filterName: name }) || filterFields[name];\n\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\n\t\t\t\tlet val = dataVal => _.get(dataVal, name)\n\t\t\t\tif (typeof ff.filterValue === \"function\") {\n\t\t\t\t\tval = ff.filterValue\n\t\t\t\t} \n\n\t\t\t\t// If it is an array then we need to check if the value is in the array\n\t\t\t\tif (_.isArray(value)) {\n\t\t\t\t\tif (value.length === 0) return;\n\t\t\t\t\tchecks.push(dataVal => {\n\t\t\t\t\t\tconst v = val(dataVal);\n\t\t\t\t\t\treturn value.indexOf(v) >= 0\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// Otherwise just use a normal regex check \n\t\t\t\telse {\n\t\t\t\t\tchecks.push(dataVal => (new RegExp(value, \"i\")).test(val(dataVal)))\n\t\t\t\t}\n\t\t\t})\n\t\t\tregsValid = true;\n\t\t} catch (e) {}\n\n\t\t// Filter out the values according to the filters\n\t\t// If the regex isn't valid then we don't want to filter\n\t\tconst list = _.filter(this.props.list, data => {\n\t\t\treturn !regsValid || _.every(checks, check => check(data))\n\t\t});\n\n\t\t// Check how many columns we need for the create and filter form\n\t\tconst cols = this.props.createTitle && this.props.filterTitle ? 2 : 1;\n\n\t\t// Wrap the provided actions if we have any\n\t\tconst origActions = this.props.actions\n\t\tlet actions = origActions;\n\t\tif (typeof origActions === \"function\") {\n\t\t\tactions = (obj, tableRef) => origActions(obj, _.assign({}, tableRef, thisRef))\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<Segment basic>\n\n\t\t\t\t<Grid stackable doubling columns={cols}>\n\t\t\t\t\t{this.props.createTitle && \n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<CreateForm\n\t\t\t\t\t\t\t\ttitle={this.props.createTitle}\n\t\t\t\t\t\t\t\tbutton={this.props.createButton}\n\t\t\t\t\t\t\t\tfields={createFields}\n\t\t\t\t\t\t\t\tcreating={this.props.creating}\n\t\t\t\t\t\t\t\tonCreate={(obj, view) =>\n\t\t\t\t\t\t\t\t\tthis.props.onCreate ?\n\t\t\t\t\t\t\t\t\t\tthis.props.onCreate(obj, _.assign({}, thisRef, view))\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tthis.create(obj)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.props.filterTitle && \n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<FilterForm\n\t\t\t\t\t\t\t\ttitle={this.props.filterTitle}\n\t\t\t\t\t\t\t\tfields={filterFields}\n\t\t\t\t\t\t\t\tvalid={regsValid}\n\t\t\t\t\t\t\t\tvalues={this.props.filter}\n\t\t\t\t\t\t\t\tonFilterChange={this.props.setFilter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<DataTable\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tidFunc={this.props.idFunc}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\tonEdit={(obj, view) => \n\t\t\t\t\t\tthis.props.onEdit ? \n\t\t\t\t\t\t\tthis.props.onEdit(obj, _.assign({}, thisRef, view)) \n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.edit(obj)\n\t\t\t\t\t}\n\t\t\t\t\tonSave={(obj, newObj, view) =>\n\t\t\t\t\t\tthis.props.onSave ?\n\t\t\t\t\t\t\tthis.props.onSave(obj, newObj, _.assign({}, thisRef, view))\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.save(obj, newObj)\n\t\t\t\t\t}\n\t\t\t\t\tonDelete={(obj, view) => \n\t\t\t\t\t\tthis.props.onDelete ?\n\t\t\t\t\t\t\tthis.props.onDelete(obj, _.assign({}, thisRef, view))\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.delete(obj)\n\t\t\t\t\t}\n\t\t\t\t\tcanEdit={this.props.canEdit}\n\t\t\t\t\tcanDelete={this.props.canDelete}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tisEditing={obj => this.props.equals(obj, this.state.data)}\n\t\t\t\t/>\n\n\t\t\t</Segment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (endpoint, id) => (_state) => {\n\tconst state = _.get(_state, endpoint.replace(/\\//g, \".\"));\n\n\treturn {\n\t\tcreating: state ? state.creating : false,\n\t\tfilter: state && state.filter ? state.filter : {},\n\t\tlist: state ? state.list : [],\n\t\ttypes: _state.api.types,\n\t\tidFunc: id,\n\t}\n}\n\nconst mapDispatchToProps = (endpoint, id, noDetails) => (dispatch) => {\n\treturn {\n\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\n\t\trequestDetails: (data) => dispatch(requestDetails(endpoint, id, data)),\n\t\trequestCreate: (data) => dispatch(requestCreate(endpoint, data)),\n\t\trequestChange: (data, newData) => dispatch(requestChange(endpoint, id, data, newData)),\n\t\trequestDelete: (data) => dispatch(requestDelete(endpoint, id, data)),\n\t\tsetFilter: (filter, value) => dispatch(setFilter(endpoint, filter, value)),\n\t\tequals: (o1, o2) => o1 != null && o2 != null && id(o1) === id(o2),\n\t}\n}\n\nexport default (endpoint, objId, noDetails) => {\n\tif (!objId) objId = \"id\";\n\tconst id = typeof objId === \"function\" ? objId : data => _.get(data, objId);\n\n\treturn connect(\n\t\tmapStateToProps(endpoint, id), \n\t\tmapDispatchToProps(endpoint, id, noDetails)\n\t)(DataView);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.js","import React, { Component } from \"react\"\nimport { Form, Dropdown, Header, Table, Menu, Icon, Button } from \"semantic-ui-react\"\nimport { translate } from \"react-i18next\"\nimport _ from \"lodash\"\n\nimport { handleChange } from \"../Util\"\n\nconst ITEMS_PER_PAGE = 20\n\n\nclass DataTable extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key, value) {\n\t\tthis.setState({\n\t\t\tnewData: _.assign({}, this.state.newData, {\n\t\t\t\t[key]: value\n\t\t\t})\n\t\t})\n\t}\n\n\tchangePage(event, page) {\n\t\tevent.preventDefault();\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj, view) {\n\t\tconst newData = {};\n\t\tif (obj) {\n\t\t\t_.each(this.props.columns, (col, name) => {\n\t\t\t\tif (!col.edit) return;\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tthis.props.onEdit(obj, view)\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst columns = _.filter(_.map(this.props.columns, (col, name) => {\n\t\t\tconst newCol = {\n\t\t\t\tname: name,\n\t\t\t\tview: true,\n\t\t\t};\n\t\t\tif (typeof col === \"string\") {\n\t\t\t\tnewCol.label = col;\n\t\t\t} else if (typeof col === \"function\") {\n\t\t\t\tnewCol.view = col;\n\t\t\t} else {\n\t\t\t\t_.assign(newCol, col);\n\t\t\t}\n\n\t\t\treturn newCol;\n\t\t}), \"view\");\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE);\n\t\tconst page = Math.min(this.state.page, maxPage - 1);\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE);\n\n\t\tconst thisRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes) => this.setState({\n\t\t\t\tnewData: _.assign({}, this.state.newData, changes)\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn <div style={{marginTop: \"2em\"}}>\n\t\t\t<Header>\n\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t</Header>\n\n\t\t\t<Table striped={true} stackable>\n\t\t\t\t<Table.Header>\n\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t{_.map(columns, (col, i) => \n\t\t\t\t\t\t\t<Table.HeaderCell key={i}>\n\t\t\t\t\t\t\t\t{col.label ? col.label : \"<\" + col.name + \">\"}\n\t\t\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{actions || canEdit || canDelete ? \n\t\t\t\t\t\t\t<Table.HeaderCell>{_t(\"Actions\")}</Table.HeaderCell> \n\t\t\t\t\t\t: null}\n\t\t\t\t\t</Table.Row>\n\t\t\t\t</Table.Header>\n\t\t\t\t<Table.Body>\n\t\t\t\t\t{_.map(listPage, (obj, i) => {\n\t\t\t\t\t\tconst editing = this.props.isEditing(obj);\n\n\t\t\t\t\t\treturn <Table.Row key={this.props.idFunc(obj)}>\n\t\t\t\t\t\t\t{_.map(columns, (col, j) => \n\t\t\t\t\t\t\t\t<Table.Cell key={j} collapsing={!col.wide}>\n\t\t\t\t\t\t\t\t\t{col.edit && editing ?\n\t\t\t\t\t\t\t\t\t\t(typeof col.edit === \"function\" ? \n\t\t\t\t\t\t\t\t\t\t\tcol.edit(obj, thisRef)\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\tthis.renderEdit(obj, col)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t(typeof col.view === \"function\" ?\n\t\t\t\t\t\t\t\t\t\t\tcol.view(obj, thisRef)\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t_.get(obj, col.name)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{actions || canEdit || canDelete ?\n\t\t\t\t\t\t\t\t<Table.Cell collapsing>\n\t\t\t\t\t\t\t\t\t{canEdit && editing ?\n\t\t\t\t\t\t\t\t\t\t[<Button\n\t\t\t\t\t\t\t\t\t\t\tkey=\"save\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tloading={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.onSave(obj, this.state.newData, thisRef)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {_t(\"Save\")}\n\t\t\t\t\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tkey=\"cancel\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"yellow\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tloading={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onEdit(null, thisRef)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {_t(\"Cancel\")}\n\t\t\t\t\t\t\t\t\t\t</Button>]\n\t\t\t\t\t\t\t\t\t: canEdit ?\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"blue\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tloading={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onEdit(obj, thisRef)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {_t(\"Edit\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t\t\t{canDelete &&\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tloading={obj.updating}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.onDelete(obj, thisRef)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {_t(\"Remove\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{actions && actions(obj, thisRef)}\n\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t})}\n\t\t\t\t</Table.Body>\n\t\t\t</Table>\n\t\t\t{ maxPage > 1 ?\n\t\t\t\t<Menu pagination>\n\t\t\t\t\t{ page > 4 ?\n\t\t\t\t\t\t<Menu.Item onClick={e => this.changePage(e, 0)}>\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t: null }\n\t\t\t\t\t{ page > 5 ?\n\t\t\t\t\t\t<Menu.Item onClick={e => this.changePage(e, page - 5)}>\n\t\t\t\t\t\t\t...\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t: null }\n\t\t\t\t\t{ _.map(_.range(Math.max(0, page - 4), Math.min(maxPage, page + 5)), p => (\n\t\t\t\t\t\t<Menu.Item key={p} onClick={e => this.changePage(e, p)} active={p === page}>\n\t\t\t\t\t\t\t{p + 1}\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t))}\n\t\t\t\t\t{ page < maxPage - 6 ?\n\t\t\t\t\t\t<Menu.Item onClick={e => this.changePage(e, page + 5)}>\n\t\t\t\t\t\t\t...\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t: null }\n\t\t\t\t\t{ page < maxPage - 5 ?\n\t\t\t\t\t\t<Menu.Item onClick={e => this.changePage(e, maxPage - 1)}>\n\t\t\t\t\t\t\t{maxPage}\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t: null }\n\t\t\t\t</Menu>\n\t\t\t: null }\n\t\t</div>\n\t}\n\n\trenderEdit(obj, col) {\n\t\tif (col.options) {\n\t\t\treturn <Form.Field\n\t\t\t\tfluid selection search\n\t\t\t\tcontrol={Dropdown}\n\t\t\t\tname={col.name}\n\t\t\t\tplaceholder={col.label}\n\t\t\t\toptions={col.options}\n\t\t\t\tvalue={this.state.newData[col.name]}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t}\n\n\t\treturn <Form.Input\n\t\t\tname={col.name}\n\t\t\ttype={col.type ? col.type : \"text\"}\n\t\t\tplaceholder={col.label}\n\t\t\tvalue={this.state.newData[col.name]}\n\t\t\tonChange={this.handleChange}\n\t\t/>\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.js","import React, { Component } from \"react\"\nimport { Segment, Header, Form, Icon, Dropdown, Message } from \"semantic-ui-react\"\nimport _ from \"lodash\"\n\nimport { handleChange } from \"../Util\"\n\n\nclass FilterForm extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange)\n\t}\n\n\trender() {\n\t\tconst { title, fields, values, valid } = this.props;\n\t\t\n\t\tconst fieldGroups = [];\n\t\t_.each(fields, (field, name) => {\n\t\t\tconst newField = {\n\t\t\t\tname: field.filterName ? field.filterName : name,\n\t\t\t};\n\t\t\tif (typeof field === \"string\") {\n\t\t\t\tnewField.label = field;\n\t\t\t} else {\n\t\t\t\t_.assign(newField, field);\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField, second: true })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField;\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn <Segment>\n\t\t\t<Header>\n\t\t\t\t<Icon name=\"filter\" fitted /> {title}\n\t\t\t</Header>\n\n\t\t\t<Form>\n\t\t\t\t{_.map(fieldGroups, (fg, i) => {\n\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\tthis.renderField(fg.first, _.get(values, fg.first.name), !valid)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\tthis.renderField(fg.second, _.get(values, fg.second.name), !valid)\n\t\t\t\t\t\t}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t})}\n\t\t\t\t<Message\n\t\t\t\t\terror\n\t\t\t\t\tvisible={!valid}\n\t\t\t\t\tcontent=\"Search term must be a valid regex\"\n\t\t\t\t/>\n\t\t\t</Form>\n\t\t</Segment>\n\t}\n\n\trenderField(field, value, error) {\n\t\tif (typeof field.filter === \"function\") {\n\t\t\treturn field.filter({\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tstate: this.props.values,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\tif (!value) value = [];\n\t\t\t\n\t\t\treturn <Form.Field\n\t\t\t\tfluid selection search multiple\n\t\t\t\tcontrol={Dropdown}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\toptions={field.options}\n\t\t\t\tvalue={value}\n\t\t\t\terror={error}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t}\n\n\t\treturn <Form.Input\n\t\t\tname={field.name}\n\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\tlabel={field.label}\n\t\t\tplaceholder={field.label}\n\t\t\tvalue={value}\n\t\t\terror={error}\n\t\t\tonChange={this.handleChange}\n\t\t/>\n\t}\n}\n\nexport default FilterForm\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.js","import React, { Component } from \"react\"\nimport { Segment, Header, Form, Icon, Dropdown, Button } from \"semantic-ui-react\"\nimport { translate } from \"react-i18next\"\nimport _ from \"lodash\"\n\nimport { handleChange } from \"../Util\"\n\n\nclass CreateForm extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tnewData: {},\n\t\t};\n\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t\tthis.create = this.create.bind(this)\n\t}\n\n\tdoHandleChange(key, value) {\n\t\tthis.setState({\n\t\t\tnewData: _.assign({}, this.state.newData, {\n\t\t\t\t[key]: value\n\t\t\t})\n\t\t})\n\t}\n\n\tcreate() {\n\t\tconst data = {};\n\t\t_.each(this.state.newData, (value, name) => _.set(data, name, value))\n\t\t\n\t\tthis.props.onCreate(data, {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t})\n\t}\n\n\tcanCreate() {\n\t\treturn _.every(this.props.fields, (field, name) => {\n\t\t\tconst key = field.createName ? field.createName : name;\n\t\t\treturn typeof field === \"string\" || !field.required || this.state.newData[key]\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { title, creating, fields } = this.props;\n\n\t\tconst _t = this.props.t\n\n\t\tconst fieldGroups = [];\n\t\t_.each(fields, (field, name) => {\n\t\t\tconst newField = {\n\t\t\t\tname: field.createName ? field.createName : name,\n\t\t\t};\n\t\t\tif (typeof field === \"string\") {\n\t\t\t\tnewField.label = field;\n\t\t\t} else {\n\t\t\t\t_.assign(newField, field);\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField, second: true })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField;\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn <Segment>\n\t\t\t<Header>\n\t\t\t\t<Icon fitted name=\"plus\"/> {title}\n\t\t\t</Header>\n\n\t\t\t<Form loading={creating}>\n\t\t\t\t{_.map(fieldGroups, (fg, i) => {\n\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\treturn <div key={i}>\n\t\t\t\t\t\t\t{this.renderField(fg.only)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\n\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\tthis.renderField(fg.first)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\tthis.renderField(fg.second)\n\t\t\t\t\t\t}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t})}\n\n\t\t\t\t<Button color=\"green\" onClick={this.create} disabled={!this.canCreate()}>\n\t\t\t\t\t{this.props.button || _t(\"Create\")}\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t</Segment>\n\t}\n\n\trenderField(field) {\n\t\tconst state = this.state.newData;\n\n\t\tif (typeof field.create === \"function\") {\n\t\t\treturn field.create({\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tstate: state,\n\t\t\t\tvalue: state[field.name],\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\treturn <Form.Field\n\t\t\t\tfluid selection search\n\t\t\t\trequired={field.required}\n\t\t\t\tcontrol={Dropdown}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tvalue={state[field.name]}\n\t\t\t\toptions={field.options}\n\t\t\t/>\n\t\t}\n\n\t\treturn <Form.Input\n\t\t\trequired={field.required}\n\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\tname={field.name}\n\t\t\tlabel={field.label}\n\t\t\tplaceholder={field.label}\n\t\t\tonChange={this.handleChange}\n\t\t\tvalue={state[field.name]}\n\t\t/>\n\t}\n}\n\nexport default translate(\"CreateForm\")(CreateForm)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.js"],"sourceRoot":""}