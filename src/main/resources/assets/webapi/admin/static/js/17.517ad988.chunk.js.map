{"version":3,"sources":["views/Permissions/index.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx"],"names":["Permissions","_super","props","_this","call","this","showSubject","subject","setState","modal","toggleModal","state","filter","onTabChange","bind","__extends","prototype","componentDidMount","requestCollections","event","data","activeIndex","coll","collections","requestSubjects","render","t","panes","map","menuItem","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","Item","key","id","__WEBPACK_IMPORTED_MODULE_0_lodash__","loadedSubjectCount","fields","name","label","view","friendlyId","permissions","subj","Object","keys","length","primary","content","onClick","idFalse","basic","__WEBPACK_IMPORTED_MODULE_6__components_DataTable__","list","subjects","idFunc","isEditing","canEdit","canDelete","defaultActiveIndex","menu","secondary","pointing","renderSubject","perms","indexOf","Row","Cell","color","open","onClose","size","className","Header","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","i18nKey","Content","type","placeholder","value","onChange","e","compact","Body","Actions","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","permission","dispatch","__WEBPACK_IMPORTED_MODULE_5__actions_permission__","DataTable","changePage","page","preventDefault","onEdit","obj","newData","forEach","edit","doHandleChange","handleChange","__WEBPACK_IMPORTED_MODULE_5__Util__","__assign","_a","shouldComponentUpdate","nextProps","nextState","actions","f","maxPage","Math","ceil","min","_t","editable","deletable","style","marginTop","renderHeader","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","striped","stackable","__WEBPACK_IMPORTED_MODULE_7__TableHeader__","hasActions","i18n","__WEBPACK_IMPORTED_MODULE_4__services_i18n__","renderRows","__WEBPACK_IMPORTED_MODULE_6__Pagination__","icon","title","fitted","listPage","slice","thisRef","changes","i","__WEBPACK_IMPORTED_MODULE_8__TableRow__","tableRef","actionable","editing","onSave","onDelete","Pagination","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","pagination","renderFirst","renderPrevMore","renderMain","renderNextMore","renderLast","from","max","to","pages","push","p","active","DataTableHeader","renderFields","renderActions","field","HeaderCell","TableRow","apply","arguments","onEditEmpty","undefined","j","collapsing","wide","renderField","renderEdit","__WEBPACK_IMPORTED_MODULE_2__Util__","col","options","Field","fluid","selection","search","control","Input","_canEdit","_canDelete","disabled","updating","loading","del","negative"],"mappings":"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","file":"static/js/17.517ad988.chunk.js","sourcesContent":["import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { Trans, withTranslation, WithTranslation } from 'react-i18next';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport {\r\n\tButton,\r\n\tIcon,\r\n\tInput,\r\n\tLabel,\r\n\tMenu,\r\n\tModal,\r\n\tSegment,\r\n\tTab,\r\n\tTable,\r\n\tTabProps\r\n} from 'semantic-ui-react';\r\n\r\nimport { AppAction } from '../../actions';\r\nimport {\r\n\tCollectionsListRequestAction,\r\n\trequestCollections,\r\n\trequestSubjects,\r\n\tSubjectsListRequestAction\r\n} from '../../actions/permission';\r\nimport DataTable, { DataTableFields } from '../../components/DataTable';\r\nimport { Subject, SubjectCollection } from '../../fetch';\r\nimport { AppState } from '../../types';\r\n\r\ninterface Props extends WithTranslation {\r\n\tcollections: SubjectCollection[];\r\n\tsubjects: Subject[];\r\n\trequestCollections: () => CollectionsListRequestAction;\r\n\trequestSubjects: (coll: SubjectCollection) => SubjectsListRequestAction;\r\n}\r\n\r\ninterface OwnState {\r\n\tmodal: boolean;\r\n\tfilter: string;\r\n\tsubject?: Subject;\r\n}\r\n\r\nclass Permissions extends React.Component<Props, OwnState> {\r\n\tpublic constructor(props: Props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmodal: false,\r\n\t\t\tfilter: ''\r\n\t\t};\r\n\r\n\t\tthis.onTabChange = this.onTabChange.bind(this);\r\n\t}\r\n\r\n\tpublic componentDidMount() {\r\n\t\tthis.props.requestCollections();\r\n\t}\r\n\r\n\tprivate onTabChange(event: React.MouseEvent<HTMLDivElement>, data: TabProps) {\r\n\t\tif (!data.activeIndex && data.activeIndex !== 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst coll: SubjectCollection = this.props.collections[data.activeIndex];\r\n\t\tthis.props.requestSubjects(coll);\r\n\t}\r\n\r\n\tprivate showSubject = (subject: Subject) => {\r\n\t\tthis.setState({\r\n\t\t\tmodal: true,\r\n\t\t\tsubject\r\n\t\t});\r\n\t};\r\n\r\n\tprivate toggleModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal\r\n\t\t});\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\tconst { t } = this.props;\r\n\t\tconst { subject } = this.state;\r\n\r\n\t\tconst panes = this.props.collections.map(coll => ({\r\n\t\t\tmenuItem: (\r\n\t\t\t\t<Menu.Item key={coll.id}>\r\n\t\t\t\t\t{_.upperFirst(coll.id)}\r\n\t\t\t\t\t<Label>{coll.loadedSubjectCount}</Label>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t),\r\n\t\t\trender: () => {\r\n\t\t\t\tconst fields: DataTableFields<Subject> = {\r\n\t\t\t\t\tid: {\r\n\t\t\t\t\t\tname: 'id',\r\n\t\t\t\t\t\tlabel: t('Id'),\r\n\t\t\t\t\t\tview: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfriendlyId: {\r\n\t\t\t\t\t\tname: 'friendlyId',\r\n\t\t\t\t\t\tlabel: t('Name'),\r\n\t\t\t\t\t\tview: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpermissions: {\r\n\t\t\t\t\t\tname: 'permissions',\r\n\t\t\t\t\t\tlabel: t('Permissions'),\r\n\t\t\t\t\t\tview: (subj: Subject) => {\r\n\t\t\t\t\t\t\tif (!subj.permissions || !Object.keys(subj.permissions).length) {\r\n\t\t\t\t\t\t\t\treturn t('No permissions');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst onShowSubject = () => this.showSubject(subj);\r\n\t\t\t\t\t\t\treturn <Button primary content=\"View\" onClick={onShowSubject} />;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst idFunc = (subj: Subject) => subj.id;\r\n\t\t\t\tconst idFalse = () => false;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Segment basic>\r\n\t\t\t\t\t\t<DataTable\r\n\t\t\t\t\t\t\tlist={this.props.subjects}\r\n\t\t\t\t\t\t\tidFunc={idFunc}\r\n\t\t\t\t\t\t\tisEditing={idFalse}\r\n\t\t\t\t\t\t\tcanEdit={idFalse}\r\n\t\t\t\t\t\t\tcanDelete={idFalse}\r\n\t\t\t\t\t\t\tfields={fields}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Segment>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}));\r\n\r\n\t\treturn (\r\n\t\t\t<Segment basic>\r\n\t\t\t\t<Tab\r\n\t\t\t\t\tdefaultActiveIndex={-1}\r\n\t\t\t\t\tonTabChange={this.onTabChange}\r\n\t\t\t\t\tmenu={{ secondary: true, pointing: true }}\r\n\t\t\t\t\tpanes={panes}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{this.renderSubject(subject)}\r\n\t\t\t</Segment>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderSubject(subject: Subject | undefined) {\r\n\t\tif (!subject || !subject.permissions) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst { t } = this.props;\r\n\r\n\t\tconst onChange = (e: any, props: any) =>\r\n\t\t\tthis.setState({ filter: props.value });\r\n\r\n\t\tconst perms = Object.keys(subject.permissions)\r\n\t\t\t.filter(key => key.indexOf(this.state.filter) >= 0)\r\n\t\t\t.map(key => (\r\n\t\t\t\t<Table.Row key={key}>\r\n\t\t\t\t\t<Table.Cell>{key}</Table.Cell>\r\n\t\t\t\t\t<Table.Cell>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tcolor={(subject.permissions as any)[key] ? 'green' : 'red'}\r\n\t\t\t\t\t\t\tname={(subject.permissions as any)[key] ? 'check' : 'delete'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t</Table.Row>\r\n\t\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\topen={this.state.modal}\r\n\t\t\t\tonClose={this.toggleModal}\r\n\t\t\t\tsize=\"fullscreen\"\r\n\t\t\t\tclassName=\"scrolling\"\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Trans i18nKey=\"GameRulesTitle\">Permissions for '{subject.id}'</Trans>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Content>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Filter...\"\r\n\t\t\t\t\t\tvalue={this.state.filter}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Table basic compact>\r\n\t\t\t\t\t\t<Table.Body>{perms}</Table.Body>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Modal.Content>\r\n\t\t\t\t<Modal.Actions>\r\n\t\t\t\t\t<Button primary onClick={this.toggleModal}>\r\n\t\t\t\t\t\t{t('OK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Actions>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n\treturn {\r\n\t\tcollections: state.permission.collections,\r\n\t\tsubjects: state.permission.subjects\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\r\n\treturn {\r\n\t\trequestCollections: () => dispatch(requestCollections()),\r\n\t\trequestSubjects: (coll: SubjectCollection) =>\r\n\t\t\tdispatch(requestSubjects(coll))\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withTranslation('Permissions')(Permissions));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Permissions/index.tsx","import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { Header, Icon, SemanticICONS, Table } from 'semantic-ui-react';\r\n\r\nimport i18n from '../../services/i18n';\r\nimport { DataFieldRaw, DataTableRef, IdFunction } from '../../types';\r\nimport { handleChange, HandleChangeFunc } from '../Util';\r\n\r\nimport Pagination from './Pagination';\r\nimport TableHeader from './TableHeader';\r\nimport TableRow from './TableRow';\r\n\r\nconst ITEMS_PER_PAGE = 20;\r\n\r\nexport type DataTableFields<T> = {\r\n\t[key: string]: DataFieldRaw<T>;\r\n};\r\n\r\nexport interface Props<T> {\r\n\ttitle?: string;\r\n\ticon?: SemanticICONS;\r\n\tlist: T[];\r\n\tcanEdit?: (data: T) => boolean;\r\n\tcanDelete?: (data: T) => boolean;\r\n\tfields: DataTableFields<T>;\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element | undefined;\r\n\tonEdit?: (data: T | undefined, view: DataTableRef) => void;\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void;\r\n\tonDelete?: (data: T, view: DataTableRef) => void;\r\n\tidFunc: IdFunction<T>;\r\n\tisEditing: (data: T) => boolean;\r\n}\r\n\r\ninterface AllProps<T> extends Props<T>, WithTranslation {}\r\n\r\ninterface OwnState {\r\n\tpage: number;\r\n\tnewData: any;\r\n}\r\n\r\nclass DataTable<T> extends React.Component<AllProps<T>, OwnState> {\r\n\tprivate handleChange: HandleChangeFunc;\r\n\r\n\tpublic constructor(props: AllProps<T>) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpage: 0,\r\n\t\t\tnewData: {}\r\n\t\t};\r\n\r\n\t\tthis.changePage = this.changePage.bind(this);\r\n\t\tthis.doHandleChange = this.doHandleChange.bind(this);\r\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange);\r\n\t}\r\n\r\n\tprivate doHandleChange(key: string, value: string) {\r\n\t\tthis.setState({\r\n\t\t\tnewData: {\r\n\t\t\t\t...this.state.newData,\r\n\t\t\t\t[key]: value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate changePage = (event: React.MouseEvent<HTMLElement>, page: number) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({\r\n\t\t\tpage: page\r\n\t\t});\r\n\t};\r\n\r\n\tprivate onEdit = (obj: T | undefined, view: DataTableRef): void => {\r\n\t\tconst newData = {};\r\n\t\tif (obj) {\r\n\t\t\tObject.keys(this.props.fields).forEach(name => {\r\n\t\t\t\tif (!this.props.fields[name].edit) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tnewData[name] = _.get(obj, name);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tnewData: newData\r\n\t\t});\r\n\r\n\t\tif (this.props.onEdit) {\r\n\t\t\tthis.props.onEdit(obj, view);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\r\n\t\treturn (\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\tnextProps.list !== this.props.list ||\r\n\t\t\tnextState.page !== this.state.page ||\r\n\t\t\tnextState.newData !== this.state.newData\r\n\t\t);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst { list, canEdit, canDelete, actions } = this.props;\r\n\t\tconst fields = Object.keys(this.props.fields)\r\n\t\t\t.map(f => this.props.fields[f])\r\n\t\t\t.filter(f => f.view);\r\n\r\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE);\r\n\t\tconst page = Math.min(this.state.page, maxPage - 1);\r\n\r\n\t\tconst _t = this.props.t;\r\n\t\tconst editable = _.some(list, canEdit);\r\n\t\tconst deletable = _.some(list, canDelete);\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{ marginTop: '2em' }}>\r\n\t\t\t\t{this.renderHeader()}\r\n\r\n\t\t\t\t<Table striped={true} stackable>\r\n\t\t\t\t\t<TableHeader\r\n\t\t\t\t\t\tfields={fields}\r\n\t\t\t\t\t\thasActions={typeof actions !== typeof undefined}\r\n\t\t\t\t\t\tcanEdit={editable}\r\n\t\t\t\t\t\tcanDelete={deletable}\r\n\t\t\t\t\t\ti18n={i18n}\r\n\t\t\t\t\t\tt={_t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Table.Body>{this.renderRows(fields, page)}</Table.Body>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tmaxPage={maxPage}\r\n\t\t\t\t\tchangePage={this.changePage}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderHeader() {\r\n\t\tconst { icon, title } = this.props;\r\n\r\n\t\tif (!title) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Header>\r\n\t\t\t\t<Icon fitted name={icon} /> {title}\r\n\t\t\t</Header>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderRows(fields: DataFieldRaw<T>[], page: number) {\r\n\t\tconst { list, canEdit, canDelete, actions, t } = this.props;\r\n\r\n\t\tconst listPage = list.slice(\r\n\t\t\tpage * ITEMS_PER_PAGE,\r\n\t\t\t(page + 1) * ITEMS_PER_PAGE\r\n\t\t);\r\n\r\n\t\tconst thisRef: DataTableRef = {\r\n\t\t\thandleChange: this.handleChange,\r\n\t\t\tstate: this.state.newData,\r\n\t\t\tsetState: (changes: object) =>\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tnewData: { ...this.state.newData, ...changes }\r\n\t\t\t\t})\r\n\t\t};\r\n\r\n\t\tconst editable = _.some(list, canEdit);\r\n\t\tconst deletable = _.some(list, canDelete);\r\n\r\n\t\treturn listPage.map((obj, i) => (\r\n\t\t\t<TableRow\r\n\t\t\t\tkey={this.props.idFunc(obj)}\r\n\t\t\t\tobj={obj}\r\n\t\t\t\ttableRef={thisRef}\r\n\t\t\t\tactionable={editable || deletable}\r\n\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\tcanDelete={canDelete}\r\n\t\t\t\tediting={this.props.isEditing(obj)}\r\n\t\t\t\tfields={fields}\r\n\t\t\t\tonEdit={this.onEdit}\r\n\t\t\t\tonSave={this.props.onSave}\r\n\t\t\t\tonDelete={this.props.onDelete}\r\n\t\t\t\tactions={actions}\r\n\t\t\t\tnewData={this.state.newData}\r\n\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\ti18n={i18n}\r\n\t\t\t\tt={t}\r\n\t\t\t/>\r\n\t\t));\r\n\t}\r\n}\r\n\r\nexport default withTranslation('DataTable')(DataTable);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from 'react';\r\nimport { Menu } from 'semantic-ui-react';\r\n\r\nexport interface Props {\r\n\tpage: number;\r\n\tmaxPage: number;\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void;\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\tpublic shouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn (\r\n\t\t\tnextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t\t);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{this.renderFirst()}\r\n\t\t\t\t{this.renderPrevMore()}\r\n\t\t\t\t{this.renderMain()}\r\n\t\t\t\t{this.renderNextMore()}\r\n\t\t\t\t{this.renderLast()}\r\n\t\t\t</Menu>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFirst() {\r\n\t\tif (this.props.page <= 4) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\treturn <Menu.Item onClick={e => this.props.changePage(e, 0)}>1</Menu.Item>;\r\n\t}\r\n\r\n\tprivate renderPrevMore() {\r\n\t\tif (this.props.page <= 5) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t<Menu.Item onClick={e => this.props.changePage(e, this.props.page - 5)}>\r\n\t\t\t\t...\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderMain() {\r\n\t\tconst { page, maxPage } = this.props;\r\n\t\tconst from = Math.max(0, page - 4);\r\n\t\tconst to = Math.min(maxPage, page + 5);\r\n\r\n\t\tconst pages = [];\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i);\r\n\t\t}\r\n\r\n\t\treturn pages.map(p => (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tkey={p}\r\n\t\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t\tonClick={e => this.props.changePage(e, p)}\r\n\t\t\t\tactive={p === page}\r\n\t\t\t>\r\n\t\t\t\t{p + 1}\r\n\t\t\t</Menu.Item>\r\n\t\t));\r\n\t}\r\n\r\n\tprivate renderNextMore() {\r\n\t\tif (this.props.page >= this.props.maxPage - 6) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t<Menu.Item onClick={e => this.props.changePage(e, this.props.page + 5)}>\r\n\t\t\t\t...\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderLast() {\r\n\t\tif (this.props.page >= this.props.maxPage - 5) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t\tonClick={e => this.props.changePage(e, this.props.maxPage - 1)}\r\n\t\t\t>\r\n\t\t\t\t{this.props.maxPage}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from 'react';\r\nimport { WithTranslation } from 'react-i18next';\r\nimport { Table } from 'semantic-ui-react';\r\n\r\nimport { DataFieldRaw } from '../../types';\r\n\r\nexport interface Props<T> extends WithTranslation {\r\n\thasActions: boolean;\r\n\tcanEdit?: boolean;\r\n\tcanDelete?: boolean;\r\n\tfields: DataFieldRaw<T>[];\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{this.renderFields()}\r\n\t\t\t\t\t{this.renderActions()}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFields() {\r\n\t\treturn Object.keys(this.props.fields).map(name => {\r\n\t\t\tconst field = this.props.fields[name];\r\n\t\t\treturn (\r\n\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t{field.label ? field.label : '<' + field.name + '>'}\r\n\t\t\t\t</Table.HeaderCell>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate renderActions() {\r\n\t\tif (\r\n\t\t\t!this.props.hasActions &&\r\n\t\t\t!this.props.canEdit &&\r\n\t\t\t!this.props.canDelete\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn <Table.HeaderCell>{this.props.t('Actions')}</Table.HeaderCell>;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from 'react';\r\nimport { WithTranslation } from 'react-i18next';\r\nimport { Button, Dropdown, Form, Icon, Table } from 'semantic-ui-react';\r\n\r\nimport { DataFieldRaw, DataTableRef } from '../../types';\r\nimport { get, HandleChangeFunc } from '../Util';\r\n\r\nexport interface Props<T> extends WithTranslation {\r\n\tobj: T;\r\n\ttableRef: DataTableRef;\r\n\tactionable: boolean;\r\n\tcanEdit?: (data: T) => boolean;\r\n\tcanDelete?: (data: T) => boolean;\r\n\tediting: boolean;\r\n\tfields: DataFieldRaw<T>[];\r\n\tonEdit: (data: T | undefined, view: DataTableRef) => void;\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void;\r\n\tonDelete?: (data: T, view: DataTableRef) => void;\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element | undefined;\r\n\thandleChange: HandleChangeFunc;\r\n\tnewData: any;\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn (\r\n\t\t\tnextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t\t);\r\n\t}\r\n\r\n\tprivate onSave = () => {\r\n\t\tconst { obj, tableRef } = this.props;\r\n\r\n\t\tif (this.props.onSave) {\r\n\t\t\tthis.props.onSave(obj, this.props.newData, tableRef);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate onEditEmpty = () => {\r\n\t\tthis.props.onEdit(undefined, this.props.tableRef);\r\n\t};\r\n\r\n\tprivate onEdit = () => {\r\n\t\tthis.props.onEdit(this.props.obj, this.props.tableRef);\r\n\t};\r\n\r\n\tprivate onDelete = () => {\r\n\t\tif (this.props.onDelete) {\r\n\t\t\tthis.props.onDelete(this.props.obj, this.props.tableRef);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{this.renderFields()}\r\n\t\t\t\t{this.renderActions()}\r\n\t\t\t</Table.Row>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFields() {\r\n\t\tconst { fields } = this.props;\r\n\r\n\t\treturn fields.map((field, j) => (\r\n\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t{this.renderField(field)}\r\n\t\t\t</Table.Cell>\r\n\t\t));\r\n\t}\r\n\r\n\tprivate renderField(field: DataFieldRaw<T>) {\r\n\t\tconst { obj, editing, tableRef } = this.props;\r\n\r\n\t\treturn field.edit && editing\r\n\t\t\t? typeof field.edit === 'function'\r\n\t\t\t\t? field.edit(obj, tableRef)\r\n\t\t\t\t: this.renderEdit(obj, field)\r\n\t\t\t: typeof field.view === 'function'\r\n\t\t\t? field.view(obj, tableRef)\r\n\t\t\t: get(obj, field.name);\r\n\t}\r\n\r\n\tprivate renderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : 'text'}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderActions() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tobj,\r\n\t\t\tactionable,\r\n\t\t\tcanEdit,\r\n\t\t\tcanDelete,\r\n\t\t\tediting,\r\n\t\t\ttableRef\r\n\t\t} = this.props;\r\n\r\n\t\tconst _canEdit = typeof canEdit === 'function' ? canEdit(obj) : canEdit;\r\n\t\tconst _canDelete =\r\n\t\t\ttypeof canDelete === 'function' ? canDelete(obj) : canEdit;\r\n\r\n\t\tif (!actions && !actionable) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tlet edit = null;\r\n\t\tif (_canEdit && editing) {\r\n\t\t\tedit = (\r\n\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\tonClick={this.onSave}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t('Save')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsecondary\r\n\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\tonClick={this.onEditEmpty}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t('Cancel')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Table.Cell>\r\n\t\t\t);\r\n\t\t} else if (_canEdit) {\r\n\t\t\tedit = (\r\n\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\tonClick={this.onEdit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t('Edit')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Table.Cell>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet del = null;\r\n\t\tif (_canDelete) {\r\n\t\t\tdel = (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tnegative\r\n\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\tonClick={this.onDelete}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t('Remove')}\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t{edit}\r\n\t\t\t\t{del}\r\n\t\t\t\t{actions ? actions(obj, tableRef) : null}\r\n\t\t\t</Table.Cell>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx"],"sourceRoot":""}