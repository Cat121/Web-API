{"version":3,"sources":["../static/js/18.a5634a2c.chunk.js","views/Permissions/index.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx"],"names":["webpackJsonp","1009","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1_react__","n","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_5__components_DataTable__","__WEBPACK_IMPORTED_MODULE_6__actions_permission__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","Permissions","_super","props","_this","call","state","modal","onTabChange","bind","componentDidMount","requestCollections","event","data","activeIndex","coll","collections","requestSubjects","showSubject","subject","setState","toggleModal","render","_t","t","_a","basic","defaultActiveIndex","menu","secondary","pointing","panes","map","menuItem","Item","key","id","loadedSubjectCount","list","subjects","idFunc","subj","isEditing","fields","name","label","view","friendlyId","permissions","keys","length","primary","content","onClick","open","onClose","Header","i18nKey","Content","compact","Body","Row","Cell","color","Actions","mapStateToProps","permission","mapDispatchToProps","dispatch","1021","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_4__Util__","__WEBPACK_IMPORTED_MODULE_5__Pagination__","__WEBPACK_IMPORTED_MODULE_6__TableHeader__","__WEBPACK_IMPORTED_MODULE_7__TableRow__","DataTable","page","newData","changePage","doHandleChange","handleChange","preventDefault","onEdit","obj","field","edit","shouldComponentUpdate","nextProps","nextState","icon","title","canEdit","canDelete","actions","maxPage","Math","ceil","min","listPage","slice","thisRef","changes","style","marginTop","fitted","striped","stackable","hasActions","i","tableRef","editing","v","onSave","onDelete","e","1022","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","Pagination","apply","arguments","from","max","to","pages","push","pagination","active","1023","DataTableHeader","HeaderCell","1024","__WEBPACK_IMPORTED_MODULE_2__Util__","TableRow","renderEdit","col","options","Field","fluid","selection","search","control","placeholder","onChange","Input","type","j","collapsing","wide","disabled","updating","loading"],"mappings":"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","file":"static/js/18.a5634a2c.chunk.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ 1009:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_DataTable__ = __webpack_require__(1021);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__actions_permission__ = __webpack_require__(240);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Permissions = /** @class */ (function (_super) {\r\n    __extends(Permissions, _super);\r\n    function Permissions(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            modal: false,\r\n        };\r\n        _this.onTabChange = _this.onTabChange.bind(_this);\r\n        return _this;\r\n    }\r\n    Permissions.prototype.componentDidMount = function () {\r\n        this.props.requestCollections();\r\n    };\r\n    Permissions.prototype.onTabChange = function (event, data) {\r\n        if (!data.activeIndex && data.activeIndex !== 0) {\r\n            return;\r\n        }\r\n        var coll = this.props.collections[data.activeIndex];\r\n        this.props.requestSubjects(coll);\r\n    };\r\n    Permissions.prototype.showSubject = function (subject) {\r\n        this.setState({\r\n            modal: true,\r\n            subject: subject,\r\n        });\r\n    };\r\n    Permissions.prototype.toggleModal = function () {\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        });\r\n    };\r\n    Permissions.prototype.render = function () {\r\n        var _this = this;\r\n        var _t = this.props.t;\r\n        var _a = this.state, modal = _a.modal, subject = _a.subject;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"t\" /* Segment */], { basic: true },\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"v\" /* Tab */], { defaultActiveIndex: -1, onTabChange: this.onTabChange, menu: { secondary: true, pointing: true }, panes: this.props.collections.map(function (coll) { return ({\r\n                    menuItem: __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"n\" /* Menu */].Item, { key: coll.id },\r\n                        __WEBPACK_IMPORTED_MODULE_0_lodash__[\"upperFirst\"](coll.id),\r\n                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"k\" /* Label */], null, coll.loadedSubjectCount)),\r\n                    render: function () {\r\n                        return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"t\" /* Segment */], { basic: true },\r\n                            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__components_DataTable__[\"a\" /* default */], { list: _this.props.subjects, idFunc: function (subj) { return subj.id; }, isEditing: function (subj) { return false; }, fields: {\r\n                                    id: {\r\n                                        name: \"id\",\r\n                                        label: _t(\"Id\"),\r\n                                        view: true,\r\n                                    },\r\n                                    friendlyId: {\r\n                                        name: \"friendlyId\",\r\n                                        label: _t(\"Name\"),\r\n                                        view: true,\r\n                                    },\r\n                                    permissions: {\r\n                                        name: \"permissions\",\r\n                                        label: _t(\"Permissions\"),\r\n                                        view: function (subj) {\r\n                                            if (!subj.permissions || !Object.keys(subj.permissions).length) {\r\n                                                return _t(\"No permissions\");\r\n                                            }\r\n                                            return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"b\" /* Button */], { primary: true, content: \"View\", onClick: function () { return _this.showSubject(subj); } }));\r\n                                        }\r\n                                    }\r\n                                } }));\r\n                    }\r\n                }); }) }),\r\n            subject && subject.permissions &&\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"p\" /* Modal */], { open: modal, onClose: function () { return _this.toggleModal(); } },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"p\" /* Modal */].Header, null,\r\n                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"a\" /* Trans */], { i18nKey: \"GameRulesTitle\" },\r\n                            \"Permissions for '\",\r\n                            subject.id,\r\n                            \"'\")),\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"p\" /* Modal */].Content, null,\r\n                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"w\" /* Table */], { basic: true, compact: true },\r\n                            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"w\" /* Table */].Body, null, Object.keys(subject.permissions).map(function (key) {\r\n                                return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"w\" /* Table */].Row, { key: key },\r\n                                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"w\" /* Table */].Cell, null, key),\r\n                                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"w\" /* Table */].Cell, null,\r\n                                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"h\" /* Icon */], { color: subject.permissions[key] ? \"green\" : \"red\", name: subject.permissions[key] ? \"check\" : \"delete\" })));\r\n                            })))),\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"p\" /* Modal */].Actions, null,\r\n                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"b\" /* Button */], { color: \"blue\", onClick: function () { return _this.toggleModal(); } }, _t(\"OK\"))))));\r\n    };\r\n    return Permissions;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\nvar mapStateToProps = function (state) {\r\n    return {\r\n        collections: state.permission.collections,\r\n        subjects: state.permission.subjects,\r\n    };\r\n};\r\nvar mapDispatchToProps = function (dispatch) {\r\n    return {\r\n        requestCollections: function () { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_6__actions_permission__[\"b\" /* requestCollections */])()); },\r\n        requestSubjects: function (coll) { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_6__actions_permission__[\"c\" /* requestSubjects */])(coll)); },\r\n    };\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"Permissions\")(Permissions)));\r\n\n\n/***/ }),\n\n/***/ 1021:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Util__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Pagination__ = __webpack_require__(1022);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__TableHeader__ = __webpack_require__(1023);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__TableRow__ = __webpack_require__(1024);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ITEMS_PER_PAGE = 20;\r\nvar DataTable = /** @class */ (function (_super) {\r\n    __extends(DataTable, _super);\r\n    function DataTable(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            page: 0,\r\n            newData: {},\r\n        };\r\n        _this.changePage = _this.changePage.bind(_this);\r\n        _this.doHandleChange = _this.doHandleChange.bind(_this);\r\n        _this.handleChange = __WEBPACK_IMPORTED_MODULE_4__Util__[\"e\" /* handleChange */].bind(_this, _this.doHandleChange);\r\n        return _this;\r\n    }\r\n    DataTable.prototype.doHandleChange = function (key, value) {\r\n        this.setState({\r\n            newData: __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, this.state.newData, (_a = {},\r\n                _a[key] = value,\r\n                _a))\r\n        });\r\n        var _a;\r\n    };\r\n    DataTable.prototype.changePage = function (event, page) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            page: page,\r\n        });\r\n    };\r\n    DataTable.prototype.onEdit = function (obj, view) {\r\n        var newData = {};\r\n        if (obj) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash__[\"each\"](this.props.fields, function (field, name) {\r\n                if (!field.edit) {\r\n                    return;\r\n                }\r\n                newData[name] = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](obj, name);\r\n            });\r\n        }\r\n        this.setState({\r\n            newData: newData,\r\n        });\r\n        if (this.props.onEdit) {\r\n            this.props.onEdit(obj, view);\r\n        }\r\n    };\r\n    DataTable.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.fields !== this.props.fields ||\r\n            nextProps.list !== this.props.list ||\r\n            nextState.page !== this.state.page ||\r\n            nextState.newData !== this.state.newData;\r\n    };\r\n    DataTable.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, icon = _a.icon, title = _a.title, list = _a.list, canEdit = _a.canEdit, canDelete = _a.canDelete, actions = _a.actions;\r\n        var fields = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"filter\"](this.props.fields, \"view\");\r\n        var maxPage = Math.ceil(list.length / ITEMS_PER_PAGE);\r\n        var page = Math.min(this.state.page, maxPage - 1);\r\n        var listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE);\r\n        var thisRef = {\r\n            handleChange: this.handleChange,\r\n            state: this.state.newData,\r\n            setState: function (changes) { return _this.setState({\r\n                newData: __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, _this.state.newData, changes)\r\n            }); },\r\n        };\r\n        var _t = this.props.t;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](\"div\", { style: { marginTop: \"2em\" } },\r\n            title &&\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"g\" /* Header */], null,\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"h\" /* Icon */], { fitted: true, name: icon }),\r\n                    \" \",\r\n                    title),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"w\" /* Table */], { striped: true, stackable: true },\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_6__TableHeader__[\"a\" /* default */], { fields: fields, hasActions: typeof actions !== \"undefined\", canEdit: canEdit, canDelete: canDelete, t: _t }),\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"w\" /* Table */].Body, null, __WEBPACK_IMPORTED_MODULE_0_lodash__[\"map\"](listPage, function (obj, i) {\r\n                    return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_7__TableRow__[\"a\" /* default */], { key: _this.props.idFunc(obj), obj: obj, tableRef: thisRef, canEdit: canEdit, canDelete: canDelete, editing: _this.props.isEditing(obj), fields: fields, onEdit: function (d, v) { return _this.onEdit(d, v); }, onSave: _this.props.onSave, onDelete: _this.props.onDelete, actions: _this.props.actions, newData: _this.state.newData, handleChange: _this.handleChange, t: _t });\r\n                }))),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__Pagination__[\"a\" /* default */], { page: page, maxPage: maxPage, changePage: function (e, p) { return _this.changePage(e, p); } })));\r\n    };\r\n    return DataTable;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"DataTable\")(DataTable));\r\n\n\n/***/ }),\n\n/***/ 1022:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(60);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar Pagination = /** @class */ (function (_super) {\r\n    __extends(Pagination, _super);\r\n    function Pagination() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Pagination.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.page !== this.props.page ||\r\n            nextProps.maxPage !== this.props.maxPage;\r\n    };\r\n    Pagination.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.props.maxPage <= 1) {\r\n            return null;\r\n        }\r\n        var _a = this.props, page = _a.page, maxPage = _a.maxPage;\r\n        var from = Math.max(0, page - 4);\r\n        var to = Math.min(maxPage, page + 5);\r\n        var pages = [];\r\n        for (var i = from; i < to; i++) {\r\n            pages.push(i);\r\n        }\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */], { pagination: true },\r\n            page > 4 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, 0); } }, \"1\")\r\n                : null,\r\n            page > 5 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, page - 5); } }, \"...\")\r\n                : null,\r\n            pages.map(function (p) { return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { key: p, onClick: function (e) { return _this.props.changePage(e, p); }, active: p === page }, p + 1)); }),\r\n            page < maxPage - 6 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, page + 5); } }, \"...\")\r\n                : null,\r\n            page < maxPage - 5 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, maxPage - 1); } }, maxPage)\r\n                : null));\r\n    };\r\n    return Pagination;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Pagination);\r\n\n\n/***/ }),\n\n/***/ 1023:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(60);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar DataTableHeader = /** @class */ (function (_super) {\r\n    __extends(DataTableHeader, _super);\r\n    function DataTableHeader() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataTableHeader.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.fields !== this.props.fields;\r\n    };\r\n    DataTableHeader.prototype.render = function () {\r\n        var _this = this;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Header, null,\r\n            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Row, null,\r\n                Object.keys(this.props.fields).map(function (name) {\r\n                    var field = _this.props.fields[name];\r\n                    return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].HeaderCell, { key: name }, field.label ? field.label : \"<\" + field.name + \">\"));\r\n                }),\r\n                this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n                    __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].HeaderCell, null, this.props.t(\"Actions\"))\r\n                    : null)));\r\n    };\r\n    return DataTableHeader;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (DataTableHeader);\r\n\n\n/***/ }),\n\n/***/ 1024:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Util__ = __webpack_require__(90);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar TableRow = /** @class */ (function (_super) {\r\n    __extends(TableRow, _super);\r\n    function TableRow() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TableRow.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.obj !== this.props.obj ||\r\n            nextProps.editing !== this.props.editing ||\r\n            nextProps.fields !== this.props.fields ||\r\n            (this.props.editing && nextProps.newData !== this.props.newData);\r\n    };\r\n    TableRow.prototype.renderEdit = function (obj, col) {\r\n        if (col.options) {\r\n            return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Field, { fluid: true, selection: true, search: true, control: __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"d\" /* Dropdown */], name: col.name, placeholder: col.label, options: col.options, value: this.props.newData[col.name], onChange: this.props.handleChange }));\r\n        }\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Input, { name: col.name, type: col.type ? col.type : \"text\", placeholder: col.label, value: this.props.newData[col.name], onChange: this.props.handleChange }));\r\n    };\r\n    TableRow.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, actions = _a.actions, fields = _a.fields, obj = _a.obj, canEdit = _a.canEdit, canDelete = _a.canDelete, editing = _a.editing, tableRef = _a.tableRef;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Row, null,\r\n            fields.map(function (field, j) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Cell, { key: j, collapsing: !field.wide }, field.edit && editing ?\r\n                    (typeof field.edit === \"function\" ?\r\n                        field.edit(obj, tableRef)\r\n                        :\r\n                            _this.renderEdit(obj, field))\r\n                    :\r\n                        (typeof field.view === \"function\" ?\r\n                            field.view(obj, tableRef)\r\n                            :\r\n                                Object(__WEBPACK_IMPORTED_MODULE_2__Util__[\"d\" /* get */])(obj, field.name)));\r\n            }),\r\n            actions || canEdit || canDelete ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Cell, { collapsing: true },\r\n                    canEdit && editing ?\r\n                        [__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { key: \"save\", color: \"green\", disabled: obj.updating, loading: obj.updating, onClick: function () { if (_this.props.onSave) {\r\n                                    _this.props.onSave(obj, _this.props.newData, tableRef);\r\n                                } } },\r\n                                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"save\" }),\r\n                                \" \",\r\n                                this.props.t(\"Save\")),\r\n                            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { key: \"cancel\", color: \"yellow\", disabled: obj.updating, loading: obj.updating, onClick: function () { return _this.props.onEdit(null, tableRef); } },\r\n                                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"cancel\" }),\r\n                                \" \",\r\n                                this.props.t(\"Cancel\"))]\r\n                        : canEdit ?\r\n                            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { color: \"blue\", disabled: obj.updating, loading: obj.updating, onClick: function () { return _this.props.onEdit(obj, tableRef); } },\r\n                                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"edit\" }),\r\n                                \" \",\r\n                                this.props.t(\"Edit\"))\r\n                            : null,\r\n                    canDelete &&\r\n                        __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { color: \"red\", disabled: obj.updating, loading: obj.updating, onClick: function () { if (_this.props.onDelete) {\r\n                                _this.props.onDelete(obj, tableRef);\r\n                            } } },\r\n                            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"trash\" }),\r\n                            \" \",\r\n                            this.props.t(\"Remove\")),\r\n                    actions && actions(obj, tableRef))\r\n                : null));\r\n    };\r\n    return TableRow;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (TableRow);\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/18.a5634a2c.chunk.js","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { Trans, translate } from \"react-i18next\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Button, Icon, Label, Menu, Modal, Segment, Tab, Table, TabProps } from \"semantic-ui-react\"\n\nimport DataTable from \"../../components/DataTable\"\n\nimport { AppAction } from \"../../actions\"\nimport { CollectionsListRequestAction, requestCollections, requestSubjects,\n\tSubjectsListRequestAction } from \"../../actions/permission\"\nimport { Subject, SubjectCollection } from \"../../fetch\"\nimport { AppState } from \"../../types\"\n\ninterface Props extends reactI18Next.InjectedTranslateProps {\n\tcollections: SubjectCollection[]\n\tsubjects: Subject[]\n\trequestCollections: () => CollectionsListRequestAction\n\trequestSubjects: (coll: SubjectCollection) => SubjectsListRequestAction\n}\n\ninterface OwnState {\n\tmodal: boolean\n\tsubject?: Subject\n}\n\nclass Permissions extends React.Component<Props, OwnState> {\n\n\tconstructor(props: Props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tmodal: false,\n\t\t}\n\n\t\tthis.onTabChange = this.onTabChange.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.requestCollections()\n\t}\n\n\tonTabChange(event: React.MouseEvent<HTMLDivElement>, data: TabProps) {\n\t\tif (!data.activeIndex && data.activeIndex !== 0) {\n\t\t\treturn\n\t\t}\n\n\t\tconst coll: SubjectCollection = this.props.collections[data.activeIndex]\n\t\tthis.props.requestSubjects(coll)\n\t}\n\n\tshowSubject(subject: Subject) {\n\t\tthis.setState({\n\t\t\tmodal: true,\n\t\t\tsubject,\n\t\t})\n\t}\n\n\ttoggleModal() {\n\t\tthis.setState({\n\t\t\tmodal: !this.state.modal\n\t\t})\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\t\tconst { modal, subject } = this.state\n\n\t\treturn (\n\t\t\t<Segment basic>\n\t\t\t\t<Tab\n\t\t\t\t\tdefaultActiveIndex={-1}\n\t\t\t\t\tonTabChange={this.onTabChange}\n\t\t\t\t\tmenu={{secondary: true, pointing: true}}\n\t\t\t\t\tpanes={this.props.collections.map(coll => ({\n\t\t\t\t\t\tmenuItem:\n\t\t\t\t\t\t\t<Menu.Item key={coll.id}>\n\t\t\t\t\t\t\t\t{_.upperFirst(coll.id)}<Label>{coll.loadedSubjectCount}</Label>\n\t\t\t\t\t\t\t</Menu.Item>,\n\t\t\t\t\t\trender: () => {\n\t\t\t\t\t\t\treturn <Segment basic>\n\t\t\t\t\t\t\t\t<DataTable\n\t\t\t\t\t\t\t\t\tlist={this.props.subjects}\n\t\t\t\t\t\t\t\t\tidFunc={(subj: Subject) => subj.id}\n\t\t\t\t\t\t\t\t\tisEditing={(subj: Subject) => false}\n\t\t\t\t\t\t\t\t\tfields={{\n\t\t\t\t\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\t\t\t\t\tname: \"id\",\n\t\t\t\t\t\t\t\t\t\t\tlabel: _t(\"Id\"),\n\t\t\t\t\t\t\t\t\t\t\tview: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfriendlyId: {\n\t\t\t\t\t\t\t\t\t\t\tname: \"friendlyId\",\n\t\t\t\t\t\t\t\t\t\t\tlabel: _t(\"Name\"),\n\t\t\t\t\t\t\t\t\t\t\tview: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tpermissions: {\n\t\t\t\t\t\t\t\t\t\t\tname: \"permissions\",\n\t\t\t\t\t\t\t\t\t\t\tlabel: _t(\"Permissions\"),\n\t\t\t\t\t\t\t\t\t\t\tview: (subj: Subject) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!subj.permissions || !Object.keys(subj.permissions).length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _t(\"No permissions\")\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button primary content=\"View\" onClick={() => this.showSubject(subj)} />\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t}\n\t\t\t\t\t}))}\n\t\t\t\t/>\n\n\t\t\t\t{subject && subject.permissions &&\n\t\t\t\t\t<Modal open={modal} onClose={() => this.toggleModal()}>\n\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t<Trans i18nKey=\"GameRulesTitle\">\n\t\t\t\t\t\t\t\tPermissions for '{subject.id}'\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Content>\n\t\t\t\t\t\t\t<Table basic compact>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{ Object.keys(subject.permissions).map(key =>\n\t\t\t\t\t\t\t\t\t\t<Table.Row key={key}>\n\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{key}\n\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={(subject.permissions as any)[key] ? \"green\" : \"red\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={(subject.permissions as any)[key] ? \"check\" : \"delete\"}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</Modal.Content>\n\t\t\t\t\t\t<Modal.Actions>\n\t\t\t\t\t\t\t<Button color=\"blue\" onClick={() => this.toggleModal()}>{_t(\"OK\")}</Button>\n\t\t\t\t\t\t</Modal.Actions>\n\t\t\t\t\t</Modal>\n\t\t\t\t}\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {\n\t\tcollections: state.permission.collections,\n\t\tsubjects: state.permission.subjects,\n\t}\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\n\treturn {\n\t\trequestCollections: () => dispatch(requestCollections()),\n\t\trequestSubjects: (coll: SubjectCollection) => dispatch(requestSubjects(coll)),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(translate(\"Permissions\")(Permissions))\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Permissions/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Header, Icon, SemanticICONS, Table } from \"semantic-ui-react\"\n\nimport { DataFieldRaw, DataTableRef, IdFunction } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nimport Pagination from \"./Pagination\"\nimport TableHeader from \"./TableHeader\"\nimport TableRow from \"./TableRow\"\n\nconst ITEMS_PER_PAGE = 20\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle?: string\n\ticon?: SemanticICONS\n\tlist: T[]\n\tcanEdit?: boolean\n\tcanDelete?: boolean\n\tfields: {\n\t\t[key: string]: DataFieldRaw<T>\n\t}\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\n\tonEdit?: (data: T | null, view: DataTableRef) => void\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\n\tonDelete?: (data: T, view: DataTableRef) => void\n\tidFunc: IdFunction<T>\n\tisEditing: (data: T) => boolean\n}\n\ninterface OwnState {\n\tpage: number\n\tnewData: any\n}\n\nclass DataTable<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props:  Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: _.assign({}, this.state.newData, {\n\t\t\t\t[key]: value\n\t\t\t})\n\t\t})\n\t}\n\n\tchangePage(event: React.MouseEvent<HTMLElement>, page: number) {\n\t\tevent.preventDefault()\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj: T | null, view: DataTableRef): void {\n\t\tconst newData = {}\n\t\tif (obj) {\n\t\t\t_.each(this.props.fields, (field, name) => {\n\t\t\t\tif (!field.edit) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tif (this.props.onEdit) {\n\t\t\tthis.props.onEdit(obj, view)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.page !== this.state.page ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst fields = _.filter(this.props.fields, \"view\")\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE)\n\t\tconst page = Math.min(this.state.page, maxPage - 1)\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n\t\tconst thisRef: DataTableRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes: object) => this.setState({\n\t\t\t\tnewData: _.assign({}, this.state.newData, changes)\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div style={{marginTop: \"2em\"}}>\n\t\t\t\t{title &&\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t\t\t</Header>\n\t\t\t\t}\n\n\t\t\t\t<Table striped={true} stackable>\n\t\t\t\t\t<TableHeader\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\thasActions={typeof actions !== \"undefined\"}\n\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\tt={_t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{_.map(listPage, (obj, i) =>\n\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\tkey={this.props.idFunc(obj)}\n\t\t\t\t\t\t\t\tobj={obj}\n\t\t\t\t\t\t\t\ttableRef={thisRef}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\t\t\tediting={this.props.isEditing(obj)}\n\t\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\t\tonEdit={(d: T, v) => this.onEdit(d, v)}\n\t\t\t\t\t\t\t\tonSave={this.props.onSave}\n\t\t\t\t\t\t\t\tonDelete={this.props.onDelete}\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tnewData={this.state.newData}\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tt={_t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t\t<Pagination\n\t\t\t\t\tpage={page}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tchangePage={(e, p) => this.changePage(e, p)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from \"react\"\r\nimport { Menu } from \"semantic-ui-react\"\r\n\r\nexport interface Props {\r\n\tpage: number\r\n\tmaxPage: number\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn nextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst { page, maxPage } = this.props\r\n\t\tconst from = Math.max(0, page - 4)\r\n\t\tconst to = Math.min(maxPage, page + 5)\r\n\t\tconst pages = []\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{ page > 4 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, 0)}>\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page > 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page - 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ pages.map(p => (\r\n\t\t\t\t\t<Menu.Item key={p} onClick={e => this.props.changePage(e, p)} active={p === page}>\r\n\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t))}\r\n\t\t\t\t{ page < maxPage - 6 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page + 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page < maxPage - 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, maxPage - 1)}>\r\n\t\t\t\t\t\t{maxPage}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from \"react\"\r\nimport { Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw } from \"../../types\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\thasActions: boolean\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{Object.keys(this.props.fields).map(name => {\r\n\t\t\t\t\t\tconst field = this.props.fields[name]\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t\t\t\t{field.label ? field.label : \"<\" + field.name + \">\"}\r\n\t\t\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n\t\t\t\t\t\t<Table.HeaderCell>{this.props.t(\"Actions\")}</Table.HeaderCell>\r\n\t\t\t\t\t: null}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from \"react\"\r\nimport { Button, Dropdown, Form, Icon, Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw, DataTableRef } from \"../../types\"\r\nimport { get, HandleChangeFunc } from \"../Util\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\tobj: T\r\n\ttableRef: DataTableRef\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tediting: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n\tonEdit: (data: T | null, view: DataTableRef) => void\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\r\n\tonDelete?: (data: T, view: DataTableRef) => void\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\r\n\thandleChange: HandleChangeFunc\r\n\tnewData: any\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t}\r\n\r\n\trenderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : \"text\"}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actions, fields, obj, canEdit, canDelete, editing, tableRef } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{fields.map((field, j) =>\r\n\t\t\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t\t\t{field.edit && editing ?\r\n\t\t\t\t\t\t\t(typeof field.edit === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.edit(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tthis.renderEdit(obj, field)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(typeof field.view === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.view(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tget(obj, field.name)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t)}\r\n\t\t\t\t{actions || canEdit || canDelete ?\r\n\t\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t\t{canEdit && editing ?\r\n\t\t\t\t\t\t\t[<Button\r\n\t\t\t\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onSave) { this.props.onSave(obj, this.props.newData, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t(\"Save\")}\r\n\t\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\t\t\tcolor=\"yellow\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(null, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t(\"Cancel\")}\r\n\t\t\t\t\t\t\t</Button>]\r\n\t\t\t\t\t\t: canEdit ?\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(obj, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t(\"Edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t{canDelete &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onDelete) { this.props.onDelete(obj, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t(\"Remove\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{actions && actions(obj, tableRef)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t: null}\r\n\t\t\t</Table.Row>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx"],"sourceRoot":""}