{"version":3,"sources":["views/Players/index.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx","components/DataView/index.tsx","components/CreateForm/index.tsx","components/FilterForm/index.tsx","components/ItemStack/index.tsx","components/Location/index.tsx","components/Inventory/index.tsx"],"names":["DataView","Object","__WEBPACK_IMPORTED_MODULE_6__components_DataView__","Players","_super","props","_this","call","this","toggleModal","setState","modal","state","renderActions","player","view","t","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","secondary","loading","updating","disabled","onClick","showInventory","negative","kick","ban","bind","__extends","prototype","componentDidMount","requestWorlds","requestKickPlayer","requestBanPlayer","details","inventory","render","fields","name","label","filter","flowing","hoverable","on","trigger","content","uuid","position","world","filterName","options","__WEBPACK_IMPORTED_MODULE_9__components_Util__","worlds","required","location","__WEBPACK_IMPORTED_MODULE_8__components_Location__","health","wide","food","progress","color","style","marginBottom","percent","current","max","foodLevel","info","gm","gameMode","exp","experience","Detail","level","Group","address","icon","title","filterTitle","actions","renderModal","open","onClose","size","className","Header","__WEBPACK_IMPORTED_MODULE_1_react_i18next__","i18nKey","Content","__WEBPACK_IMPORTED_MODULE_7__components_Inventory__","dontCollapse","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","list","dispatch","__WEBPACK_IMPORTED_MODULE_5__actions_player__","__WEBPACK_IMPORTED_MODULE_4__actions_dataview__","DataTable","changePage","event","page","preventDefault","onEdit","obj","newData","keys","forEach","edit","__WEBPACK_IMPORTED_MODULE_0_lodash__","doHandleChange","handleChange","__WEBPACK_IMPORTED_MODULE_5__Util__","key","value","__assign","_a","shouldComponentUpdate","nextProps","nextState","canEdit","canDelete","map","f","maxPage","Math","ceil","length","min","_t","editable","deletable","__WEBPACK_IMPORTED_MODULE_1_react__","marginTop","renderHeader","striped","stackable","__WEBPACK_IMPORTED_MODULE_7__TableHeader__","hasActions","i18n","__WEBPACK_IMPORTED_MODULE_4__services_i18n__","Body","renderRows","__WEBPACK_IMPORTED_MODULE_6__Pagination__","fitted","listPage","slice","thisRef","changes","i","__WEBPACK_IMPORTED_MODULE_8__TableRow__","idFunc","tableRef","actionable","editing","isEditing","onSave","onDelete","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","Pagination","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","pagination","renderFirst","renderPrevMore","renderMain","renderNextMore","renderLast","Item","e","from","to","pages","push","p","active","DataTableHeader","Row","renderFields","field","HeaderCell","TableRow","apply","arguments","onEditEmpty","undefined","j","Cell","collapsing","renderField","renderEdit","__WEBPACK_IMPORTED_MODULE_2__Util__","col","Field","fluid","selection","search","control","placeholder","onChange","Input","type","_canEdit","_canDelete","primary","del","endpoint","objId","noDetails","id","data","_state","ownProps","replace","creating","types","api","perm","split","perms","permissions","mapStateToProps","requestList","requestDetails","requestCreate","requestChange","requestDelete","setFilter","equals","o1","o2","mapDispatchToProps","expandRef","create","save","endEdit","delete","onCreate","newObj","__WEBPACK_IMPORTED_MODULE_8__Util__","concat","static","interval","setInterval","componentWillUnmount","clearInterval","createTitle","checks","regsValid","val","func_1","createFields","filterFields","ff","find","dataVal","filterValue","v","indexOf","RegExp","test","_b","every","check","cols","origActions","DT","createTable","createForm","renderCreateForm","filterForm","renderFilterForm","basic","doubling","columns","__WEBPACK_IMPORTED_MODULE_6__DataTable__","checkCreatePerm","createButton","Column","__WEBPACK_IMPORTED_MODULE_5__CreateForm__","button","__WEBPACK_IMPORTED_MODULE_7__FilterForm__","valid","values","onFilterChange","CreateForm","handleClick","__WEBPACK_IMPORTED_MODULE_4__Util__","canCreate","createName","styled","Title","renderFieldGroups","fieldGroups","newField","isGroup","only","second","first","fg","widths","FilterForm","__WEBPACK_IMPORTED_MODULE_3__Util__","fs","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","error","visible","multiple","itemStackStyle","display","verticalAlign","margin","padding","border","borderRadius","default_1","item","renderRemoveButton","renderDurability","renderQuantity","renderEnchantments","renderSpawn","renderPotionEffects","renderFoodRestoration","renderBurningFuel","onRemove","compact","floated","durability","unbreakable","useLimit","quantity","enchantments","enchant","renderEnchant","spawn","potionEffects","effect","num","getRoman","amplifier","getAmplifier","renderEffect","foodRestoration","burningFuel","__webpack_require__","n","x","toFixed","y","z","customizer","objValue","srcValue","InventoryComp","toggleStacked","stacked","shown","toggle","slots","renderStackToggle","renderItems","as","stackOption","checked","items","s","stack","dontStack","itemGroups","itemGroup","newItem","__WEBPACK_IMPORTED_MODULE_4__ItemStack__"],"mappings":"uiBAsBMA,EAAWC,OAAAC,EAAA,EAAAD,CAAa,SAAU,QAexCE,EAAA,SAAAC,GACC,SAAAD,EAAmBE,GAAnB,IAAAC,EACCF,EAAAG,KAAAC,KAAMH,IAAMG,YAgCLF,EAAAG,YAAc,WACrBH,EAAKI,UACJC,OAAQL,EAAKM,MAAMD,SAoGbL,EAAAO,cAAgB,SAACC,EAAgBC,GAChC,IAAAC,EAAAV,EAAAD,MAAAW,EAMR,OACCC,EAAA,cAAAA,EAAA,cACCA,EAAA,cAACC,EAAA,GACAC,WAAS,EACTC,QAAUN,EAAeO,SACzBC,SAAWR,EAAeO,SAC1BE,QAVe,WAAM,OAAAjB,EAAKkB,cAAcV,EAAQC,KAY/CC,EAAE,cACM,IACVC,EAAA,cAACC,EAAA,GACAO,UAAQ,EACRL,QAAUN,EAAeO,SACzBC,SAAWR,EAAeO,SAC1BE,QAjBY,WAAM,OAAAjB,EAAKoB,KAAKZ,KAmB3BE,EAAE,SACM,IACVC,EAAA,cAACC,EAAA,GACAO,UAAQ,EACRL,QAAUN,EAAeO,SACzBC,SAAWR,EAAeO,SAC1BE,QAxBW,WAAM,OAAAjB,EAAKqB,IAAIb,KA0BzBE,EAAE,UAnKNV,EAAKM,OACJD,OAAO,GAGRL,EAAKG,YAAcH,EAAKG,YAAYmB,KAAKtB,GACzCA,EAAKkB,cAAgBlB,EAAKkB,cAAcI,KAAKtB,KA2L/C,OApMsBuB,EAAA1B,EAAAC,GAYdD,EAAA2B,UAAAC,kBAAP,WACCvB,KAAKH,MAAM2B,iBAGJ7B,EAAA2B,UAAAJ,KAAR,SAAaZ,GACZN,KAAKH,MAAM4B,kBAAkBnB,IAGtBX,EAAA2B,UAAAH,IAAR,SAAYb,GACXN,KAAKH,MAAM6B,iBAAiBpB,IAGrBX,EAAA2B,UAAAN,cAAR,SAAsBV,EAAgBC,GACrCA,EAAKoB,QAAQrB,GAEbN,KAAKE,UACJC,OAAO,EACPG,OAAQA,EACRsB,UAAWtB,EAAOsB,aAUbjC,EAAA2B,UAAAO,OAAP,WACS,IAAArB,EAAAR,KAAAH,MAAAW,EAEFsB,GACLC,MACCC,MAAOxB,EAAE,YACTyB,QAAQ,EACR1B,KAAM,SAACD,GAAmB,OACzBG,EAAA,cAACC,EAAA,GACAwB,SAAO,EACPC,WAAS,EACTC,IAAK,QAAS,SACdC,QAAS5B,EAAA,yBAAMH,EAAOyB,MACtBO,QAAShC,EAAOiC,KAChBC,SAAS,mBAIZC,OACCT,MAAOxB,EAAE,SACTD,MAAM,EACN0B,QAAQ,EACRS,WAAY,sBACZC,QAASlD,OAAAmD,EAAA,EAAAnD,CAAmBO,KAAKH,MAAMgD,QACvCC,UAAU,GAEXC,UACCf,MAAOxB,EAAE,YACTD,KAAM,SAACD,GAAmB,OAAAG,EAAA,cAACuC,EAAA,GAASD,SAAUzC,EAAOyC,aAEtDE,QACCjB,MAAOxB,EAAE,cACT0C,MAAM,EACN3C,KAAM,SAACD,GACN,GAAKA,EAAO2C,QAAW3C,EAAO6C,KAI9B,OACC1C,EAAA,cAAAA,EAAA,cACCA,EAAA,cAACC,EAAA,GACA0C,UAAQ,EACRC,MAAM,MACNC,OAASC,aAAc,OACvBC,QAAS/D,OAAAmD,EAAA,EAAAnD,CAAYa,EAAO2C,OAAOQ,QAASnD,EAAO2C,OAAOS,OAE3DjD,EAAA,cAACC,EAAA,GACA0C,UAAQ,EACRC,MAAM,QACNG,QAAS/D,OAAAmD,EAAA,EAAAnD,CAAYa,EAAO6C,KAAKQ,UAAW,SAMjDC,MACC5B,MAAOxB,EAAE,QACT0C,MAAM,EACN3C,KAAM,SAACD,GACN,IAAMuD,EAAKvD,EAAOwD,UAAYrD,EAAA,cAACC,EAAA,EAAK,KAAEJ,EAAOwD,SAAS/B,MAChDgC,EAAMzD,EAAO0D,YAClBvD,EAAA,cAACC,EAAA,EAAK,KACJF,EAAE,SACHC,EAAA,cAACC,EAAA,EAAMuD,OAAM,KAAE3D,EAAO0D,WAAWE,QAInC,OACCzD,EAAA,cAACC,EAAA,EAAMyD,MAAK,KACX1D,EAAA,cAACC,EAAA,EAAK,KACJF,EAAE,MACHC,EAAA,cAACC,EAAA,EAAMuD,OAAM,KAAE3D,EAAO8D,UAEtBP,EACAE,MAON,OACCtD,EAAA,cAAAA,EAAA,cACCA,EAAA,cAACjB,GACA6E,KAAK,QACLC,MAAO9D,EAAE,WACT+D,YAAa/D,EAAE,iBACfsB,OAAQA,EACR0C,QAASxE,KAAKK,gBAGdL,KAAKyE,gBA0CD9E,EAAA2B,UAAAmD,YAAR,WACC,OAAKzE,KAAKI,MAAME,QAAWN,KAAKI,MAAMwB,UAKrCnB,EAAA,cAACC,EAAA,GACAgE,KAAM1E,KAAKI,MAAMD,MACjBwE,QAAS3E,KAAKC,YACd2E,KAAK,aACLC,UAAU,aAEVpE,EAAA,cAACC,EAAA,EAAMoE,OAAM,KACZrE,EAAA,cAACsE,EAAA,GAAMC,QAAQ,kBACbhF,KAAKI,MAAME,OAAOyB,sBAGrBtB,EAAA,cAACC,EAAA,EAAMuE,QAAO,KACbxE,EAAA,cAACyE,EAAA,GAActD,UAAW5B,KAAKI,MAAMwB,UAAWuD,cAAc,MAhBzD,MAqBVxF,EApMA,CAAsBc,EAAA,WAoNP2E,EAAA,QAAA3F,OAAA4F,EAAA,EAAA5F,CAdS,SAACW,GACxB,OACCyC,OAAQzC,EAAMqC,MAAM6C,OAIK,SAACC,GAC3B,OACC9D,kBAAmB,SAACnB,GAAmB,OAAAiF,EAAS9F,OAAA+F,EAAA,EAAA/F,CAAkBa,KAClEoB,iBAAkB,SAACpB,GAAmB,OAAAiF,EAAS9F,OAAA+F,EAAA,EAAA/F,CAAiBa,KAChEkB,cAAe,WAAM,OAAA+D,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAY,SAAS,OAItC,CAGbA,OAAAsF,EAAA,EAAAtF,CAAgB,UAAhBA,CAA2BE,6sBCnN7B+F,EAAA,SAAA9F,GAGC,SAAA8F,EAAmB7F,GAAnB,IAAAC,EACCF,EAAAG,KAAAC,KAAMH,IAAMG,YAqBLF,EAAA6F,WAAa,SAACC,EAAsCC,GAC3DD,EAAME,iBAENhG,EAAKI,UACJ2F,KAAMA,KAIA/F,EAAAiG,OAAS,SAACC,EAAoBzF,GACrC,IAAM0F,KACFD,GACHvG,OAAOyG,KAAKpG,EAAKD,MAAMiC,QAAQqE,QAAQ,SAAApE,GACjCjC,EAAKD,MAAMiC,OAAOC,GAAMqE,OAG7BH,EAAQlE,GAAQsE,EAAA,IAAML,EAAKjE,MAI7BjC,EAAKI,UACJ+F,QAASA,IAGNnG,EAAKD,MAAMkG,QACdjG,EAAKD,MAAMkG,OAAOC,EAAKzF,IA3CxBT,EAAKM,OACJyF,KAAM,EACNI,YAGDnG,EAAK6F,WAAa7F,EAAK6F,WAAWvE,KAAKtB,GACvCA,EAAKwG,eAAiBxG,EAAKwG,eAAelF,KAAKtB,GAC/CA,EAAKyG,aAAeC,EAAA,EAAapF,KAAKtB,EAAMA,EAAKwG,kBA6InD,OA1J2BjF,EAAAqE,EAAA9F,GAgBlB8F,EAAApE,UAAAgF,eAAR,SAAuBG,EAAaC,SACnC1G,KAAKE,UACJ+F,QAAOU,KACH3G,KAAKI,MAAM6F,SAAOW,OACpBH,GAAMC,EAAKE,OAiCRlB,EAAApE,UAAAuF,sBAAP,SAA6BC,EAAqBC,GACjD,OACCD,EAAUhF,SAAW9B,KAAKH,MAAMiC,QAChCgF,EAAUxB,OAAStF,KAAKH,MAAMyF,MAC9ByB,EAAUlB,OAAS7F,KAAKI,MAAMyF,MAC9BkB,EAAUd,UAAYjG,KAAKI,MAAM6F,SAI5BP,EAAApE,UAAAO,OAAP,eAAA/B,EAAAE,KACO4G,EAAA5G,KAAAH,MAAEyF,EAAAsB,EAAAtB,KAAM0B,EAAAJ,EAAAI,QAASC,EAAAL,EAAAK,UAAWzC,EAAAoC,EAAApC,QAC5B1C,EAASrC,OAAOyG,KAAKlG,KAAKH,MAAMiC,QACpCoF,IAAI,SAAAC,GAAK,OAAArH,EAAKD,MAAMiC,OAAOqF,KAC3BlF,OAAO,SAAAkF,GAAK,OAAAA,EAAE5G,OAEV6G,EAAUC,KAAKC,KAAKhC,EAAKiC,OAhGV,IAiGf1B,EAAOwB,KAAKG,IAAIxH,KAAKI,MAAMyF,KAAMuB,EAAU,GAE3CK,EAAKzH,KAAKH,MAAMW,EAChBkH,EAAWrB,EAAA,KAAOf,EAAM0B,GACxBW,EAAYtB,EAAA,KAAOf,EAAM2B,GAE/B,OACCW,EAAA,qBAAKtE,OAASuE,UAAW,QACvB7H,KAAK8H,eAENF,EAAA,cAAClH,EAAA,GAAMqH,SAAS,EAAMC,WAAS,GAC9BJ,EAAA,cAACK,EAAA,GACAnG,OAAQA,EACRoG,WAA+B,qBAAZ1D,EACnBwC,QAASU,EACTT,UAAWU,EACXQ,KAAMC,EAAA,EACN5H,EAAGiH,IAEJG,EAAA,cAAClH,EAAA,EAAM2H,KAAI,KAAErI,KAAKsI,WAAWxG,EAAQ+D,KAEtC+B,EAAA,cAACW,EAAA,GACA1C,KAAMA,EACNuB,QAASA,EACTzB,WAAY3F,KAAK2F,eAMbD,EAAApE,UAAAwG,aAAR,WACO,IAAAlB,EAAA5G,KAAAH,MAAEwE,EAAAuC,EAAAvC,KAAMC,EAAAsC,EAAAtC,MAEd,OAAKA,EAKJsD,EAAA,cAAClH,EAAA,EAAM,KACNkH,EAAA,cAAClH,EAAA,GAAK8H,QAAM,EAACzG,KAAMsC,QAAUC,GALvB,MAUDoB,EAAApE,UAAAgH,WAAR,SAAmBxG,EAA2B+D,GAA9C,IAAA/F,EAAAE,KACO4G,EAAA5G,KAAAH,MAAEyF,EAAAsB,EAAAtB,KAAM0B,EAAAJ,EAAAI,QAASC,EAAAL,EAAAK,UAAWzC,EAAAoC,EAAApC,QAAShE,EAAAoG,EAAApG,EAErCiI,EAAWnD,EAAKoD,MAhJD,GAiJpB7C,EAjJoB,IAkJnBA,EAAO,IAGH8C,GACLpC,aAAcvG,KAAKuG,aACnBnG,MAAOJ,KAAKI,MAAM6F,QAClB/F,SAAU,SAAC0I,GACV,OAAA9I,EAAKI,UACJ+F,QAAOU,KAAO7G,EAAKM,MAAM6F,QAAY2C,OAIlClB,EAAWrB,EAAA,KAAOf,EAAM0B,GACxBW,EAAYtB,EAAA,KAAOf,EAAM2B,GAE/B,OAAOwB,EAASvB,IAAI,SAAClB,EAAK6C,GAAM,OAC/BjB,EAAA,cAACkB,EAAA,GACArC,IAAK3G,EAAKD,MAAMkJ,OAAO/C,GACvBA,IAAKA,EACLgD,SAAUL,EACVM,WAAYvB,GAAYC,EACxBX,QAASA,EACTC,UAAWA,EACXiC,QAASpJ,EAAKD,MAAMsJ,UAAUnD,GAC9BlE,OAAQA,EACRiE,OAAQjG,EAAKiG,OACbqD,OAAQtJ,EAAKD,MAAMuJ,OACnBC,SAAUvJ,EAAKD,MAAMwJ,SACrB7E,QAASA,EACTyB,QAASnG,EAAKM,MAAM6F,QACpBM,aAAczG,EAAKyG,aACnB4B,KAAMC,EAAA,EACN5H,EAAGA,OAIPkF,EA1JA,CAA2BkC,EAAA,WA4JZxC,EAAA,EAAA3F,OAAA6J,EAAA,EAAA7J,CAAgB,YAAhB,CAA6BiG,kaC5L5C6D,EAAA,SAAA3J,GAAA,SAAA2J,mDA+FA,OA/FwClI,EAAAkI,EAAA3J,GAChC2J,EAAAjI,UAAAuF,sBAAP,SAA6BC,EAAkBC,GAC9C,OACCD,EAAUjB,OAAS7F,KAAKH,MAAMgG,MAC9BiB,EAAUM,UAAYpH,KAAKH,MAAMuH,SAI5BmC,EAAAjI,UAAAO,OAAP,WACC,OAAI7B,KAAKH,MAAMuH,SAAW,EAClB,KAIP3G,EAAA,cAAC+I,EAAA,GAAKC,YAAU,GACdzJ,KAAK0J,cACL1J,KAAK2J,iBACL3J,KAAK4J,aACL5J,KAAK6J,iBACL7J,KAAK8J,eAKDP,EAAAjI,UAAAoI,YAAR,eAAA5J,EAAAE,KACC,OAAIA,KAAKH,MAAMgG,MAAQ,EACf,KAIDpF,EAAA,cAAC+I,EAAA,EAAKO,MAAKhJ,QAAS,SAAAiJ,GAAK,OAAAlK,EAAKD,MAAM8F,WAAWqE,EAAG,KAAE,MAGpDT,EAAAjI,UAAAqI,eAAR,eAAA7J,EAAAE,KACC,OAAIA,KAAKH,MAAMgG,MAAQ,EACf,KAKPpF,EAAA,cAAC+I,EAAA,EAAKO,MAAKhJ,QAAS,SAAAiJ,GAAK,OAAAlK,EAAKD,MAAM8F,WAAWqE,EAAGlK,EAAKD,MAAMgG,KAAO,KAAE,QAMhE0D,EAAAjI,UAAAsI,WAAR,WAMC,IAND,IAAA9J,EAAAE,KACO4G,EAAA5G,KAAAH,MAAEgG,EAAAe,EAAAf,KAAMuB,EAAAR,EAAAQ,QACR6C,EAAO5C,KAAK3D,IAAI,EAAGmC,EAAO,GAC1BqE,EAAK7C,KAAKG,IAAIJ,EAASvB,EAAO,GAE9BsE,KACGtB,EAAIoB,EAAMpB,EAAIqB,EAAIrB,IAC1BsB,EAAMC,KAAKvB,GAGZ,OAAOsB,EAAMjD,IAAI,SAAAmD,GAAK,OACrB5J,EAAA,cAAC+I,EAAA,EAAKO,MACLtD,IAAK4D,EAELtJ,QAAS,SAAAiJ,GAAK,OAAAlK,EAAKD,MAAM8F,WAAWqE,EAAGK,IACvCC,OAAQD,IAAMxE,GAEbwE,EAAI,MAKAd,EAAAjI,UAAAuI,eAAR,eAAA/J,EAAAE,KACC,OAAIA,KAAKH,MAAMgG,MAAQ7F,KAAKH,MAAMuH,QAAU,EACpC,KAKP3G,EAAA,cAAC+I,EAAA,EAAKO,MAAKhJ,QAAS,SAAAiJ,GAAK,OAAAlK,EAAKD,MAAM8F,WAAWqE,EAAGlK,EAAKD,MAAMgG,KAAO,KAAE,QAMhE0D,EAAAjI,UAAAwI,WAAR,eAAAhK,EAAAE,KACC,OAAIA,KAAKH,MAAMgG,MAAQ7F,KAAKH,MAAMuH,QAAU,EACpC,KAIP3G,EAAA,cAAC+I,EAAA,EAAKO,MAELhJ,QAAS,SAAAiJ,GAAK,OAAAlK,EAAKD,MAAM8F,WAAWqE,EAAGlK,EAAKD,MAAMuH,QAAU,KAE3DpH,KAAKH,MAAMuH,UAIhBmC,EA/FA,CAAwC9I,EAAA,gbCIxC8J,EAAA,SAAA3K,GAAA,SAAA2K,mDAqCA,OArCgDlJ,EAAAkJ,EAAA3K,GACxC2K,EAAAjJ,UAAAuF,sBAAP,SAA6BC,EAAqBC,GACjD,OAAOD,EAAUhF,SAAW9B,KAAKH,MAAMiC,QAGjCyI,EAAAjJ,UAAAO,OAAP,WACC,OACCpB,EAAA,cAAC+I,EAAA,EAAM1E,OAAM,KACZrE,EAAA,cAAC+I,EAAA,EAAMgB,IAAG,KACRxK,KAAKyK,eACLzK,KAAKK,mBAMFkK,EAAAjJ,UAAAmJ,aAAR,eAAA3K,EAAAE,KACC,OAAOP,OAAOyG,KAAKlG,KAAKH,MAAMiC,QAAQoF,IAAI,SAAAnF,GACzC,IAAM2I,EAAQ5K,EAAKD,MAAMiC,OAAOC,GAChC,OACCtB,EAAA,cAAC+I,EAAA,EAAMmB,YAAWlE,IAAK1E,GACrB2I,EAAM1I,MAAQ0I,EAAM1I,MAAQ,IAAM0I,EAAM3I,KAAO,QAM5CwI,EAAAjJ,UAAAjB,cAAR,WACC,OACEL,KAAKH,MAAMqI,YACXlI,KAAKH,MAAMmH,SACXhH,KAAKH,MAAMoH,UAINxG,EAAA,cAAC+I,EAAA,EAAMmB,WAAU,KAAE3K,KAAKH,MAAMW,EAAE,YAF/B,MAIV+J,EArCA,CAAgD9J,EAAA,ybCUhDmK,EAAA,SAAAhL,GAAA,SAAAgL,IAAA,IAAA9K,EAAA,OAAAF,KAAAiL,MAAA7K,KAAA8K,YAAA9K,YAUSF,EAAAsJ,OAAS,WACV,IAAAxC,EAAA9G,EAAAD,MAAEmG,EAAAY,EAAAZ,IAAKgD,EAAApC,EAAAoC,SAETlJ,EAAKD,MAAMuJ,QACdtJ,EAAKD,MAAMuJ,OAAOpD,EAAKlG,EAAKD,MAAMoG,QAAS+C,IAIrClJ,EAAAiL,YAAc,WACrBjL,EAAKD,MAAMkG,YAAOiF,EAAWlL,EAAKD,MAAMmJ,WAGjClJ,EAAAiG,OAAS,WAChBjG,EAAKD,MAAMkG,OAAOjG,EAAKD,MAAMmG,IAAKlG,EAAKD,MAAMmJ,WAGtClJ,EAAAuJ,SAAW,WACdvJ,EAAKD,MAAMwJ,UACdvJ,EAAKD,MAAMwJ,SAASvJ,EAAKD,MAAMmG,IAAKlG,EAAKD,MAAMmJ,aA6IlD,OAzKyC3H,EAAAuJ,EAAAhL,GACjCgL,EAAAtJ,UAAAuF,sBAAP,SAA6BC,EAAqBC,GACjD,OACCD,EAAUd,MAAQhG,KAAKH,MAAMmG,KAC7Bc,EAAUoC,UAAYlJ,KAAKH,MAAMqJ,SACjCpC,EAAUhF,SAAW9B,KAAKH,MAAMiC,QAC/B9B,KAAKH,MAAMqJ,SAAWpC,EAAUb,UAAYjG,KAAKH,MAAMoG,SA0BnD2E,EAAAtJ,UAAAO,OAAP,WACC,OACCpB,EAAA,cAAC+I,EAAA,EAAMgB,IAAG,KACRxK,KAAKyK,eACLzK,KAAKK,kBAKDuK,EAAAtJ,UAAAmJ,aAAR,eAAA3K,EAAAE,KAGC,OAFQA,KAAAH,MAAAiC,OAEMoF,IAAI,SAACwD,EAAOO,GAAM,OAC/BxK,EAAA,cAAC+I,EAAA,EAAM0B,MAAKzE,IAAKwE,EAAGE,YAAaT,EAAMxH,MACrCpD,EAAKsL,YAAYV,OAKbE,EAAAtJ,UAAA8J,YAAR,SAAoBV,GACb,IAAA9D,EAAA5G,KAAAH,MAAEmG,EAAAY,EAAAZ,IAAKkD,EAAAtC,EAAAsC,QAASF,EAAApC,EAAAoC,SAEtB,OAAO0B,EAAMtE,MAAQ8C,EACI,oBAAfwB,EAAMtE,KACZsE,EAAMtE,KAAKJ,EAAKgD,GAChBhJ,KAAKqL,WAAWrF,EAAK0E,GACA,oBAAfA,EAAMnK,KACbmK,EAAMnK,KAAKyF,EAAKgD,GAChBvJ,OAAA6L,EAAA,EAAA7L,CAAIuG,EAAK0E,EAAM3I,OAGX6I,EAAAtJ,UAAA+J,WAAR,SAAmBrF,EAAQuF,GAC1B,OAAIA,EAAI5I,QAENlC,EAAA,cAAC+I,EAAA,EAAKgC,OACLC,OAAK,EACLC,WAAS,EACTC,QAAM,EACNC,QAASpC,EAAA,EACTzH,KAAMwJ,EAAIxJ,KACV8J,YAAaN,EAAIvJ,MACjBW,QAAS4I,EAAI5I,QACb+D,MAAO1G,KAAKH,MAAMoG,QAAQsF,EAAIxJ,MAC9B+J,SAAU9L,KAAKH,MAAM0G,eAMvB9F,EAAA,cAAC+I,EAAA,EAAKuC,OACLhK,KAAMwJ,EAAIxJ,KACViK,KAAMT,EAAIS,KAAOT,EAAIS,KAAO,OAC5BH,YAAaN,EAAIvJ,MACjB0E,MAAO1G,KAAKH,MAAMoG,QAAQsF,EAAIxJ,MAC9B+J,SAAU9L,KAAKH,MAAM0G,gBAKhBqE,EAAAtJ,UAAAjB,cAAR,WACO,IAAAuG,EAAA5G,KAAAH,MACL2E,EAAAoC,EAAApC,QACAwB,EAAAY,EAAAZ,IACAiD,EAAArC,EAAAqC,WACAjC,EAAAJ,EAAAI,QACAC,EAAAL,EAAAK,UACAiC,EAAAtC,EAAAsC,QACAF,EAAApC,EAAAoC,SAGKiD,EAA8B,oBAAZjF,EAAyBA,EAAQhB,GAAOgB,EAC1DkF,EACgB,oBAAdjF,EAA2BA,EAAUjB,GAAOgB,EAEpD,IAAKxC,IAAYyE,EAChB,OAAO,KAGR,IAAI7C,EAAO,KACP6F,GAAY/C,EACf9C,EACC3F,EAAA,cAAC+I,EAAA,EAAM0B,MAAKC,YAAU,GACrB1K,EAAA,cAAC+I,EAAA,GACA2C,SAAO,EACPrL,SAAWkF,EAAYnF,SACvBD,QAAUoF,EAAYnF,SACtBE,QAASf,KAAKoJ,QAEd3I,EAAA,cAAC+I,EAAA,GAAKzH,KAAK,aAAW/B,KAAKH,MAAMW,EAAE,SAEpCC,EAAA,cAAC+I,EAAA,GACA7I,WAAS,EACTG,SAAWkF,EAAYnF,SACvBD,QAAUoF,EAAYnF,SACtBE,QAASf,KAAK+K,aAEdtK,EAAA,cAAC+I,EAAA,GAAKzH,KAAK,eAAa/B,KAAKH,MAAMW,EAAE,YAI9ByL,IACV7F,EACC3F,EAAA,cAAC+I,EAAA,EAAM0B,MAAKC,YAAU,GACrB1K,EAAA,cAAC+I,EAAA,GACA2C,SAAO,EACPrL,SAAWkF,EAAYnF,SACvBD,QAAUoF,EAAYnF,SACtBE,QAASf,KAAK+F,QAEdtF,EAAA,cAAC+I,EAAA,GAAKzH,KAAK,aAAW/B,KAAKH,MAAMW,EAAE,WAMvC,IAAI4L,EAAM,KAcV,OAbIF,IACHE,EACC3L,EAAA,cAAC+I,EAAA,GACAvI,UAAQ,EACRH,SAAWkF,EAAYnF,SACvBD,QAAUoF,EAAYnF,SACtBE,QAASf,KAAKqJ,UAEd5I,EAAA,cAAC+I,EAAA,GAAKzH,KAAK,cAAY/B,KAAKH,MAAMW,EAAE,YAMtCC,EAAA,cAAC+I,EAAA,EAAM0B,MAAKC,YAAU,GACpB/E,EACAgG,EACA5H,EAAUA,EAAQwB,EAAKgD,GAAY,OAIxC4B,EAzKA,CAAyCnK,EAAA,uDCqX1B,SACd4L,EACAC,EACAC,GAEKD,IACJA,EAAQ,MAET,IAAME,EACY,oBAAVF,EACJA,EACA,SAACG,GAAY,OAAApG,EAAA,IAAMoG,EAAMH,IAE7B,OAAO7M,OAAA4F,EAAA,EAAA5F,CApDR,SAA4B4M,EAAkBG,GAC7C,OAAO,SAACE,EAAkBC,GACzB,IAAMvM,EAA0BiG,EAAA,IAC/BqG,EACAL,EAASO,QAAQ,MAAO,KAAKA,QAAQ,IAAK,KAG3C,OACCC,WAAUzM,GAAQA,EAAMyM,SACxB5K,OAAQ7B,GAASA,EAAM6B,OAAS7B,EAAM6B,UACtCqD,KAAMlF,EAAQA,EAAMkF,QACpBwH,MAAOJ,EAAOK,IAAID,MAClB/D,OAAQyD,EACRQ,KAAMX,EAASY,MAAM,KACrBC,MAAOR,EAAOK,IAAII,cAuCnBC,CAAmBf,EAAUG,GAlC/B,SACCH,EACAG,EACAD,GAEA,OAAO,SAAChH,GACP,OACC8H,YAAa,WAAM,OAAA9H,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAY4M,GAAWE,KACnDe,eAAgB,SAACb,GAAY,OAAAlH,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAe4M,EAAUG,EAAIC,KACnEc,cAAe,SAACd,GAAY,OAAAlH,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAc4M,EAAUG,EAAIC,KACjEe,cAAe,SAACf,EAASxG,GACxB,OAAAV,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAc4M,EAAUG,EAAIC,EAAMxG,KAC5CwH,cAAe,SAAChB,GAAY,OAAAlH,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAc4M,EAAUG,EAAIC,KACjEiB,UAAW,SAACzL,EAAgByE,GAC3B,OAAAnB,EAAS9F,OAAAgG,EAAA,EAAAhG,CAAU4M,EAAUpK,EAAQyE,KACtCiH,OAAQ,SAACC,EAAOC,GAAU,OAAM,MAAND,GAAoB,MAANC,GAAcrB,EAAGoB,KAAQpB,EAAGqB,MAoBrEC,CAAsBzB,EAAUG,IAAID,GAF9B9M,CAGLD,6rBAvXHA,EAAA,SAAAI,GAGC,SAAAJ,EAAmBK,GAAnB,IAAAC,EACCF,EAAAG,KAAAC,KAAMH,IAAMG,YAwNLF,EAAAiO,UAAY,SAAC/E,GAA2C,OAAArC,KAC5DqC,GACHgF,OAAQlO,EAAKkO,OACbrM,QAAS7B,EAAK6B,QACdsM,KAAMnO,EAAKmO,KACX7H,KAAMtG,EAAKsG,KACX8H,QAASpO,EAAKoO,QACdC,OAAQrO,EAAKqO,UAGNrO,EAAAsO,SAAW,SAACpI,EAAQgD,GAC3BlJ,EAAKD,MAAMuO,SACRtO,EAAKD,MAAMuO,SAASpI,EAAKlG,EAAKiO,UAAU/E,IACxClJ,EAAKkO,OAAOhI,IAGRlG,EAAAiG,OAAS,SAACC,EAAQgD,GACzBlJ,EAAKD,MAAMkG,OACRjG,EAAKD,MAAMkG,OAAOC,EAAKlG,EAAKiO,UAAU/E,IACtClJ,EAAKsG,KAAKJ,IAGNlG,EAAAsJ,OAAS,SAACpD,EAAQqI,EAAarF,GACtClJ,EAAKD,MAAMuJ,OACRtJ,EAAKD,MAAMuJ,OAAOpD,EAAKqI,EAAQvO,EAAKiO,UAAU/E,IAC9ClJ,EAAKmO,KAAKjI,EAAKqI,IAGXvO,EAAAuJ,SAAW,SAACrD,EAAQgD,GAC3BlJ,EAAKD,MAAMwJ,SACRvJ,EAAKD,MAAMwJ,SAASrD,EAAKlG,EAAKiO,UAAU/E,IACxClJ,EAAKqO,OAAOnI,IAGRlG,EAAAkH,QAAU,SAAChB,GACZ,IAAAY,EAAA9G,EAAAD,MAAEmH,EAAAJ,EAAAI,QAASkG,EAAAtG,EAAAsG,MAAOF,EAAApG,EAAAoG,KACxB,OACqB,oBAAZhG,EAAyBA,EAAQhB,KAASgB,IAClDvH,OAAA6O,EAAA,EAAA7O,CAAiByN,EAAOF,EAAKuB,OAAO,YAI9BzO,EAAAmH,UAAY,SAACjB,GACd,IAAAY,EAAA9G,EAAAD,MAAEoH,EAAAL,EAAAK,UAAWiG,EAAAtG,EAAAsG,MAAOF,EAAApG,EAAAoG,KAC1B,OACuB,oBAAd/F,EAA2BA,EAAUjB,KAASiB,IACtDxH,OAAA6O,EAAA,EAAA7O,CAAiByN,EAAOF,EAAKuB,OAAO,YAI9BzO,EAAAqJ,UAAY,SAACnD,GAAW,OAAAlG,EAAKD,MAAM8N,OAAO3H,EAAKlG,EAAKM,MAAMqM,OAxQjE3M,EAAKM,OACJyF,KAAM,EACN4G,UAAMzB,GAGPlL,EAAK6B,QAAU7B,EAAK6B,QAAQP,KAAKtB,GACjCA,EAAKkO,OAASlO,EAAKkO,OAAO5M,KAAKtB,GAC/BA,EAAKsG,KAAOtG,EAAKsG,KAAKhF,KAAKtB,GAC3BA,EAAKoO,QAAUpO,EAAKoO,QAAQ9M,KAAKtB,GACjCA,EAAKmO,KAAOnO,EAAKmO,KAAK7M,KAAKtB,GAC3BA,EAAKqO,OAASrO,EAAKqO,OAAO/M,KAAKtB,KA8SjC,OA9T0BuB,EAAA7B,EAAAI,GAmBlBJ,EAAA8B,UAAAC,kBAAP,WACMvB,KAAKH,MAAM2O,SACfxO,KAAKH,MAAMwN,cACXrN,KAAKyO,SAAWC,YAAY1O,KAAKH,MAAMwN,YAAa,OAI/C7N,EAAA8B,UAAAqN,qBAAP,WACK3O,KAAKyO,UACRG,cAAc5O,KAAKyO,WAIdjP,EAAA8B,UAAAuF,sBAAP,SACCC,EACAC,GAEA,OACCD,EAAU+F,WAAa7M,KAAKH,MAAMgN,UAClC/F,EAAU7E,SAAWjC,KAAKH,MAAMoC,QAChC6E,EAAUhF,SAAW9B,KAAKH,MAAMiC,QAChCgF,EAAUxB,OAAStF,KAAKH,MAAMyF,MAC9ByB,EAAU0F,OAASzM,KAAKI,MAAMqM,MAKxBjN,EAAA8B,UAAA0M,OAAR,SAAevB,GACdzM,KAAKH,MAAM0N,cAAcd,IAIlBjN,EAAA8B,UAAAK,QAAR,SAAgB8K,GACfzM,KAAKH,MAAMyN,eAAeb,IAInBjN,EAAA8B,UAAA8E,KAAR,SAAaqG,GACZzM,KAAKE,UAAWuM,KAAIA,KAIbjN,EAAA8B,UAAA2M,KAAR,SAAaxB,EAASxG,GACrBjG,KAAKH,MAAM2N,cAAcf,EAAMxG,GAC/BjG,KAAKkO,WAIE1O,EAAA8B,UAAA4M,QAAR,WACClO,KAAKE,UACJuM,UAAMzB,KAKAxL,EAAA8B,UAAA6M,OAAR,SAAe1B,GACdzM,KAAKH,MAAM4N,cAAchB,IAGnBjN,EAAA8B,UAAAO,OAAP,eAAA/B,EAAAE,KACO4G,EAAA5G,KAAAH,MAAEoC,EAAA2E,EAAA3E,OAAQqC,EAAAsC,EAAAtC,MAAOuK,EAAAjI,EAAAiI,YAAatK,EAAAqC,EAAArC,YAE9BuK,KACFC,GAAY,EAGVjN,EAA2CuE,EAAA,UAChDrG,KAAKH,MAAMiC,OACX,SAAC4E,EAAO3E,GACP,IAAIiN,GACHjN,KAAMA,EACNxB,MAAM,GAMP,GAAqB,kBAAVmG,EACVsI,EAAIhN,MAAQ0E,OACN,GAAqB,oBAAVA,EACjBsI,EAAIzO,KAAO,SAACyF,EAAQgD,GACnB,OAAAtC,EAAMV,EAAKlG,EAAKiO,UAAU/E,UACrB,GAAqB,kBAAVtC,IACjBsI,EAAGrI,KAAQqI,EAAQtI,GACO,oBAAfA,EAAMnG,MAAqB,CACrC,IAAM0O,EAAOvI,EAAMnG,KACnByO,EAAIzO,KAAO,SAACyF,EAAQgD,GACnB,OAAAiG,EAAKjJ,EAAKlG,EAAKiO,UAAU/E,KAI5B,OAAOgG,IAMHE,KACAC,KACN1P,OAAOyG,KAAKpE,GAAQqE,QAAQ,SAAAgB,GACvBrF,EAAOqF,GAAG6G,SACbkB,EAAa/H,GAAKrF,EAAOqF,IAEtBrF,EAAOqF,GAAGlF,SACbkN,EAAahI,GAAKrF,EAAOqF,MAI3B,IACC1H,OAAOyG,KAAKjE,GAAQkE,QAAQ,SAAApE,GAC3B,IAAM2E,EAAQzE,EAAOF,GAIfqN,EACL3P,OAAOyG,KAAKiJ,GACVjI,IAAI,SAAAC,GAAK,OAAAgI,EAAahI,KACtBkI,KAAK,SAAAlI,GAAK,OAAAA,EAAEzE,aAAeX,KAASoN,EAAapN,GAGhDiN,EAAM,SAACM,GAAe,OAAAjJ,EAAA,IAAMiJ,EAASvN,IAOzC,GAN8B,oBAAnBqN,EAAGG,cACbP,EAAMI,EAAGG,aAKNlJ,EAAA,QAAUK,GAAQ,CACrB,GAAqB,IAAjBA,EAAMa,OACT,OAGDuH,EAAO1E,KAAK,SAACkF,GACZ,IAAME,EAAIR,EAAIM,GACd,OAAO5I,EAAM+I,QAAQD,IAAM,SAG5BV,EAAO1E,KAAK,SAACkF,GACZ,WAAII,OAAOhJ,EAAO,KAAKiJ,KAAKX,EAAIM,QAInCP,GAAY,EACX,MAAAa,GACDb,GAAY,EAKb,IAAMzJ,EAAOtF,KAAKH,MAAMyF,KAAKrD,OAAO,SAAAwK,GACnC,OAAQsC,GAAaD,EAAOe,MAAM,SAAAC,GAAS,OAAAA,EAAMrD,OAI5CsD,EAAOlB,GAAetK,EAAc,EAAI,EAGxCyL,EAAchQ,KAAKH,MAAM2E,QAC3BA,EAAUwL,EACa,oBAAhBA,IACVxL,EAAU,SAACwB,EAAKgD,GAAa,OAAAgH,EAAYhK,EAAKlG,EAAKiO,UAAU/E,MAG9D,IAAMiH,EAAKjQ,KAAKkQ,cAEVC,EAAanQ,KAAKoQ,iBAAiBvB,EAAaK,GAChDmB,EAAarQ,KAAKsQ,iBACvB/L,EACA4K,EACAJ,GAGD,OACCnH,EAAA,cAAClH,EAAA,GAAQ6P,OAAK,GACb3I,EAAA,cAAClH,EAAA,GAAKsH,WAAS,EAACwI,UAAQ,EAACC,QAASV,GAChCI,EACAE,GAGFzI,EAAA,cAACqI,GACA3L,MAAOA,EACPD,KAAMrE,KAAKH,MAAMwE,KACjBiB,KAAMA,EACNyD,OAAQ/I,KAAKH,MAAMkJ,OACnBjH,OAAQA,EACRiE,OAAQ/F,KAAK+F,OACbqD,OAAQpJ,KAAKoJ,OACbC,SAAUrJ,KAAKqJ,SACfrC,QAAShH,KAAKgH,QACdC,UAAWjH,KAAKiH,UAChBzC,QAASA,EACT2E,UAAWnJ,KAAKmJ,cAMZ3J,EAAA8B,UAAA4O,YAAR,WACC,OAAOQ,EAAA,GAuDAlR,EAAA8B,UAAA8O,iBAAR,SACCvB,EACAK,GAEM,IAAAtI,EAAA5G,KAAAH,MAAE8Q,EAAA/J,EAAA+J,gBAAiBzD,EAAAtG,EAAAsG,MAAOF,EAAApG,EAAAoG,KAAM4D,EAAAhK,EAAAgK,aAAc/D,EAAAjG,EAAAiG,SACpD,OACEgC,GACA8B,IAAoBlR,OAAA6O,EAAA,EAAA7O,CAAiByN,EAAOF,EAAKuB,OAAO,WAElD,KAIP3G,EAAA,cAAClH,EAAA,EAAKmQ,OAAM,KACXjJ,EAAA,cAACkJ,EAAA,GACAxM,MAAOuK,EACPkC,OAAQH,EACR/D,SAAUA,EACV/K,OAAQoN,EACRd,SAAUpO,KAAKoO,aAMX5O,EAAA8B,UAAAgP,iBAAR,SACC/L,EACA4K,EACAJ,GAEA,OAAKxK,EAKJqD,EAAA,cAAClH,EAAA,EAAKmQ,OAAM,KACXjJ,EAAA,cAACoJ,EAAA,GACA1M,MAAOC,EACPzC,OAAQqN,EACR8B,MAAOlC,EACPmC,OAAQlR,KAAKH,MAAMoC,OACnBkP,eAAgBnR,KAAKH,MAAM6N,aAVtB,MAeVlO,EA9TA,CAA0BoI,EAAA,grBCd1BwJ,EAAA,SAAAxR,GAGC,SAAAwR,EAAmBvR,GAAnB,IAAAC,EACCF,EAAAG,KAAAC,KAAMH,IAAMG,YAqDLF,EAAAuR,YAAc,WACrBvR,EAAKI,UACJwE,MAAO5E,EAAKM,MAAMsE,QArDnB5E,EAAKM,OACJsE,MAAM,EACNuB,YAGDnG,EAAKwG,eAAiBxG,EAAKwG,eAAelF,KAAKtB,GAC/CA,EAAKyG,aAAe+K,EAAA,EAAalQ,KAAKtB,EAAMA,EAAKwG,gBACjDxG,EAAKkO,OAASlO,EAAKkO,OAAO5M,KAAKtB,KAwJjC,OArK4BuB,EAAA+P,EAAAxR,GAgBnBwR,EAAA9P,UAAAgF,eAAR,SAAuBG,EAAaC,SACnC1G,KAAKE,UACJ+F,QAAOU,KACH3G,KAAKI,MAAM6F,SAAOW,OACpBH,GAAMC,EAAKE,OAKRwK,EAAA9P,UAAAuF,sBAAP,SAA6BC,EAAqBC,GACjD,OACCD,EAAU+F,WAAa7M,KAAKH,MAAMgN,UAClC/F,EAAUhF,SAAW9B,KAAKH,MAAMiC,QAChCiF,EAAUd,UAAYjG,KAAKI,MAAM6F,SACjCc,EAAUrC,OAAS1E,KAAKI,MAAMsE,MAIxB0M,EAAA9P,UAAA0M,OAAR,eAAAlO,EAAAE,KACOyM,KACNhN,OAAOyG,KAAKlG,KAAKI,MAAM6F,SAASE,QAAQ,SAAAM,GACvCJ,EAAA,IAAMoG,EAAMhG,EAAK3G,EAAKM,MAAM6F,QAAQQ,MAGrCzG,KAAKH,MAAMuO,SAAS3B,GACnBrM,MAAOJ,KAAKI,MAAM6F,QAClB/F,SAAUF,KAAKE,SACfqG,aAAcvG,KAAKuG,gBAIb6K,EAAA9P,UAAAiQ,UAAR,eAAAzR,EAAAE,KACC,OAAOP,OAAOyG,KAAKlG,KAAKH,MAAMiC,QAAQ+N,MAAM,SAAA9N,GAC3C,IAAM2I,EAAQ5K,EAAKD,MAAMiC,OAAOC,GAC1B0E,EAAMiE,EAAM8G,WAAa9G,EAAM8G,WAAazP,EAClD,MACkB,kBAAV2I,IAAuBA,EAAM5H,UAAYhD,EAAKM,MAAM6F,QAAQQ,MAW/D2K,EAAA9P,UAAAO,OAAP,WACO,IAAA+E,EAAA5G,KAAAH,MAAEyE,EAAAsC,EAAAtC,MAAOuI,EAAAjG,EAAAiG,SAETpF,EAAKzH,KAAKH,MAAMW,EAEtB,OACCoH,EAAA,cAAClH,EAAA,GAAU+Q,QAAM,EAAChG,OAAK,GACtB7D,EAAA,cAAClH,EAAA,EAAUgR,OAAMpH,OAAQtK,KAAKI,MAAMsE,KAAM3D,QAASf,KAAKqR,aACvDzJ,EAAA,cAAClH,EAAA,GAAK8H,QAAM,EAACzG,KAAK,aAAWuC,GAG9BsD,EAAA,cAAClH,EAAA,EAAUuE,SAAQqF,OAAQtK,KAAKI,MAAMsE,MACrCkD,EAAA,cAAClH,EAAA,GAAKE,QAASiM,GACb7M,KAAK2R,oBAEN/J,EAAA,cAAClH,EAAA,GAAOyL,SAAO,EAACpL,QAASf,KAAKgO,OAAQlN,UAAWd,KAAKuR,aACpDvR,KAAKH,MAAMkR,QAAUtJ,EAAG,eAQvB2J,EAAA9P,UAAAqQ,kBAAR,eAAA7R,EAAAE,KACO4R,KAoBN,OAnBAnS,OAAOyG,KAAKlG,KAAKH,MAAMiC,QAAQqE,QAAQ,SAAApE,GACtC,IAAM2I,EAAQ5K,EAAKD,MAAMiC,OAAOC,GAC1B8P,EAAQlL,KACV+D,GACH3I,KAAM2I,EAAM8G,WAAa9G,EAAM8G,WAAazP,IAGzC8P,EAASC,QACZF,EAAYxH,MAAO2H,KAAMF,IAEzBD,EAAYrK,SACXqK,EAAYA,EAAYrK,OAAS,GAAGyK,OAErCJ,EAAYA,EAAYrK,OAAS,GAAGyK,OAASH,EAE7CD,EAAYxH,MAAO6H,MAAOJ,MAIrBD,EAAY1K,IAAI,SAACgL,EAAIrJ,GAC3B,OAAIqJ,EAAGH,KACCnK,EAAA,qBAAKnB,IAAKoC,GAAI/I,EAAKsL,YAAY8G,EAAGH,OAIzCnK,EAAA,cAAClH,EAAA,EAAKyD,OAAMsC,IAAKoC,EAAGsJ,OAAO,SACzBD,EAAGD,OAASnS,EAAKsL,YAAY8G,EAAGD,OAEhCC,EAAGF,QAAUlS,EAAKsL,YAAY8G,EAAGF,YAM9BZ,EAAA9P,UAAA8J,YAAR,SAAoBV,GACnB,IAAMtK,EAAQJ,KAAKI,MAAM6F,QAEzB,MAA4B,oBAAjByE,EAAMsD,OACTtD,EAAMsD,QACZ5N,MAAOA,EACPF,SAAUF,KAAKE,SACfqG,aAAcvG,KAAKuG,aACnBG,MAAOtG,EAAMsK,EAAM3I,QAIjB2I,EAAM/H,QAERiF,EAAA,cAAClH,EAAA,EAAK8K,OACLC,OAAO,EACPC,WAAW,EACXC,QAAQ,EACR7I,SAAU4H,EAAM5H,SAChB8I,QAASlL,EAAA,EACTqB,KAAM2I,EAAM3I,KACZC,MAAO0I,EAAM1I,MACb6J,YAAanB,EAAM1I,MACnB8J,SAAU9L,KAAKuG,aACfG,MAAOtG,EAAMsK,EAAM3I,MACnBY,QAAS+H,EAAM/H,UAMjBiF,EAAA,cAAClH,EAAA,EAAKqL,OACLjJ,SAAU4H,EAAM5H,SAChBkJ,KAAMtB,EAAMsB,KAAOtB,EAAMsB,KAAO,OAChCjK,KAAM2I,EAAM3I,KACZC,MAAO0I,EAAM1I,MACb6J,YAAanB,EAAM1I,MACnB8J,SAAU9L,KAAKuG,aACfG,MAAOtG,EAAMsK,EAAM3I,SAIvBqP,EArKA,CAA4BxJ,EAAA,WAuKbxC,EAAA,EAAA3F,OAAA6J,EAAA,EAAA7J,CAAgB,aAAhB,CAA8B2R,gqBCvK7CgB,EAAA,SAAAxS,GAGC,SAAAwS,EAAmBvS,GAAnB,IAAAC,EACCF,EAAAG,KAAAC,KAAMH,IAAMG,YAkBLF,EAAAuR,YAAc,WACrBvR,EAAKI,UACJwE,MAAO5E,EAAKM,MAAMsE,QAlBnB5E,EAAKM,OACJsE,MAAM,GAGP5E,EAAKyG,aAAe8L,EAAA,EAAajR,KAAKtB,EAAMA,EAAKD,MAAMsR,kBAkIzD,OA5I4B9P,EAAA+Q,EAAAxS,GAapBwS,EAAA9Q,UAAAuF,sBAAP,SAA6BC,EAAqBC,GACjD,OACCD,EAAUoK,SAAWlR,KAAKH,MAAMqR,QAChCpK,EAAUhF,SAAW9B,KAAKH,MAAMiC,QAChCgF,EAAUmK,QAAUjR,KAAKH,MAAMoR,OAC/BlK,EAAUrC,OAAS1E,KAAKI,MAAMsE,MAUzB0N,EAAA9Q,UAAAO,OAAP,eAAA/B,EAAAE,KACO4G,EAAA5G,KAAAH,MAAEyE,EAAAsC,EAAAtC,MAAOxC,EAAA8E,EAAA9E,OAAQoP,EAAAtK,EAAAsK,OAAQD,EAAArK,EAAAqK,MAEzBW,KACNnS,OAAOyG,KAAKpE,GAAQqE,QAAQ,SAAApE,GAC3B,IAAM2I,EAAQ5I,EAAOC,GACf8P,EAAQlL,KACV+D,GACH3I,KAAM2I,EAAMhI,WAAagI,EAAMhI,WAAaX,IAGzC8P,EAASC,QACZF,EAAYxH,MAAO2H,KAAMF,IAEzBD,EAAYrK,SACXqK,EAAYA,EAAYrK,OAAS,GAAGyK,OAErCJ,EAAYA,EAAYrK,OAAS,GAAGyK,OAASH,EAE7CD,EAAYxH,MAAO6H,MAAOJ,MAI5B,IAAMS,EAAKV,EAAY1K,IAAI,SAACgL,EAAIrJ,GAC/B,GAAIqJ,EAAGH,KACN,OAAOjS,EAAKsL,YAAY8G,EAAGH,KAAM1L,EAAA,IAAM6K,EAAQgB,EAAGH,KAAKhQ,OAAQkP,GAGhE,IAAMgB,EAAQC,EAAGD,MACdnS,EAAKsL,YAAY8G,EAAGD,MAAO5L,EAAA,IAAM6K,EAAQgB,EAAGD,MAAMlQ,OAAQkP,GAC1D,KACGe,EAASE,EAAGF,OACflS,EAAKsL,YAAY8G,EAAGF,OAAQ3L,EAAA,IAAM6K,EAAQgB,EAAGF,OAAOjQ,OAAQkP,GAC5D,KAEH,OACCrJ,EAAA,cAAC2K,EAAA,EAAKpO,OAAMsC,IAAKoC,EAAGsJ,OAAO,SACzBF,EACAD,KAKJ,OACCpK,EAAA,cAAC2K,EAAA,GAAUd,QAAM,EAAChG,OAAK,GACtB7D,EAAA,cAAC2K,EAAA,EAAUb,OAAMpH,OAAQtK,KAAKI,MAAMsE,KAAM3D,QAASf,KAAKqR,aACvDzJ,EAAA,cAAC2K,EAAA,GAAKxQ,KAAK,SAASyG,QAAM,QAAKlE,GAGhCsD,EAAA,cAAC2K,EAAA,EAAUtN,SAAQqF,OAAQtK,KAAKI,MAAMsE,MACrCkD,EAAA,cAAC2K,EAAA,EAAI,KACHD,EACD1K,EAAA,cAAC2K,EAAA,GACAC,OAAK,EACLC,SAAUxB,EACV3O,QAAQ,0CAQN8P,EAAA9Q,UAAA8J,YAAR,SACCV,EACAhE,EACA8L,GAEA,MAA4B,oBAAjB9H,EAAMzI,OACTyI,EAAMzI,QACZ7B,MAAOJ,KAAKH,MAAMqR,OAClBhR,SAAUF,KAAKE,SACfqG,aAAcvG,KAAKuG,aACnBG,MAAOA,IAILgE,EAAM/H,SACJ+D,IACJA,MAIAkB,EAAA,cAAC2K,EAAA,EAAK/G,OACLC,OAAK,EACLC,WAAS,EACTC,QAAM,EACN+G,UAAQ,EACR9G,QAAS2G,EAAA,EACTxQ,KAAM2I,EAAM3I,KACZC,MAAO0I,EAAM1I,MACb6J,YAAanB,EAAM1I,MACnBW,QAAS+H,EAAM/H,QACf+D,MAAOA,EACP8L,MAAOA,EACP1G,SAAU9L,KAAKuG,gBAMjBqB,EAAA,cAAC2K,EAAA,EAAKxG,OACLhK,KAAM2I,EAAM3I,KACZiK,KAAMtB,EAAMsB,KAAOtB,EAAMsB,KAAO,OAChChK,MAAO0I,EAAM1I,MACb6J,YAAanB,EAAM1I,MACnB0E,MAAOA,EACP8L,MAAOA,EACP1G,SAAU9L,KAAKuG,gBAInB6L,EA5IA,CAA4BxK,EAAA,WA8IbxC,EAAA,gcC1ITuN,GACLC,QAAS,eACTC,cAAe,MACfC,OAAQ,QACRC,QAAS,QACTC,OAAQ,8BACRC,aAAc,gBAWfC,EAAA,SAAAtT,GAAA,SAAAsT,mDAqJA,OArJ6B7R,EAAA6R,EAAAtT,GACrBsT,EAAA5R,UAAAO,OAAP,WACS,IAAAsR,EAAAnT,KAAAH,MAAAsT,KAER,OACC1S,EAAA,qBAAK6C,MAAOqP,GACXlS,EAAA,4BAAS0S,EAAKnH,KAAKjK,MAClB/B,KAAKoT,qBACN3S,EAAA,qBAAK6C,OAASD,MAAO,OAAQE,aAAc,UACzC4P,EAAKnH,KAAKQ,IAEZ/L,EAAA,yBACET,KAAKqT,mBACLrT,KAAKsT,iBACLtT,KAAKuT,qBACLvT,KAAKwT,cACLxT,KAAKyT,sBACLzT,KAAK0T,wBACL1T,KAAK2T,uBAMFT,EAAA5R,UAAA8R,mBAAR,WACC,OAAKpT,KAAKH,MAAM+T,SAKfnT,EAAA,cAAC+I,EAAA,GACAqK,SAAO,EACP5S,UAAQ,EACR2D,KAAK,OACLP,KAAK,SACLyP,QAAQ,QACR/S,QAASf,KAAKH,MAAM+T,WAVd,MAeDV,EAAA5R,UAAA+R,iBAAR,WACS,IAAAF,EAAAnT,KAAAH,MAAAsT,KAER,IAAKA,EAAKY,WACT,OAAO,KAGR,GAAIZ,EAAKY,WAAWC,YACnB,OAAOvT,EAAA,cAAC+I,EAAA,GAAM5E,KAAK,QAAM,eAG1B,IAAMpB,EAAU/D,OAAA6L,EAAA,EAAA7L,CACf0T,EAAKY,WAAWA,WAChBZ,EAAKc,SAAWd,EAAKc,SAAW,GAGjC,OACCxT,EAAA,cAAC+I,EAAA,GACApG,UAAQ,EACRwB,KAAK,QACLpB,QAASA,EACTF,OAASwP,OAAQ,iBAKZI,EAAA5R,UAAAgS,eAAR,WACS,IAAAH,EAAAnT,KAAAH,MAAAsT,KAER,OAAIA,EAAKe,UAAY,EACb,KAIPzT,EAAA,cAAC+I,EAAA,GAAM5E,KAAK,OAAOvB,MAAM,YACtB8P,EAAKe,WAKFhB,EAAA5R,UAAAiS,mBAAR,WACS,IAAAJ,EAAAnT,KAAAH,MAAAsT,KACR,IAAKA,EAAKgB,aACT,OAAO,KAUR,OACC1T,EAAA,yBAAM0S,EAAKgB,aAAajN,IAAI,SAAAkN,GAAW,OARlB,SAACA,GAAyB,OAC/C3T,EAAA,cAAC+I,EAAA,GAAMnG,MAAM,SAASuB,KAAK,OAAO6B,IAAK2N,EAAQ5H,IAC7C4H,EAAQrS,KACTtB,EAAA,cAAC+I,EAAA,EAAMvF,OAAM,KAAEmQ,EAAQlQ,QAKemQ,CAAcD,OAI/ClB,EAAA5R,UAAAkS,YAAR,WACS,IAAAL,EAAAnT,KAAAH,MAAAsT,KACR,OAAKA,EAAKmB,MAIH7T,EAAA,cAAC+I,EAAA,GAAM5E,KAAK,QAAQuO,EAAKmB,MAAMvS,MAH9B,MAMDmR,EAAA5R,UAAAmS,oBAAR,WACS,IAAAN,EAAAnT,KAAAH,MAAAsT,KACR,IAAKA,EAAKoB,cACT,OAAO,KASR,OAAO9T,EAAA,yBAAM0S,EAAKoB,cAAcrN,IAAI,SAAAsN,GAAU,OANzB,SAACA,GAAyB,OAC9C/T,EAAA,cAAC+I,EAAA,GAAM5E,KAAK,OAAOvB,MAAM,QAAQoD,IAAK+N,EAAOxI,KAAKQ,IAChDgI,EAAOxI,KAAKjK,SAxIsC,SAACyS,GACvD,OAnByC,SAACC,GAC1C,OAAY,IAARA,EACI,IAEI,IAARA,EACI,KAEI,IAARA,EACI,MAEI,IAARA,EACI,KAEI,IAARA,EACI,IAED,GAGPC,CAASF,EAAOG,UAAY,GAuILC,CAAaJ,IAIWK,CAAaL,OAGpDtB,EAAA5R,UAAAoS,sBAAR,WACS,IAAAP,EAAAnT,KAAAH,MAAAsT,KACR,OAAKA,EAAK2B,gBAKTrU,EAAA,cAAC+I,EAAA,GACA5E,KAAK,OACLvB,MAAM,QACNgB,KAAK,OACL/B,QAAS6Q,EAAK2B,kBARR,MAaD5B,EAAA5R,UAAAqS,kBAAR,WACS,IAAAR,EAAAnT,KAAAH,MAAAsT,KACR,OAAKA,EAAK4B,YAKTtU,EAAA,cAAC+I,EAAA,GAAM5E,KAAK,OAAOvB,MAAM,MAAMgB,KAAK,OAAO/B,QAAS6Q,EAAK4B,cAJlD,MAOV7B,EArJA,CAA6BzS,EAAA,mDC5C7B,IAAAA,EAAAuU,EAAA,GAAAxL,GAAAwL,EAAAC,EAAAxU,GAAAuU,EAAA,KASe5P,EAAA,WAACwB,OAAE7D,EAAA6D,EAAA7D,SACjB,OAAAA,EACCtC,EAAA,cAAC+I,EAAA,GAAMnG,MAAM,QACZ5C,EAAA,cAAC+I,EAAA,GAAKzH,KAAK,UACVgB,EAASN,MAAMV,iBACfgB,EAASP,SAAS0S,EAAEC,QAAQ,YAC5BpS,EAASP,SAAS4S,EAAED,QAAQ,YAC5BpS,EAASP,SAAS6S,EAAEF,QAAQ,IAG9B1U,EAAA,cAAC+I,EAAA,GAAMnG,MAAM,OAAK,sdCXdiS,EAGyB,SAACC,EAAqBC,GACpD,GAAInP,EAAA,QAAUkP,GACb,OAAOA,EAAShH,OAAOiH,IAiBzBC,EAAA,SAAA7V,GACC,SAAA6V,EAAmB5V,GAAnB,IAAAC,EACCF,EAAAG,KAAAC,KAAMH,IAAMG,YAwFLF,EAAA4V,cAAgB,WACvB5V,EAAKI,UAAWyV,SAAU7V,EAAKM,MAAMuV,WAvFrC7V,EAAKM,OACJwV,OAAO,EACPD,SAAS,GAGV7V,EAAK+V,OAAS/V,EAAK+V,OAAOzU,KAAKtB,KAoFjC,OA7F4BuB,EAAAoU,EAAA7V,GAYnB6V,EAAAnU,UAAAuU,OAAR,WACC7V,KAAKE,UACJ0V,OAAQ5V,KAAKI,MAAMwV,SAIdH,EAAAnU,UAAAO,OAAP,WACO,IAAA+E,EAAA5G,KAAAH,MAAEW,EAAAoG,EAAApG,EAER,GAA+B,IAFpBoG,EAAAhF,UAEGkU,MAAMvO,OACnB,OACCK,EAAA,cAAClH,EAAA,GAAOyL,SAAO,EAACrL,UAAQ,GACtBN,EAAE,mBAKN,IAAM8B,EACLsF,EAAA,yBACE5H,KAAK+V,oBACL/V,KAAKgW,eAIR,OAAIhW,KAAKH,MAAMsF,aACP7C,EAIPsF,EAAA,cAAClH,EAAA,EAAS,KACTkH,EAAA,cAAClH,EAAA,EAAUgR,OACVuE,GAAIvV,EAAA,EACJyL,SAAO,EACP7B,OAAQtK,KAAKI,MAAMwV,MACnB7U,QAASf,KAAK6V,QAEb7V,KAAKI,MAAMwV,MAAQpV,EAAE,iBAAmBA,EAAE,kBAE5CoH,EAAA,cAAClH,EAAA,EAAUuE,SAAQqF,OAAQtK,KAAKI,MAAMwV,OACpCtT,KAMGmT,EAAAnU,UAAAyU,kBAAR,WACC,OAAO/V,KAAKH,MAAMqW,YACjBtO,EAAA,cAAAA,EAAA,cACCA,EAAA,cAAClH,EAAA,GACAmV,QAAM,EACNM,QAASnW,KAAKI,MAAMuV,QACpB7J,SAAU9L,KAAK0V,gBAEhB9N,EAAA,0BAEE,MAGG6N,EAAAnU,UAAA0U,YAAR,WACC,IAAII,EAAQ/P,EAAA,OACXrG,KAAKH,MAAM+B,UAAUkU,MAAM5O,IAAI,SAAAmP,GAAK,OAAAA,EAAEC,QACtC,aAGD,IAAKtW,KAAKH,MAAM0W,WAAavW,KAAKI,MAAMuV,QAAS,CAChD,IAAMa,EAAanQ,EAAA,QAAU+P,EAAO,WACpCA,EAAQ/P,EAAA,IAAMmQ,EAAY,SAAAC,GACzB,IAAItD,EAAO9M,EAAA,SAAYA,EAAA,MAAQoQ,IAI/B,OAHApQ,EAAA,KAAOoQ,GAAWtQ,QACjB,SAAAuQ,GAAW,OAACvD,EAAO9M,EAAA,UAAY8M,EAAMuD,EAASpB,KAExCjP,EAAA,MAAQ8M,GAAQe,SAAU7N,EAAA,MAAQoQ,EAAW,gBAItD,OAAOL,EAAMlP,IAAI,SAACiM,EAAMtK,GAAM,OAAAjB,EAAA,cAAC+O,EAAA,GAAclQ,IAAKoC,EAAGsK,KAAMA,OAM7DsC,EA7FA,CAA4B7N,EAAA,WA+FbxC,EAAA,EAAA3F,OAAA6J,EAAA,EAAA7J,CAAgB,YAAhB,CAA6BgW","file":"static/js/2.a6f4b259.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { Trans, withTranslation, WithTranslation } from 'react-i18next';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { Button, Label, Modal, Popup, Progress } from 'semantic-ui-react';\r\n\r\nimport { AppAction } from '../../actions';\r\nimport { ListRequestAction, requestList } from '../../actions/dataview';\r\nimport {\r\n\tBanPlayerRequestAction,\r\n\tKickPlayerRequestAction,\r\n\trequestBanPlayer,\r\n\trequestKickPlayer\r\n} from '../../actions/player';\r\nimport DataViewFunc, { DataViewFields } from '../../components/DataView';\r\nimport InventoryComp from '../../components/Inventory';\r\nimport Location from '../../components/Location';\r\nimport { formatRange, renderWorldOptions } from '../../components/Util';\r\nimport { Inventory, Player, World } from '../../fetch';\r\nimport { AppState, DataViewRef } from '../../types';\r\n\r\n// tslint:disable-next-line:variable-name\r\nconst DataView = DataViewFunc('player', 'uuid');\r\n\r\ninterface Props extends WithTranslation {\r\n\tworlds: World[];\r\n\trequestKickPlayer: (player: Player) => KickPlayerRequestAction;\r\n\trequestBanPlayer: (player: Player) => BanPlayerRequestAction;\r\n\trequestWorlds: () => ListRequestAction;\r\n}\r\n\r\ninterface OwnState {\r\n\tmodal: boolean;\r\n\tplayer?: Player;\r\n\tinventory?: Inventory;\r\n}\r\n\r\nclass Players extends React.Component<Props, OwnState> {\r\n\tpublic constructor(props: Props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmodal: false\r\n\t\t};\r\n\r\n\t\tthis.toggleModal = this.toggleModal.bind(this);\r\n\t\tthis.showInventory = this.showInventory.bind(this);\r\n\t}\r\n\r\n\tpublic componentDidMount() {\r\n\t\tthis.props.requestWorlds();\r\n\t}\r\n\r\n\tprivate kick(player: Player) {\r\n\t\tthis.props.requestKickPlayer(player);\r\n\t}\r\n\r\n\tprivate ban(player: Player) {\r\n\t\tthis.props.requestBanPlayer(player);\r\n\t}\r\n\r\n\tprivate showInventory(player: Player, view: DataViewRef<Player>) {\r\n\t\tview.details(player);\r\n\r\n\t\tthis.setState({\r\n\t\t\tmodal: true,\r\n\t\t\tplayer: player,\r\n\t\t\tinventory: player.inventory\r\n\t\t});\r\n\t}\r\n\r\n\tprivate toggleModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal\r\n\t\t});\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\tconst { t } = this.props;\r\n\r\n\t\tconst fields: DataViewFields<Player> = {\r\n\t\t\tname: {\r\n\t\t\t\tlabel: t('NameUUID'),\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tview: (player: Player) => (\r\n\t\t\t\t\t<Popup\r\n\t\t\t\t\t\tflowing\r\n\t\t\t\t\t\thoverable\r\n\t\t\t\t\t\ton={['hover', 'click']}\r\n\t\t\t\t\t\ttrigger={<div>{player.name}</div>}\r\n\t\t\t\t\t\tcontent={player.uuid}\r\n\t\t\t\t\t\tposition=\"right center\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\tworld: {\r\n\t\t\t\tlabel: t('World'),\r\n\t\t\t\tview: false,\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tfilterName: 'location.world.uuid',\r\n\t\t\t\toptions: renderWorldOptions(this.props.worlds),\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tlocation: {\r\n\t\t\t\tlabel: t('Location'),\r\n\t\t\t\tview: (player: Player) => <Location location={player.location} />\r\n\t\t\t},\r\n\t\t\thealth: {\r\n\t\t\t\tlabel: t('HealthFood'),\r\n\t\t\t\twide: true,\r\n\t\t\t\tview: (player: Player) => {\r\n\t\t\t\t\tif (!player.health || !player.food) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Progress\r\n\t\t\t\t\t\t\t\tprogress\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tstyle={{ marginBottom: '1em' }}\r\n\t\t\t\t\t\t\t\tpercent={formatRange(player.health.current, player.health.max)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Progress\r\n\t\t\t\t\t\t\t\tprogress\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tpercent={formatRange(player.food.foodLevel, 20)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\tlabel: t('Info'),\r\n\t\t\t\twide: true,\r\n\t\t\t\tview: (player: Player) => {\r\n\t\t\t\t\tconst gm = player.gameMode && <Label>{player.gameMode.name}</Label>;\r\n\t\t\t\t\tconst exp = player.experience && (\r\n\t\t\t\t\t\t<Label>\r\n\t\t\t\t\t\t\t{t('Level')}\r\n\t\t\t\t\t\t\t<Label.Detail>{player.experience.level}</Label.Detail>\r\n\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Label.Group>\r\n\t\t\t\t\t\t\t<Label>\r\n\t\t\t\t\t\t\t\t{t('IP')}\r\n\t\t\t\t\t\t\t\t<Label.Detail>{player.address}</Label.Detail>\r\n\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t{gm}\r\n\t\t\t\t\t\t\t{exp}\r\n\t\t\t\t\t\t</Label.Group>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<DataView\r\n\t\t\t\t\ticon=\"users\"\r\n\t\t\t\t\ttitle={t('Players')}\r\n\t\t\t\t\tfilterTitle={t('FilterPlayers')}\r\n\t\t\t\t\tfields={fields}\r\n\t\t\t\t\tactions={this.renderActions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{this.renderModal()}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderActions = (player: Player, view: DataViewRef<Player>) => {\r\n\t\tconst { t } = this.props;\r\n\r\n\t\tconst onShowInv = () => this.showInventory(player, view);\r\n\t\tconst onKick = () => this.kick(player);\r\n\t\tconst onBan = () => this.ban(player);\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsecondary\r\n\t\t\t\t\tloading={(player as any).updating}\r\n\t\t\t\t\tdisabled={(player as any).updating}\r\n\t\t\t\t\tonClick={onShowInv}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('Inventory')}\r\n\t\t\t\t</Button>{' '}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tnegative\r\n\t\t\t\t\tloading={(player as any).updating}\r\n\t\t\t\t\tdisabled={(player as any).updating}\r\n\t\t\t\t\tonClick={onKick}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('Kick')}\r\n\t\t\t\t</Button>{' '}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tnegative\r\n\t\t\t\t\tloading={(player as any).updating}\r\n\t\t\t\t\tdisabled={(player as any).updating}\r\n\t\t\t\t\tonClick={onBan}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('Ban')}\r\n\t\t\t\t</Button>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tprivate renderModal() {\r\n\t\tif (!this.state.player || !this.state.inventory) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\topen={this.state.modal}\r\n\t\t\t\tonClose={this.toggleModal}\r\n\t\t\t\tsize=\"fullscreen\"\r\n\t\t\t\tclassName=\"scrolling\"\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Trans i18nKey=\"InventoryTitle\">\r\n\t\t\t\t\t\t{this.state.player.name}'s Inventory\r\n\t\t\t\t\t</Trans>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Content>\r\n\t\t\t\t\t<InventoryComp inventory={this.state.inventory} dontCollapse={true} />\r\n\t\t\t\t</Modal.Content>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n\treturn {\r\n\t\tworlds: state.world.list\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\r\n\treturn {\r\n\t\trequestKickPlayer: (player: Player) => dispatch(requestKickPlayer(player)),\r\n\t\trequestBanPlayer: (player: Player) => dispatch(requestBanPlayer(player)),\r\n\t\trequestWorlds: () => dispatch(requestList('world', true))\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withTranslation('Players')(Players));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Players/index.tsx","import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { Header, Icon, SemanticICONS, Table } from 'semantic-ui-react';\r\n\r\nimport i18n from '../../services/i18n';\r\nimport { DataFieldRaw, DataTableRef, IdFunction } from '../../types';\r\nimport { handleChange, HandleChangeFunc } from '../Util';\r\n\r\nimport Pagination from './Pagination';\r\nimport TableHeader from './TableHeader';\r\nimport TableRow from './TableRow';\r\n\r\nconst ITEMS_PER_PAGE = 20;\r\n\r\nexport type DataTableFields<T> = {\r\n\t[key: string]: DataFieldRaw<T>;\r\n};\r\n\r\nexport interface Props<T> {\r\n\ttitle?: string;\r\n\ticon?: SemanticICONS;\r\n\tlist: T[];\r\n\tcanEdit?: (data: T) => boolean;\r\n\tcanDelete?: (data: T) => boolean;\r\n\tfields: DataTableFields<T>;\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element | undefined;\r\n\tonEdit?: (data: T | undefined, view: DataTableRef) => void;\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void;\r\n\tonDelete?: (data: T, view: DataTableRef) => void;\r\n\tidFunc: IdFunction<T>;\r\n\tisEditing: (data: T) => boolean;\r\n}\r\n\r\ninterface AllProps<T> extends Props<T>, WithTranslation {}\r\n\r\ninterface OwnState {\r\n\tpage: number;\r\n\tnewData: any;\r\n}\r\n\r\nclass DataTable<T> extends React.Component<AllProps<T>, OwnState> {\r\n\tprivate handleChange: HandleChangeFunc;\r\n\r\n\tpublic constructor(props: AllProps<T>) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpage: 0,\r\n\t\t\tnewData: {}\r\n\t\t};\r\n\r\n\t\tthis.changePage = this.changePage.bind(this);\r\n\t\tthis.doHandleChange = this.doHandleChange.bind(this);\r\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange);\r\n\t}\r\n\r\n\tprivate doHandleChange(key: string, value: string) {\r\n\t\tthis.setState({\r\n\t\t\tnewData: {\r\n\t\t\t\t...this.state.newData,\r\n\t\t\t\t[key]: value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate changePage = (event: React.MouseEvent<HTMLElement>, page: number) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({\r\n\t\t\tpage: page\r\n\t\t});\r\n\t};\r\n\r\n\tprivate onEdit = (obj: T | undefined, view: DataTableRef): void => {\r\n\t\tconst newData = {};\r\n\t\tif (obj) {\r\n\t\t\tObject.keys(this.props.fields).forEach(name => {\r\n\t\t\t\tif (!this.props.fields[name].edit) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tnewData[name] = _.get(obj, name);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tnewData: newData\r\n\t\t});\r\n\r\n\t\tif (this.props.onEdit) {\r\n\t\t\tthis.props.onEdit(obj, view);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\r\n\t\treturn (\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\tnextProps.list !== this.props.list ||\r\n\t\t\tnextState.page !== this.state.page ||\r\n\t\t\tnextState.newData !== this.state.newData\r\n\t\t);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst { list, canEdit, canDelete, actions } = this.props;\r\n\t\tconst fields = Object.keys(this.props.fields)\r\n\t\t\t.map(f => this.props.fields[f])\r\n\t\t\t.filter(f => f.view);\r\n\r\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE);\r\n\t\tconst page = Math.min(this.state.page, maxPage - 1);\r\n\r\n\t\tconst _t = this.props.t;\r\n\t\tconst editable = _.some(list, canEdit);\r\n\t\tconst deletable = _.some(list, canDelete);\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{ marginTop: '2em' }}>\r\n\t\t\t\t{this.renderHeader()}\r\n\r\n\t\t\t\t<Table striped={true} stackable>\r\n\t\t\t\t\t<TableHeader\r\n\t\t\t\t\t\tfields={fields}\r\n\t\t\t\t\t\thasActions={typeof actions !== typeof undefined}\r\n\t\t\t\t\t\tcanEdit={editable}\r\n\t\t\t\t\t\tcanDelete={deletable}\r\n\t\t\t\t\t\ti18n={i18n}\r\n\t\t\t\t\t\tt={_t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Table.Body>{this.renderRows(fields, page)}</Table.Body>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tmaxPage={maxPage}\r\n\t\t\t\t\tchangePage={this.changePage}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderHeader() {\r\n\t\tconst { icon, title } = this.props;\r\n\r\n\t\tif (!title) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Header>\r\n\t\t\t\t<Icon fitted name={icon} /> {title}\r\n\t\t\t</Header>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderRows(fields: DataFieldRaw<T>[], page: number) {\r\n\t\tconst { list, canEdit, canDelete, actions, t } = this.props;\r\n\r\n\t\tconst listPage = list.slice(\r\n\t\t\tpage * ITEMS_PER_PAGE,\r\n\t\t\t(page + 1) * ITEMS_PER_PAGE\r\n\t\t);\r\n\r\n\t\tconst thisRef: DataTableRef = {\r\n\t\t\thandleChange: this.handleChange,\r\n\t\t\tstate: this.state.newData,\r\n\t\t\tsetState: (changes: object) =>\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tnewData: { ...this.state.newData, ...changes }\r\n\t\t\t\t})\r\n\t\t};\r\n\r\n\t\tconst editable = _.some(list, canEdit);\r\n\t\tconst deletable = _.some(list, canDelete);\r\n\r\n\t\treturn listPage.map((obj, i) => (\r\n\t\t\t<TableRow\r\n\t\t\t\tkey={this.props.idFunc(obj)}\r\n\t\t\t\tobj={obj}\r\n\t\t\t\ttableRef={thisRef}\r\n\t\t\t\tactionable={editable || deletable}\r\n\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\tcanDelete={canDelete}\r\n\t\t\t\tediting={this.props.isEditing(obj)}\r\n\t\t\t\tfields={fields}\r\n\t\t\t\tonEdit={this.onEdit}\r\n\t\t\t\tonSave={this.props.onSave}\r\n\t\t\t\tonDelete={this.props.onDelete}\r\n\t\t\t\tactions={actions}\r\n\t\t\t\tnewData={this.state.newData}\r\n\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\ti18n={i18n}\r\n\t\t\t\tt={t}\r\n\t\t\t/>\r\n\t\t));\r\n\t}\r\n}\r\n\r\nexport default withTranslation('DataTable')(DataTable);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from 'react';\r\nimport { Menu } from 'semantic-ui-react';\r\n\r\nexport interface Props {\r\n\tpage: number;\r\n\tmaxPage: number;\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void;\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\tpublic shouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn (\r\n\t\t\tnextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t\t);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{this.renderFirst()}\r\n\t\t\t\t{this.renderPrevMore()}\r\n\t\t\t\t{this.renderMain()}\r\n\t\t\t\t{this.renderNextMore()}\r\n\t\t\t\t{this.renderLast()}\r\n\t\t\t</Menu>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFirst() {\r\n\t\tif (this.props.page <= 4) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\treturn <Menu.Item onClick={e => this.props.changePage(e, 0)}>1</Menu.Item>;\r\n\t}\r\n\r\n\tprivate renderPrevMore() {\r\n\t\tif (this.props.page <= 5) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t<Menu.Item onClick={e => this.props.changePage(e, this.props.page - 5)}>\r\n\t\t\t\t...\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderMain() {\r\n\t\tconst { page, maxPage } = this.props;\r\n\t\tconst from = Math.max(0, page - 4);\r\n\t\tconst to = Math.min(maxPage, page + 5);\r\n\r\n\t\tconst pages = [];\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i);\r\n\t\t}\r\n\r\n\t\treturn pages.map(p => (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tkey={p}\r\n\t\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t\tonClick={e => this.props.changePage(e, p)}\r\n\t\t\t\tactive={p === page}\r\n\t\t\t>\r\n\t\t\t\t{p + 1}\r\n\t\t\t</Menu.Item>\r\n\t\t));\r\n\t}\r\n\r\n\tprivate renderNextMore() {\r\n\t\tif (this.props.page >= this.props.maxPage - 6) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t<Menu.Item onClick={e => this.props.changePage(e, this.props.page + 5)}>\r\n\t\t\t\t...\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderLast() {\r\n\t\tif (this.props.page >= this.props.maxPage - 5) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\t// tslint:disable-next-line:jsx-no-lambda\r\n\t\t\t\tonClick={e => this.props.changePage(e, this.props.maxPage - 1)}\r\n\t\t\t>\r\n\t\t\t\t{this.props.maxPage}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from 'react';\r\nimport { WithTranslation } from 'react-i18next';\r\nimport { Table } from 'semantic-ui-react';\r\n\r\nimport { DataFieldRaw } from '../../types';\r\n\r\nexport interface Props<T> extends WithTranslation {\r\n\thasActions: boolean;\r\n\tcanEdit?: boolean;\r\n\tcanDelete?: boolean;\r\n\tfields: DataFieldRaw<T>[];\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{this.renderFields()}\r\n\t\t\t\t\t{this.renderActions()}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFields() {\r\n\t\treturn Object.keys(this.props.fields).map(name => {\r\n\t\t\tconst field = this.props.fields[name];\r\n\t\t\treturn (\r\n\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t{field.label ? field.label : '<' + field.name + '>'}\r\n\t\t\t\t</Table.HeaderCell>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate renderActions() {\r\n\t\tif (\r\n\t\t\t!this.props.hasActions &&\r\n\t\t\t!this.props.canEdit &&\r\n\t\t\t!this.props.canDelete\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn <Table.HeaderCell>{this.props.t('Actions')}</Table.HeaderCell>;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from 'react';\r\nimport { WithTranslation } from 'react-i18next';\r\nimport { Button, Dropdown, Form, Icon, Table } from 'semantic-ui-react';\r\n\r\nimport { DataFieldRaw, DataTableRef } from '../../types';\r\nimport { get, HandleChangeFunc } from '../Util';\r\n\r\nexport interface Props<T> extends WithTranslation {\r\n\tobj: T;\r\n\ttableRef: DataTableRef;\r\n\tactionable: boolean;\r\n\tcanEdit?: (data: T) => boolean;\r\n\tcanDelete?: (data: T) => boolean;\r\n\tediting: boolean;\r\n\tfields: DataFieldRaw<T>[];\r\n\tonEdit: (data: T | undefined, view: DataTableRef) => void;\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void;\r\n\tonDelete?: (data: T, view: DataTableRef) => void;\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element | undefined;\r\n\thandleChange: HandleChangeFunc;\r\n\tnewData: any;\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn (\r\n\t\t\tnextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t\t);\r\n\t}\r\n\r\n\tprivate onSave = () => {\r\n\t\tconst { obj, tableRef } = this.props;\r\n\r\n\t\tif (this.props.onSave) {\r\n\t\t\tthis.props.onSave(obj, this.props.newData, tableRef);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate onEditEmpty = () => {\r\n\t\tthis.props.onEdit(undefined, this.props.tableRef);\r\n\t};\r\n\r\n\tprivate onEdit = () => {\r\n\t\tthis.props.onEdit(this.props.obj, this.props.tableRef);\r\n\t};\r\n\r\n\tprivate onDelete = () => {\r\n\t\tif (this.props.onDelete) {\r\n\t\t\tthis.props.onDelete(this.props.obj, this.props.tableRef);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{this.renderFields()}\r\n\t\t\t\t{this.renderActions()}\r\n\t\t\t</Table.Row>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFields() {\r\n\t\tconst { fields } = this.props;\r\n\r\n\t\treturn fields.map((field, j) => (\r\n\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t{this.renderField(field)}\r\n\t\t\t</Table.Cell>\r\n\t\t));\r\n\t}\r\n\r\n\tprivate renderField(field: DataFieldRaw<T>) {\r\n\t\tconst { obj, editing, tableRef } = this.props;\r\n\r\n\t\treturn field.edit && editing\r\n\t\t\t? typeof field.edit === 'function'\r\n\t\t\t\t? field.edit(obj, tableRef)\r\n\t\t\t\t: this.renderEdit(obj, field)\r\n\t\t\t: typeof field.view === 'function'\r\n\t\t\t? field.view(obj, tableRef)\r\n\t\t\t: get(obj, field.name);\r\n\t}\r\n\r\n\tprivate renderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : 'text'}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderActions() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tobj,\r\n\t\t\tactionable,\r\n\t\t\tcanEdit,\r\n\t\t\tcanDelete,\r\n\t\t\tediting,\r\n\t\t\ttableRef\r\n\t\t} = this.props;\r\n\r\n\t\tconst _canEdit = typeof canEdit === 'function' ? canEdit(obj) : canEdit;\r\n\t\tconst _canDelete =\r\n\t\t\ttypeof canDelete === 'function' ? canDelete(obj) : canEdit;\r\n\r\n\t\tif (!actions && !actionable) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tlet edit = null;\r\n\t\tif (_canEdit && editing) {\r\n\t\t\tedit = (\r\n\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\tonClick={this.onSave}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t('Save')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsecondary\r\n\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\tonClick={this.onEditEmpty}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t('Cancel')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Table.Cell>\r\n\t\t\t);\r\n\t\t} else if (_canEdit) {\r\n\t\t\tedit = (\r\n\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\tonClick={this.onEdit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t('Edit')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Table.Cell>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet del = null;\r\n\t\tif (_canDelete) {\r\n\t\t\tdel = (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tnegative\r\n\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\tonClick={this.onDelete}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t('Remove')}\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t{edit}\r\n\t\t\t\t{del}\r\n\t\t\t\t{actions ? actions(obj, tableRef) : null}\r\n\t\t\t</Table.Cell>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx","import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { Grid, Segment } from 'semantic-ui-react';\r\n\r\nimport { AppAction } from '../../actions';\r\nimport {\r\n\trequestChange,\r\n\trequestCreate,\r\n\trequestDelete,\r\n\trequestDetails,\r\n\trequestList,\r\n\tsetFilter\r\n} from '../../actions/dataview';\r\nimport { DataViewState } from '../../reducers/dataview';\r\nimport {\r\n\tAppState,\r\n\tDataFieldRaw,\r\n\tDataTableRef,\r\n\tDataViewRef,\r\n\tIdFunction\r\n} from '../../types';\r\nimport CreateForm from '../CreateForm';\r\nimport DataTable, { Props as DataTableProps } from '../DataTable';\r\nimport FilterForm from '../FilterForm';\r\nimport { checkPermissions } from '../Util';\r\n\r\nimport {\r\n\tDispatchProps,\r\n\tFullProps,\r\n\tOwnProps,\r\n\tOwnState,\r\n\tStateProps\r\n} from './types';\r\nexport { DataViewFields } from './types';\r\n\r\nclass DataView<T> extends React.Component<FullProps<T>, OwnState<T>> {\r\n\tprivate interval: NodeJS.Timer;\r\n\r\n\tpublic constructor(props: FullProps<T>) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpage: 0,\r\n\t\t\tdata: undefined\r\n\t\t};\r\n\r\n\t\tthis.details = this.details.bind(this);\r\n\t\tthis.create = this.create.bind(this);\r\n\t\tthis.edit = this.edit.bind(this);\r\n\t\tthis.endEdit = this.endEdit.bind(this);\r\n\t\tthis.save = this.save.bind(this);\r\n\t\tthis.delete = this.delete.bind(this);\r\n\t}\r\n\r\n\tpublic componentDidMount() {\r\n\t\tif (!this.props.static) {\r\n\t\t\tthis.props.requestList();\r\n\t\t\tthis.interval = setInterval(this.props.requestList, 10000);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic componentWillUnmount() {\r\n\t\tif (this.interval) {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic shouldComponentUpdate(\r\n\t\tnextProps: FullProps<T>,\r\n\t\tnextState: OwnState<T>\r\n\t) {\r\n\t\treturn (\r\n\t\t\tnextProps.creating !== this.props.creating ||\r\n\t\t\tnextProps.filter !== this.props.filter ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\tnextProps.list !== this.props.list ||\r\n\t\t\tnextState.data !== this.state.data\r\n\t\t);\r\n\t}\r\n\r\n\t// Create a new data entry\r\n\tprivate create(data: T) {\r\n\t\tthis.props.requestCreate(data);\r\n\t}\r\n\r\n\t// Get the details for a data entry\r\n\tprivate details(data: T) {\r\n\t\tthis.props.requestDetails(data);\r\n\t}\r\n\r\n\t// Select a data entry for editing\r\n\tprivate edit(data: T | undefined) {\r\n\t\tthis.setState({ data });\r\n\t}\r\n\r\n\t// Save/Update an existing data entry\r\n\tprivate save(data: T, newData: any) {\r\n\t\tthis.props.requestChange(data, newData);\r\n\t\tthis.endEdit();\r\n\t}\r\n\r\n\t// End editing an entry\r\n\tprivate endEdit() {\r\n\t\tthis.setState({\r\n\t\t\tdata: undefined\r\n\t\t});\r\n\t}\r\n\r\n\t// Delete a data entry\r\n\tprivate delete(data: T) {\r\n\t\tthis.props.requestDelete(data);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst { filter, title, createTitle, filterTitle } = this.props;\r\n\r\n\t\tconst checks: ((val: T) => boolean)[] = [];\r\n\t\tlet regsValid = false;\r\n\r\n\t\t// Get all the fields of the table\r\n\t\tconst fields: { [x: string]: DataFieldRaw<T> } = _.mapValues(\r\n\t\t\tthis.props.fields,\r\n\t\t\t(value, name) => {\r\n\t\t\t\tlet val: DataFieldRaw<T> = {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tview: true\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// If the column is a string use that as the label\r\n\t\t\t\t// If the column is a function, use that function to display the cell\r\n\t\t\t\t// else if the column provides a view function then use that to display the cell\r\n\t\t\t\tif (typeof value === 'string') {\r\n\t\t\t\t\tval.label = value;\r\n\t\t\t\t} else if (typeof value === 'function') {\r\n\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) =>\r\n\t\t\t\t\t\tvalue(obj, this.expandRef(tableRef));\r\n\t\t\t\t} else if (typeof value === 'object') {\r\n\t\t\t\t\tval = { ...val, ...value };\r\n\t\t\t\t\tif (typeof value.view === 'function') {\r\n\t\t\t\t\t\tconst func = value.view;\r\n\t\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) =>\r\n\t\t\t\t\t\t\tfunc(obj, this.expandRef(tableRef));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t// Get all the fields for the create form\r\n\t\t// Get all the fields for the filter form\r\n\t\tconst createFields: { [x: string]: DataFieldRaw<T> } = {};\r\n\t\tconst filterFields: { [x: string]: DataFieldRaw<T> } = {};\r\n\t\tObject.keys(fields).forEach(f => {\r\n\t\t\tif (fields[f].create) {\r\n\t\t\t\tcreateFields[f] = fields[f];\r\n\t\t\t}\r\n\t\t\tif (fields[f].filter) {\r\n\t\t\t\tfilterFields[f] = fields[f];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tObject.keys(filter).forEach(name => {\r\n\t\t\t\tconst value = filter[name];\r\n\r\n\t\t\t\t// Get the filter field according to the filterName if specified,\r\n\t\t\t\t// otherwise just the name\r\n\t\t\t\tconst ff =\r\n\t\t\t\t\tObject.keys(filterFields)\r\n\t\t\t\t\t\t.map(f => filterFields[f])\r\n\t\t\t\t\t\t.find(f => f.filterName === name) || filterFields[name];\r\n\r\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\r\n\t\t\t\tlet val = (dataVal: T) => _.get(dataVal, name);\r\n\t\t\t\tif (typeof ff.filterValue === 'function') {\r\n\t\t\t\t\tval = ff.filterValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If it is an array then we need to check if the value is in the array\r\n\t\t\t\t// Otherwise just use a normal regex check\r\n\t\t\t\tif (_.isArray(value)) {\r\n\t\t\t\t\tif (value.length === 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tchecks.push((dataVal: T) => {\r\n\t\t\t\t\t\tconst v = val(dataVal);\r\n\t\t\t\t\t\treturn value.indexOf(v) >= 0;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tchecks.push((dataVal: T) =>\r\n\t\t\t\t\t\tnew RegExp(value, 'i').test(val(dataVal))\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tregsValid = true;\r\n\t\t} catch {\r\n\t\t\tregsValid = false;\r\n\t\t}\r\n\r\n\t\t// Filter out the values according to the filters\r\n\t\t// If the regex isn't valid then we don't want to filter\r\n\t\tconst list = this.props.list.filter(data => {\r\n\t\t\treturn !regsValid || checks.every(check => check(data));\r\n\t\t});\r\n\r\n\t\t// Check how many columns we need for the create and filter form\r\n\t\tconst cols = createTitle && filterTitle ? 2 : 1;\r\n\r\n\t\t// Wrap the provided actions if we have any\r\n\t\tconst origActions = this.props.actions;\r\n\t\tlet actions = origActions;\r\n\t\tif (typeof origActions === 'function') {\r\n\t\t\tactions = (obj, tableRef) => origActions(obj, this.expandRef(tableRef));\r\n\t\t}\r\n\r\n\t\tconst DT = this.createTable();\r\n\r\n\t\tconst createForm = this.renderCreateForm(createTitle, createFields);\r\n\t\tconst filterForm = this.renderFilterForm(\r\n\t\t\tfilterTitle,\r\n\t\t\tfilterFields,\r\n\t\t\tregsValid\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<Segment basic>\r\n\t\t\t\t<Grid stackable doubling columns={cols}>\r\n\t\t\t\t\t{createForm}\r\n\t\t\t\t\t{filterForm}\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<DT\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\ticon={this.props.icon}\r\n\t\t\t\t\tlist={list}\r\n\t\t\t\t\tidFunc={this.props.idFunc}\r\n\t\t\t\t\tfields={fields}\r\n\t\t\t\t\tonEdit={this.onEdit}\r\n\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\tonDelete={this.onDelete}\r\n\t\t\t\t\tcanEdit={this.canEdit}\r\n\t\t\t\t\tcanDelete={this.canDelete}\r\n\t\t\t\t\tactions={actions}\r\n\t\t\t\t\tisEditing={this.isEditing}\r\n\t\t\t\t/>\r\n\t\t\t</Segment>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate createTable() {\r\n\t\treturn DataTable as React.ComponentClass<DataTableProps<T>>;\r\n\t}\r\n\r\n\tprivate expandRef = (tableRef: DataTableRef): DataViewRef<T> => ({\r\n\t\t...tableRef,\r\n\t\tcreate: this.create,\r\n\t\tdetails: this.details,\r\n\t\tsave: this.save,\r\n\t\tedit: this.edit,\r\n\t\tendEdit: this.endEdit,\r\n\t\tdelete: this.delete\r\n\t});\r\n\r\n\tprivate onCreate = (obj: T, tableRef: DataTableRef) => {\r\n\t\tthis.props.onCreate\r\n\t\t\t? this.props.onCreate(obj, this.expandRef(tableRef))\r\n\t\t\t: this.create(obj);\r\n\t};\r\n\r\n\tprivate onEdit = (obj: T, tableRef: DataTableRef) => {\r\n\t\tthis.props.onEdit\r\n\t\t\t? this.props.onEdit(obj, this.expandRef(tableRef))\r\n\t\t\t: this.edit(obj);\r\n\t};\r\n\r\n\tprivate onSave = (obj: T, newObj: any, tableRef: DataTableRef) => {\r\n\t\tthis.props.onSave\r\n\t\t\t? this.props.onSave(obj, newObj, this.expandRef(tableRef))\r\n\t\t\t: this.save(obj, newObj);\r\n\t};\r\n\r\n\tprivate onDelete = (obj: T, tableRef: DataTableRef) => {\r\n\t\tthis.props.onDelete\r\n\t\t\t? this.props.onDelete(obj, this.expandRef(tableRef))\r\n\t\t\t: this.delete(obj);\r\n\t};\r\n\r\n\tprivate canEdit = (obj: T) => {\r\n\t\tconst { canEdit, perms, perm } = this.props;\r\n\t\treturn (\r\n\t\t\t(typeof canEdit === 'function' ? canEdit(obj) : !!canEdit) &&\r\n\t\t\tcheckPermissions(perms, perm.concat('modify'))\r\n\t\t);\r\n\t};\r\n\r\n\tprivate canDelete = (obj: T) => {\r\n\t\tconst { canDelete, perms, perm } = this.props;\r\n\t\treturn (\r\n\t\t\t(typeof canDelete === 'function' ? canDelete(obj) : !!canDelete) &&\r\n\t\t\tcheckPermissions(perms, perm.concat('delete'))\r\n\t\t);\r\n\t};\r\n\r\n\tprivate isEditing = (obj: T) => this.props.equals(obj, this.state.data);\r\n\r\n\tprivate renderCreateForm(\r\n\t\tcreateTitle: string | undefined,\r\n\t\tcreateFields: { [x: string]: DataFieldRaw<T> }\r\n\t) {\r\n\t\tconst { checkCreatePerm, perms, perm, createButton, creating } = this.props;\r\n\t\tif (\r\n\t\t\t!createTitle ||\r\n\t\t\t(checkCreatePerm && !checkPermissions(perms, perm.concat('create')))\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Grid.Column>\r\n\t\t\t\t<CreateForm\r\n\t\t\t\t\ttitle={createTitle}\r\n\t\t\t\t\tbutton={createButton}\r\n\t\t\t\t\tcreating={creating}\r\n\t\t\t\t\tfields={createFields}\r\n\t\t\t\t\tonCreate={this.onCreate}\r\n\t\t\t\t/>\r\n\t\t\t</Grid.Column>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFilterForm(\r\n\t\tfilterTitle: string | undefined,\r\n\t\tfilterFields: { [x: string]: DataFieldRaw<T> },\r\n\t\tregsValid: boolean\r\n\t) {\r\n\t\tif (!filterTitle) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Grid.Column>\r\n\t\t\t\t<FilterForm\r\n\t\t\t\t\ttitle={filterTitle}\r\n\t\t\t\t\tfields={filterFields}\r\n\t\t\t\t\tvalid={regsValid}\r\n\t\t\t\t\tvalues={this.props.filter}\r\n\t\t\t\t\tonFilterChange={this.props.setFilter}\r\n\t\t\t\t/>\r\n\t\t\t</Grid.Column>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps<T>(endpoint: string, id: IdFunction<T>) {\r\n\treturn (_state: AppState, ownProps: OwnProps<T>) => {\r\n\t\tconst state: DataViewState<T> = _.get(\r\n\t\t\t_state,\r\n\t\t\tendpoint.replace(/\\//g, '_').replace('-', '')\r\n\t\t);\r\n\r\n\t\treturn {\r\n\t\t\tcreating: state ? state.creating : false,\r\n\t\t\tfilter: state && state.filter ? state.filter : {},\r\n\t\t\tlist: state ? state.list : [],\r\n\t\t\ttypes: _state.api.types,\r\n\t\t\tidFunc: id,\r\n\t\t\tperm: endpoint.split('/'),\r\n\t\t\tperms: _state.api.permissions\r\n\t\t};\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps<T>(\r\n\tendpoint: string,\r\n\tid: IdFunction<T>,\r\n\tnoDetails: boolean\r\n) {\r\n\treturn (dispatch: Dispatch<AppAction>) => {\r\n\t\treturn {\r\n\t\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\r\n\t\t\trequestDetails: (data: T) => dispatch(requestDetails(endpoint, id, data)),\r\n\t\t\trequestCreate: (data: T) => dispatch(requestCreate(endpoint, id, data)),\r\n\t\t\trequestChange: (data: T, newData: object) =>\r\n\t\t\t\tdispatch(requestChange(endpoint, id, data, newData)),\r\n\t\t\trequestDelete: (data: T) => dispatch(requestDelete(endpoint, id, data)),\r\n\t\t\tsetFilter: (filter: string, value: string) =>\r\n\t\t\t\tdispatch(setFilter(endpoint, filter, value)),\r\n\t\t\tequals: (o1: T, o2: T) => o1 != null && o2 != null && id(o1) === id(o2)\r\n\t\t};\r\n\t};\r\n}\r\n\r\nexport default function createDataView<T>(\r\n\tendpoint: string,\r\n\tobjId: string | IdFunction<T>,\r\n\tnoDetails?: boolean\r\n) {\r\n\tif (!objId) {\r\n\t\tobjId = 'id';\r\n\t}\r\n\tconst id =\r\n\t\ttypeof objId === 'function'\r\n\t\t\t? objId\r\n\t\t\t: (data: T) => _.get(data, objId as string);\r\n\r\n\treturn connect<StateProps<T>, DispatchProps<T>, OwnProps<T>, AppState>(\r\n\t\tmapStateToProps<T>(endpoint, id),\r\n\t\tmapDispatchToProps<T>(endpoint, id, noDetails ? true : false)\r\n\t)(DataView as any);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.tsx","import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { Accordion, Button, Dropdown, Form, Icon } from 'semantic-ui-react';\r\n\r\nimport { DataFieldGroup, DataFieldRaw, DataTableRef } from '../../types';\r\nimport { handleChange, HandleChangeFunc } from '../Util';\r\n\r\nexport interface Props<T> extends WithTranslation {\r\n\ttitle: string;\r\n\tcreating: boolean;\r\n\tonCreate: (data: any, view: DataTableRef) => void;\r\n\tbutton?: string;\r\n\tfields: {\r\n\t\t[x: string]: DataFieldRaw<T>;\r\n\t};\r\n}\r\n\r\ninterface OwnState {\r\n\topen: boolean;\r\n\tnewData: any;\r\n}\r\n\r\nclass CreateForm<T> extends React.Component<Props<T>, OwnState> {\r\n\tprivate handleChange: HandleChangeFunc;\r\n\r\n\tpublic constructor(props: Props<T>) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\topen: false,\r\n\t\t\tnewData: {}\r\n\t\t};\r\n\r\n\t\tthis.doHandleChange = this.doHandleChange.bind(this);\r\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange);\r\n\t\tthis.create = this.create.bind(this);\r\n\t}\r\n\r\n\tprivate doHandleChange(key: string, value: string) {\r\n\t\tthis.setState({\r\n\t\t\tnewData: {\r\n\t\t\t\t...this.state.newData,\r\n\t\t\t\t[key]: value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\r\n\t\treturn (\r\n\t\t\tnextProps.creating !== this.props.creating ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\tnextState.newData !== this.state.newData ||\r\n\t\t\tnextState.open !== this.state.open\r\n\t\t);\r\n\t}\r\n\r\n\tprivate create() {\r\n\t\tconst data = {};\r\n\t\tObject.keys(this.state.newData).forEach(key => {\r\n\t\t\t_.set(data, key, this.state.newData[key]);\r\n\t\t});\r\n\r\n\t\tthis.props.onCreate(data, {\r\n\t\t\tstate: this.state.newData,\r\n\t\t\tsetState: this.setState,\r\n\t\t\thandleChange: this.handleChange\r\n\t\t});\r\n\t}\r\n\r\n\tprivate canCreate(): boolean {\r\n\t\treturn Object.keys(this.props.fields).every(name => {\r\n\t\t\tconst field = this.props.fields[name];\r\n\t\t\tconst key = field.createName ? field.createName : name;\r\n\t\t\treturn (\r\n\t\t\t\ttypeof field === 'string' || !field.required || this.state.newData[key]\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate handleClick = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: !this.state.open\r\n\t\t});\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\tconst { title, creating } = this.props;\r\n\r\n\t\tconst _t = this.props.t;\r\n\r\n\t\treturn (\r\n\t\t\t<Accordion styled fluid>\r\n\t\t\t\t<Accordion.Title active={this.state.open} onClick={this.handleClick}>\r\n\t\t\t\t\t<Icon fitted name=\"plus\" /> {title}\r\n\t\t\t\t</Accordion.Title>\r\n\r\n\t\t\t\t<Accordion.Content active={this.state.open}>\r\n\t\t\t\t\t<Form loading={creating}>\r\n\t\t\t\t\t\t{this.renderFieldGroups()}\r\n\r\n\t\t\t\t\t\t<Button primary onClick={this.create} disabled={!this.canCreate()}>\r\n\t\t\t\t\t\t\t{this.props.button || _t('Create')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Accordion.Content>\r\n\t\t\t</Accordion>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderFieldGroups() {\r\n\t\tconst fieldGroups: DataFieldGroup<T>[] = [];\r\n\t\tObject.keys(this.props.fields).forEach(name => {\r\n\t\t\tconst field = this.props.fields[name];\r\n\t\t\tconst newField: DataFieldRaw<T> = {\r\n\t\t\t\t...field,\r\n\t\t\t\tname: field.createName ? field.createName : name\r\n\t\t\t};\r\n\r\n\t\t\tif (newField.isGroup) {\r\n\t\t\t\tfieldGroups.push({ only: newField });\r\n\t\t\t} else if (\r\n\t\t\t\tfieldGroups.length &&\r\n\t\t\t\t!fieldGroups[fieldGroups.length - 1].second\r\n\t\t\t) {\r\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField;\r\n\t\t\t} else {\r\n\t\t\t\tfieldGroups.push({ first: newField });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn fieldGroups.map((fg, i) => {\r\n\t\t\tif (fg.only) {\r\n\t\t\t\treturn <div key={i}>{this.renderField(fg.only)}</div>;\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Group key={i} widths=\"equal\">\r\n\t\t\t\t\t{fg.first && this.renderField(fg.first)}\r\n\r\n\t\t\t\t\t{fg.second && this.renderField(fg.second)}\r\n\t\t\t\t</Form.Group>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate renderField(field: DataFieldRaw<T>) {\r\n\t\tconst state = this.state.newData;\r\n\r\n\t\tif (typeof field.create === 'function') {\r\n\t\t\treturn field.create({\r\n\t\t\t\tstate: state,\r\n\t\t\t\tsetState: this.setState,\r\n\t\t\t\thandleChange: this.handleChange,\r\n\t\t\t\tvalue: state[field.name]\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (field.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid={true}\r\n\t\t\t\t\tselection={true}\r\n\t\t\t\t\tsearch={true}\r\n\t\t\t\t\trequired={field.required}\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={field.name}\r\n\t\t\t\t\tlabel={field.label}\r\n\t\t\t\t\tplaceholder={field.label}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tvalue={state[field.name]}\r\n\t\t\t\t\toptions={field.options}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\trequired={field.required}\r\n\t\t\t\ttype={field.type ? field.type : 'text'}\r\n\t\t\t\tname={field.name}\r\n\t\t\t\tlabel={field.label}\r\n\t\t\t\tplaceholder={field.label}\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\tvalue={state[field.name]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withTranslation('CreateForm')(CreateForm);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.tsx","import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { Accordion, Dropdown, Form, Icon, Message } from 'semantic-ui-react';\r\n\r\nimport { DataFieldGroup, DataFieldRaw } from '../../types';\r\nimport { handleChange, HandleChangeFunc } from '../Util';\r\n\r\nexport interface Props<T> {\r\n\ttitle: string;\r\n\tvalid: boolean;\r\n\tfields: {\r\n\t\t[x: string]: DataFieldRaw<T>;\r\n\t};\r\n\tvalues: {\r\n\t\t[x: string]: string | string[];\r\n\t};\r\n\tonFilterChange: (key: string, value: string) => void;\r\n}\r\n\r\ninterface State {\r\n\topen: boolean;\r\n}\r\n\r\nclass FilterForm<T> extends React.Component<Props<T>, State> {\r\n\tprivate handleChange: HandleChangeFunc;\r\n\r\n\tpublic constructor(props: Props<T>) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\topen: false\r\n\t\t};\r\n\r\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange);\r\n\t}\r\n\r\n\tpublic shouldComponentUpdate(nextProps: Props<T>, nextState: State) {\r\n\t\treturn (\r\n\t\t\tnextProps.values !== this.props.values ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\tnextProps.valid !== this.props.valid ||\r\n\t\t\tnextState.open !== this.state.open\r\n\t\t);\r\n\t}\r\n\r\n\tprivate handleClick = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: !this.state.open\r\n\t\t});\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\tconst { title, fields, values, valid } = this.props;\r\n\r\n\t\tconst fieldGroups: DataFieldGroup<T>[] = [];\r\n\t\tObject.keys(fields).forEach(name => {\r\n\t\t\tconst field = fields[name];\r\n\t\t\tconst newField: DataFieldRaw<T> = {\r\n\t\t\t\t...field,\r\n\t\t\t\tname: field.filterName ? field.filterName : name\r\n\t\t\t};\r\n\r\n\t\t\tif (newField.isGroup) {\r\n\t\t\t\tfieldGroups.push({ only: newField });\r\n\t\t\t} else if (\r\n\t\t\t\tfieldGroups.length &&\r\n\t\t\t\t!fieldGroups[fieldGroups.length - 1].second\r\n\t\t\t) {\r\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField;\r\n\t\t\t} else {\r\n\t\t\t\tfieldGroups.push({ first: newField });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst fs = fieldGroups.map((fg, i) => {\r\n\t\t\tif (fg.only) {\r\n\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid);\r\n\t\t\t}\r\n\r\n\t\t\tconst first = fg.first\r\n\t\t\t\t? this.renderField(fg.first, _.get(values, fg.first.name), !valid)\r\n\t\t\t\t: null;\r\n\t\t\tconst second = fg.second\r\n\t\t\t\t? this.renderField(fg.second, _.get(values, fg.second.name), !valid)\r\n\t\t\t\t: null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Group key={i} widths=\"equal\">\r\n\t\t\t\t\t{first}\r\n\t\t\t\t\t{second}\r\n\t\t\t\t</Form.Group>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Accordion styled fluid>\r\n\t\t\t\t<Accordion.Title active={this.state.open} onClick={this.handleClick}>\r\n\t\t\t\t\t<Icon name=\"filter\" fitted /> {title}\r\n\t\t\t\t</Accordion.Title>\r\n\r\n\t\t\t\t<Accordion.Content active={this.state.open}>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t{fs}\r\n\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\terror\r\n\t\t\t\t\t\t\tvisible={!valid}\r\n\t\t\t\t\t\t\tcontent=\"Search term must be a valid regex\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Accordion.Content>\r\n\t\t\t</Accordion>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderField(\r\n\t\tfield: DataFieldRaw<T>,\r\n\t\tvalue: string | string[],\r\n\t\terror: boolean\r\n\t) {\r\n\t\tif (typeof field.filter === 'function') {\r\n\t\t\treturn field.filter({\r\n\t\t\t\tstate: this.props.values,\r\n\t\t\t\tsetState: this.setState,\r\n\t\t\t\thandleChange: this.handleChange,\r\n\t\t\t\tvalue: value\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (field.options) {\r\n\t\t\tif (!value) {\r\n\t\t\t\tvalue = [];\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={field.name}\r\n\t\t\t\t\tlabel={field.label}\r\n\t\t\t\t\tplaceholder={field.label}\r\n\t\t\t\t\toptions={field.options}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={field.name}\r\n\t\t\t\ttype={field.type ? field.type : 'text'}\r\n\t\t\t\tlabel={field.label}\r\n\t\t\t\tplaceholder={field.label}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\terror={error}\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FilterForm;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.tsx","import * as React from 'react';\r\nimport { Button, ButtonProps, Label, Progress } from 'semantic-ui-react';\r\n\r\nimport { Enchantment, ItemStack, PotionEffect } from '../../fetch';\r\nimport { formatRange } from '../Util';\r\n\r\nconst getRoman: (num: number) => string = (num: number) => {\r\n\tif (num === 1) {\r\n\t\treturn 'I';\r\n\t}\r\n\tif (num === 2) {\r\n\t\treturn 'II';\r\n\t}\r\n\tif (num === 3) {\r\n\t\treturn 'III';\r\n\t}\r\n\tif (num === 4) {\r\n\t\treturn 'IV';\r\n\t}\r\n\tif (num === 5) {\r\n\t\treturn 'V';\r\n\t}\r\n\treturn '';\r\n};\r\nconst getAmplifier: (effect: PotionEffect) => string = (effect: PotionEffect) =>\r\n\tgetRoman(effect.amplifier + 1);\r\n\r\nconst itemStackStyle = {\r\n\tdisplay: 'inline-block',\r\n\tverticalAlign: 'top',\r\n\tmargin: '0.1em',\r\n\tpadding: '0.2em',\r\n\tborder: '1px solid rgba(34,36,38,.1)',\r\n\tborderRadius: '.28571429rem'\r\n};\r\n\r\nexport interface Props {\r\n\titem: ItemStack;\r\n\tonRemove?: (\r\n\t\tevent: React.MouseEvent<HTMLButtonElement>,\r\n\t\tdata: ButtonProps\r\n\t) => void;\r\n}\r\n\r\nexport default class extends React.Component<Props> {\r\n\tpublic render() {\r\n\t\tconst { item } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div style={itemStackStyle}>\r\n\t\t\t\t<strong>{item.type.name}</strong>\r\n\t\t\t\t{this.renderRemoveButton()}\r\n\t\t\t\t<div style={{ color: 'gray', marginBottom: '0.5em' }}>\r\n\t\t\t\t\t{item.type.id}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.renderDurability()}\r\n\t\t\t\t\t{this.renderQuantity()}\r\n\t\t\t\t\t{this.renderEnchantments()}\r\n\t\t\t\t\t{this.renderSpawn()}\r\n\t\t\t\t\t{this.renderPotionEffects()}\r\n\t\t\t\t\t{this.renderFoodRestoration()}\r\n\t\t\t\t\t{this.renderBurningFuel()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderRemoveButton() {\r\n\t\tif (!this.props.onRemove) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Button\r\n\t\t\t\tcompact\r\n\t\t\t\tnegative\r\n\t\t\t\tsize=\"mini\"\r\n\t\t\t\ticon=\"delete\"\r\n\t\t\t\tfloated=\"right\"\r\n\t\t\t\tonClick={this.props.onRemove}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderDurability() {\r\n\t\tconst { item } = this.props;\r\n\r\n\t\tif (!item.durability) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (item.durability.unbreakable) {\r\n\t\t\treturn <Label size=\"tiny\">Unbreakable</Label>;\r\n\t\t}\r\n\r\n\t\tconst percent = formatRange(\r\n\t\t\titem.durability.durability,\r\n\t\t\titem.useLimit ? item.useLimit : 0\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<Progress\r\n\t\t\t\tprogress\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tpercent={percent}\r\n\t\t\t\tstyle={{ margin: '0 0 .5em 0' }}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderQuantity() {\r\n\t\tconst { item } = this.props;\r\n\r\n\t\tif (item.quantity <= 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Label size=\"tiny\" color=\"blue\">\r\n\t\t\t\tx{item.quantity}\r\n\t\t\t</Label>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderEnchantments() {\r\n\t\tconst { item } = this.props;\r\n\t\tif (!item.enchantments) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst renderEnchant = (enchant: Enchantment) => (\r\n\t\t\t<Label color=\"purple\" size=\"tiny\" key={enchant.id}>\r\n\t\t\t\t{enchant.name}\r\n\t\t\t\t<Label.Detail>{enchant.level}</Label.Detail>\r\n\t\t\t</Label>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div>{item.enchantments.map(enchant => renderEnchant(enchant))}</div>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderSpawn() {\r\n\t\tconst { item } = this.props;\r\n\t\tif (!item.spawn) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn <Label size=\"tiny\">{item.spawn.name}</Label>;\r\n\t}\r\n\r\n\tprivate renderPotionEffects() {\r\n\t\tconst { item } = this.props;\r\n\t\tif (!item.potionEffects) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst renderEffect = (effect: PotionEffect) => (\r\n\t\t\t<Label size=\"tiny\" color=\"brown\" key={effect.type.id}>\r\n\t\t\t\t{effect.type.name} {getAmplifier(effect)}\r\n\t\t\t</Label>\r\n\t\t);\r\n\r\n\t\treturn <div>{item.potionEffects.map(effect => renderEffect(effect))}</div>;\r\n\t}\r\n\r\n\tprivate renderFoodRestoration() {\r\n\t\tconst { item } = this.props;\r\n\t\tif (!item.foodRestoration) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Label\r\n\t\t\t\tsize=\"tiny\"\r\n\t\t\t\tcolor=\"green\"\r\n\t\t\t\ticon=\"food\"\r\n\t\t\t\tcontent={item.foodRestoration}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderBurningFuel() {\r\n\t\tconst { item } = this.props;\r\n\t\tif (!item.burningFuel) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Label size=\"tiny\" color=\"red\" icon=\"fire\" content={item.burningFuel} />\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ItemStack/index.tsx","import * as React from 'react';\r\nimport { Icon, Label } from 'semantic-ui-react';\r\n\r\nimport { Location } from '../../fetch';\r\n\r\nexport interface Props {\r\n\tlocation: Location | undefined;\r\n}\r\n\r\nexport default ({ location }: Props) =>\r\n\tlocation ? (\r\n\t\t<Label color=\"blue\">\r\n\t\t\t<Icon name=\"globe\" />\r\n\t\t\t{location.world.name}&nbsp; &nbsp;\r\n\t\t\t{location.position.x.toFixed(0)} |&nbsp;\r\n\t\t\t{location.position.y.toFixed(0)} |&nbsp;\r\n\t\t\t{location.position.z.toFixed(0)}\r\n\t\t</Label>\r\n\t) : (\r\n\t\t<Label color=\"red\">Invalid location</Label>\r\n\t);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Location/index.tsx","import * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { Accordion, Button, Radio } from 'semantic-ui-react';\r\n\r\nimport { Inventory, ItemStack } from '../../fetch';\r\nimport ItemStackComp from '../ItemStack';\r\n\r\nconst customizer: (\r\n\tobjValue: ItemStack,\r\n\tsrcValue: ItemStack\r\n) => ItemStack[] | undefined = (objValue: ItemStack, srcValue: ItemStack) => {\r\n\tif (_.isArray(objValue)) {\r\n\t\treturn objValue.concat(srcValue);\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\nexport interface AppProps extends WithTranslation {\r\n\tinventory: Inventory;\r\n\tdontStack?: boolean;\r\n\tstackOption?: boolean;\r\n\tdontCollapse?: boolean;\r\n}\r\n\r\ninterface AppState {\r\n\tshown: boolean;\r\n\tstacked: boolean;\r\n}\r\n\r\nclass InventoryComp extends React.Component<AppProps, AppState> {\r\n\tpublic constructor(props: AppProps) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tshown: false,\r\n\t\t\tstacked: true\r\n\t\t};\r\n\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t}\r\n\r\n\tprivate toggle() {\r\n\t\tthis.setState({\r\n\t\t\tshown: !this.state.shown\r\n\t\t});\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst { t, inventory } = this.props;\r\n\r\n\t\tif (inventory.slots.length === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<Button primary disabled>\r\n\t\t\t\t\t{t('EmptyInventory')}\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst content = (\r\n\t\t\t<div>\r\n\t\t\t\t{this.renderStackToggle()}\r\n\t\t\t\t{this.renderItems()}\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tif (this.props.dontCollapse) {\r\n\t\t\treturn content;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Accordion>\r\n\t\t\t\t<Accordion.Title\r\n\t\t\t\t\tas={Button}\r\n\t\t\t\t\tprimary\r\n\t\t\t\t\tactive={this.state.shown}\r\n\t\t\t\t\tonClick={this.toggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.state.shown ? t('HideInventory') : t('ShowInventory')}\r\n\t\t\t\t</Accordion.Title>\r\n\t\t\t\t<Accordion.Content active={this.state.shown}>\r\n\t\t\t\t\t{content}\r\n\t\t\t\t</Accordion.Content>\r\n\t\t\t</Accordion>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate renderStackToggle() {\r\n\t\treturn this.props.stackOption ? (\r\n\t\t\t<>\r\n\t\t\t\t<Radio\r\n\t\t\t\t\ttoggle\r\n\t\t\t\t\tchecked={this.state.stacked}\r\n\t\t\t\t\tonChange={this.toggleStacked}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t</>\r\n\t\t) : null;\r\n\t}\r\n\r\n\tprivate renderItems() {\r\n\t\tlet items = _.sortBy(\r\n\t\t\tthis.props.inventory.slots.map(s => s.stack),\r\n\t\t\t'type.name'\r\n\t\t);\r\n\r\n\t\tif (!this.props.dontStack && this.state.stacked) {\r\n\t\t\tconst itemGroups = _.groupBy(items, 'type.id');\r\n\t\t\titems = _.map(itemGroups, itemGroup => {\r\n\t\t\t\tlet item = _.merge({}, _.first(itemGroup));\r\n\t\t\t\t_.tail(itemGroup).forEach(\r\n\t\t\t\t\tnewItem => (item = _.mergeWith(item, newItem, customizer))\r\n\t\t\t\t);\r\n\t\t\t\treturn _.merge(item, { quantity: _.sumBy(itemGroup, 'quantity') });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn items.map((item, i) => <ItemStackComp key={i} item={item} />);\r\n\t}\r\n\r\n\tprivate toggleStacked = () => {\r\n\t\tthis.setState({ stacked: !this.state.stacked });\r\n\t};\r\n}\r\n\r\nexport default withTranslation('Inventory')(InventoryComp);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Inventory/index.tsx"],"sourceRoot":""}