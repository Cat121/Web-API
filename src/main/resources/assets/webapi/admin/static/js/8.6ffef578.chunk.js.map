{"version":3,"sources":["../static/js/8.6ffef578.chunk.js","views/Integrations/WebBooks/Books.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx","components/DataView/index.tsx","components/CreateForm/index.tsx","components/FilterForm/index.tsx","../node_modules/copy-to-clipboard/index.js","../node_modules/toggle-selection/index.js"],"names":["webpackJsonp","1019","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_copy_to_clipboard__","__WEBPACK_IMPORTED_MODULE_1_react__","n","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_5__components_DataView__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","DataView","Books","_super","props","_this","call","renderEditContent","bind","addLine","view","setState","lines","state","concat","newItem","moveLineUp","index","map","line","i","moveLineDown","deleteLine","filter","copy","book","apiUrl","id","render","_t","t","canEdit","canDelete","icon","title","filterTitle","createTitle","fields","label","required","edit","wide","content","dangerouslySetInnerHTML","__html","html","link","fluid","onFocus","e","target","select","action","color","onClick","onSave","obj","newData","save","size","Item","key","compact","floated","disabled","length","name","placeholder","onChange","handleChange","mapStateToProps","api","server","mapDispatchToProps","dispatch","1021","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_4__Util__","__WEBPACK_IMPORTED_MODULE_5__Pagination__","__WEBPACK_IMPORTED_MODULE_6__TableHeader__","__WEBPACK_IMPORTED_MODULE_7__TableRow__","DataTable","page","changePage","doHandleChange","_a","event","preventDefault","onEdit","field","shouldComponentUpdate","nextProps","nextState","list","actions","maxPage","Math","ceil","min","listPage","slice","thisRef","changes","style","marginTop","fitted","striped","stackable","hasActions","Body","idFunc","tableRef","editing","isEditing","v","onDelete","1022","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","Pagination","apply","arguments","from","max","to","pages","push","pagination","active","1023","DataTableHeader","Header","Row","keys","HeaderCell","1024","__WEBPACK_IMPORTED_MODULE_2__Util__","TableRow","renderEdit","col","options","Field","selection","search","control","Input","type","j","Cell","collapsing","updating","loading","1025","endpoint","_state","ownProps","replace","creating","types","perm","split","perms","permissions","noDetails","requestList","__WEBPACK_IMPORTED_MODULE_4__actions_dataview__","requestDetails","data","requestCreate","requestChange","requestDelete","setFilter","equals","o1","o2","createDataView","objId","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_5__CreateForm__","__WEBPACK_IMPORTED_MODULE_6__DataTable__","__WEBPACK_IMPORTED_MODULE_7__FilterForm__","__WEBPACK_IMPORTED_MODULE_8__Util__","details","delete","createTable","componentDidMount","static","interval","setInterval","componentWillUnmount","clearInterval","checks","regsValid","expandRef","val","func_1","createFields","filterFields","f","ff","filterName","dataVal","filterValue","indexOf","RegExp","test","check","cols","origActions","DT","basic","doubling","columns","Column","button","createButton","onCreate","valid","values","onFilterChange","newObj","1026","CreateForm","forEach","canCreate","every","createName","fieldGroups","newField","isGroup","only","second","first","fg","renderField","Group","widths","1027","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_3__Util__","FilterForm","error","visible","multiple","1217","exports","format","message","copyKey","navigator","userAgent","text","debug","reselectPrevious","range","mark","success","deselectCurrent","document","createRange","getSelection","createElement","textContent","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","body","appendChild","selectNode","addRange","execCommand","Error","err","console","warn","window","clipboardData","setData","defaultMessage","prompt","removeRange","removeAllRanges","removeChild","1218","rangeCount","activeElement","ranges","getRangeAt","tagName","toUpperCase","blur","focus"],"mappings":"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","file":"static/js/8.6ffef578.chunk.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 1019:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_copy_to_clipboard__ = __webpack_require__(1217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_copy_to_clipboard___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_copy_to_clipboard__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_DataView__ = __webpack_require__(1025);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DataView = Object(__WEBPACK_IMPORTED_MODULE_5__components_DataView__[\"a\" /* default */])(\"web-books/book\", \"id\");\r\nvar Books = /** @class */ (function (_super) {\r\n    __extends(Books, _super);\r\n    function Books(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.renderEditContent = _this.renderEditContent.bind(_this);\r\n        return _this;\r\n    }\r\n    Books.prototype.addLine = function (view) {\r\n        view.setState({\r\n            lines: view.state.lines.concat(view.state.newItem),\r\n            newItem: \"\",\r\n        });\r\n    };\r\n    Books.prototype.moveLineUp = function (view, index) {\r\n        view.setState({\r\n            lines: view.state.lines.map(function (line, i) {\r\n                return i === index ? view.state.lines[index - 1] :\r\n                    (i === index - 1 ? view.state.lines[index] : line);\r\n            }),\r\n        });\r\n    };\r\n    Books.prototype.moveLineDown = function (view, index) {\r\n        view.setState({\r\n            lines: view.state.lines.map(function (line, i) {\r\n                return i === index ? view.state.lines[index + 1] :\r\n                    (i === index + 1 ? view.state.lines[index] : line);\r\n            }),\r\n        });\r\n    };\r\n    Books.prototype.deleteLine = function (view, index) {\r\n        view.setState({\r\n            lines: view.state.lines.filter(function (line, i) { return i !== index; }),\r\n            newItem: \"\",\r\n        });\r\n    };\r\n    Books.prototype.copy = function (book) {\r\n        __WEBPACK_IMPORTED_MODULE_0_copy_to_clipboard__(this.props.apiUrl + \"/api/v5/web-books/book/\" + book.id + \"/html\");\r\n    };\r\n    Books.prototype.render = function () {\r\n        var _this = this;\r\n        var _t = this.props.t;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](DataView, { canEdit: true, canDelete: true, icon: \"book\", title: _t(\"WebBooks\"), filterTitle: _t(\"FilterBooks\"), createTitle: _t(\"CreateBook\"), fields: {\r\n                id: {\r\n                    label: _t(\"Id\"),\r\n                    create: true,\r\n                    filter: true,\r\n                    required: true,\r\n                },\r\n                title: {\r\n                    label: _t(\"Title\"),\r\n                    edit: true,\r\n                    create: true,\r\n                    required: true,\r\n                    wide: true,\r\n                },\r\n                lines: {\r\n                    view: false,\r\n                    edit: true,\r\n                },\r\n                content: {\r\n                    label: _t(\"Content\"),\r\n                    wide: true,\r\n                    view: function (book) { return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](\"div\", { dangerouslySetInnerHTML: { __html: book.html } }); },\r\n                    edit: this.renderEditContent,\r\n                },\r\n                link: {\r\n                    label: _t(\"Link\"),\r\n                    wide: true,\r\n                    view: function (book) {\r\n                        return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"j\" /* Input */], { fluid: true, onFocus: function (e) { return e.target.select(); }, action: { color: \"teal\", icon: \"linkify\", onClick: function () { return _this.copy(book); } }, value: _this.props.apiUrl + \"/api/v5/web-books/book/\" + book.id + \"/html\" });\r\n                    },\r\n                },\r\n            }, onSave: function (obj, newData, view) {\r\n                view.save(obj, {\r\n                    id: obj.id,\r\n                    title: newData.title,\r\n                    lines: newData.lines,\r\n                });\r\n            } }));\r\n    };\r\n    Books.prototype.renderEditContent = function (book, view) {\r\n        var _this = this;\r\n        var _t = this.props.t;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](\"div\", null,\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"l\" /* List */], { size: \"large\" }, view.state.lines.map(function (line, index) {\r\n                return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"l\" /* List */].Item, { key: index },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"b\" /* Button */], { compact: true, icon: \"delete\", color: \"red\", size: \"mini\", onClick: function (e) { return _this.deleteLine(view, index); } }),\r\n                    line,\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"b\" /* Button */], { compact: true, icon: \"arrow down\", color: \"blue\", size: \"mini\", floated: \"right\", onClick: function (e) { return _this.moveLineDown(view, index); }, disabled: index >= view.state.lines.length - 1 }),\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"b\" /* Button */], { compact: true, icon: \"arrow up\", color: \"blue\", size: \"mini\", floated: \"right\", onClick: function (e) { return _this.moveLineUp(view, index); }, disabled: index <= 0 }));\r\n            })),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__[\"j\" /* Input */], { name: \"newItem\", placeholder: _t(\"NewLine\"), onChange: view.handleChange, value: view.state.newItem ? view.state.newItem : \"\", action: { color: \"green\", icon: \"plus\", onClick: function () { return _this.addLine(view); } } })));\r\n    };\r\n    return Books;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\nvar mapStateToProps = function (state) {\r\n    return {\r\n        apiUrl: state.api.server.apiUrl\r\n    };\r\n};\r\nvar mapDispatchToProps = function (dispatch) {\r\n    return {};\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"Integrations.WebBooks\")(Books)));\r\n\n\n/***/ }),\n\n/***/ 1021:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Util__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Pagination__ = __webpack_require__(1022);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__TableHeader__ = __webpack_require__(1023);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__TableRow__ = __webpack_require__(1024);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ITEMS_PER_PAGE = 20;\r\nvar DataTable = /** @class */ (function (_super) {\r\n    __extends(DataTable, _super);\r\n    function DataTable(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            page: 0,\r\n            newData: {},\r\n        };\r\n        _this.changePage = _this.changePage.bind(_this);\r\n        _this.doHandleChange = _this.doHandleChange.bind(_this);\r\n        _this.handleChange = __WEBPACK_IMPORTED_MODULE_4__Util__[\"e\" /* handleChange */].bind(_this, _this.doHandleChange);\r\n        return _this;\r\n    }\r\n    DataTable.prototype.doHandleChange = function (key, value) {\r\n        this.setState({\r\n            newData: __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, this.state.newData, (_a = {},\r\n                _a[key] = value,\r\n                _a))\r\n        });\r\n        var _a;\r\n    };\r\n    DataTable.prototype.changePage = function (event, page) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            page: page,\r\n        });\r\n    };\r\n    DataTable.prototype.onEdit = function (obj, view) {\r\n        var newData = {};\r\n        if (obj) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash__[\"each\"](this.props.fields, function (field, name) {\r\n                if (!field.edit) {\r\n                    return;\r\n                }\r\n                newData[name] = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](obj, name);\r\n            });\r\n        }\r\n        this.setState({\r\n            newData: newData,\r\n        });\r\n        if (this.props.onEdit) {\r\n            this.props.onEdit(obj, view);\r\n        }\r\n    };\r\n    DataTable.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.fields !== this.props.fields ||\r\n            nextProps.list !== this.props.list ||\r\n            nextState.page !== this.state.page ||\r\n            nextState.newData !== this.state.newData;\r\n    };\r\n    DataTable.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, icon = _a.icon, title = _a.title, list = _a.list, canEdit = _a.canEdit, canDelete = _a.canDelete, actions = _a.actions;\r\n        var fields = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"filter\"](this.props.fields, \"view\");\r\n        var maxPage = Math.ceil(list.length / ITEMS_PER_PAGE);\r\n        var page = Math.min(this.state.page, maxPage - 1);\r\n        var listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE);\r\n        var thisRef = {\r\n            handleChange: this.handleChange,\r\n            state: this.state.newData,\r\n            setState: function (changes) { return _this.setState({\r\n                newData: __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, _this.state.newData, changes)\r\n            }); },\r\n        };\r\n        var _t = this.props.t;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](\"div\", { style: { marginTop: \"2em\" } },\r\n            title &&\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"g\" /* Header */], null,\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"h\" /* Icon */], { fitted: true, name: icon }),\r\n                    \" \",\r\n                    title),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"w\" /* Table */], { striped: true, stackable: true },\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_6__TableHeader__[\"a\" /* default */], { fields: fields, hasActions: typeof actions !== \"undefined\", canEdit: canEdit, canDelete: canDelete, t: _t }),\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"w\" /* Table */].Body, null, __WEBPACK_IMPORTED_MODULE_0_lodash__[\"map\"](listPage, function (obj, i) {\r\n                    return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_7__TableRow__[\"a\" /* default */], { key: _this.props.idFunc(obj), obj: obj, tableRef: thisRef, canEdit: canEdit, canDelete: canDelete, editing: _this.props.isEditing(obj), fields: fields, onEdit: function (d, v) { return _this.onEdit(d, v); }, onSave: _this.props.onSave, onDelete: _this.props.onDelete, actions: _this.props.actions, newData: _this.state.newData, handleChange: _this.handleChange, t: _t });\r\n                }))),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__Pagination__[\"a\" /* default */], { page: page, maxPage: maxPage, changePage: function (e, p) { return _this.changePage(e, p); } })));\r\n    };\r\n    return DataTable;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"DataTable\")(DataTable));\r\n\n\n/***/ }),\n\n/***/ 1022:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(60);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar Pagination = /** @class */ (function (_super) {\r\n    __extends(Pagination, _super);\r\n    function Pagination() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Pagination.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.page !== this.props.page ||\r\n            nextProps.maxPage !== this.props.maxPage;\r\n    };\r\n    Pagination.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.props.maxPage <= 1) {\r\n            return null;\r\n        }\r\n        var _a = this.props, page = _a.page, maxPage = _a.maxPage;\r\n        var from = Math.max(0, page - 4);\r\n        var to = Math.min(maxPage, page + 5);\r\n        var pages = [];\r\n        for (var i = from; i < to; i++) {\r\n            pages.push(i);\r\n        }\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */], { pagination: true },\r\n            page > 4 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, 0); } }, \"1\")\r\n                : null,\r\n            page > 5 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, page - 5); } }, \"...\")\r\n                : null,\r\n            pages.map(function (p) { return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { key: p, onClick: function (e) { return _this.props.changePage(e, p); }, active: p === page }, p + 1)); }),\r\n            page < maxPage - 6 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, page + 5); } }, \"...\")\r\n                : null,\r\n            page < maxPage - 5 ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"n\" /* Menu */].Item, { onClick: function (e) { return _this.props.changePage(e, maxPage - 1); } }, maxPage)\r\n                : null));\r\n    };\r\n    return Pagination;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Pagination);\r\n\n\n/***/ }),\n\n/***/ 1023:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(60);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar DataTableHeader = /** @class */ (function (_super) {\r\n    __extends(DataTableHeader, _super);\r\n    function DataTableHeader() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataTableHeader.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.fields !== this.props.fields;\r\n    };\r\n    DataTableHeader.prototype.render = function () {\r\n        var _this = this;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Header, null,\r\n            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Row, null,\r\n                Object.keys(this.props.fields).map(function (name) {\r\n                    var field = _this.props.fields[name];\r\n                    return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].HeaderCell, { key: name }, field.label ? field.label : \"<\" + field.name + \">\"));\r\n                }),\r\n                this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n                    __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].HeaderCell, null, this.props.t(\"Actions\"))\r\n                    : null)));\r\n    };\r\n    return DataTableHeader;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (DataTableHeader);\r\n\n\n/***/ }),\n\n/***/ 1024:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Util__ = __webpack_require__(90);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar TableRow = /** @class */ (function (_super) {\r\n    __extends(TableRow, _super);\r\n    function TableRow() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TableRow.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.obj !== this.props.obj ||\r\n            nextProps.editing !== this.props.editing ||\r\n            nextProps.fields !== this.props.fields ||\r\n            (this.props.editing && nextProps.newData !== this.props.newData);\r\n    };\r\n    TableRow.prototype.renderEdit = function (obj, col) {\r\n        if (col.options) {\r\n            return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Field, { fluid: true, selection: true, search: true, control: __WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"d\" /* Dropdown */], name: col.name, placeholder: col.label, options: col.options, value: this.props.newData[col.name], onChange: this.props.handleChange }));\r\n        }\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"e\" /* Form */].Input, { name: col.name, type: col.type ? col.type : \"text\", placeholder: col.label, value: this.props.newData[col.name], onChange: this.props.handleChange }));\r\n    };\r\n    TableRow.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, actions = _a.actions, fields = _a.fields, obj = _a.obj, canEdit = _a.canEdit, canDelete = _a.canDelete, editing = _a.editing, tableRef = _a.tableRef;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Row, null,\r\n            fields.map(function (field, j) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Cell, { key: j, collapsing: !field.wide }, field.edit && editing ?\r\n                    (typeof field.edit === \"function\" ?\r\n                        field.edit(obj, tableRef)\r\n                        :\r\n                            _this.renderEdit(obj, field))\r\n                    :\r\n                        (typeof field.view === \"function\" ?\r\n                            field.view(obj, tableRef)\r\n                            :\r\n                                Object(__WEBPACK_IMPORTED_MODULE_2__Util__[\"d\" /* get */])(obj, field.name)));\r\n            }),\r\n            actions || canEdit || canDelete ?\r\n                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"w\" /* Table */].Cell, { collapsing: true },\r\n                    canEdit && editing ?\r\n                        [__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { key: \"save\", color: \"green\", disabled: obj.updating, loading: obj.updating, onClick: function () { if (_this.props.onSave) {\r\n                                    _this.props.onSave(obj, _this.props.newData, tableRef);\r\n                                } } },\r\n                                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"save\" }),\r\n                                \" \",\r\n                                this.props.t(\"Save\")),\r\n                            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { key: \"cancel\", color: \"yellow\", disabled: obj.updating, loading: obj.updating, onClick: function () { return _this.props.onEdit(null, tableRef); } },\r\n                                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"cancel\" }),\r\n                                \" \",\r\n                                this.props.t(\"Cancel\"))]\r\n                        : canEdit ?\r\n                            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { color: \"blue\", disabled: obj.updating, loading: obj.updating, onClick: function () { return _this.props.onEdit(obj, tableRef); } },\r\n                                __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"edit\" }),\r\n                                \" \",\r\n                                this.props.t(\"Edit\"))\r\n                            : null,\r\n                    canDelete &&\r\n                        __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"b\" /* Button */], { color: \"red\", disabled: obj.updating, loading: obj.updating, onClick: function () { if (_this.props.onDelete) {\r\n                                _this.props.onDelete(obj, tableRef);\r\n                            } } },\r\n                            __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__[\"h\" /* Icon */], { name: \"trash\" }),\r\n                            \" \",\r\n                            this.props.t(\"Remove\")),\r\n                    actions && actions(obj, tableRef))\r\n                : null));\r\n    };\r\n    return TableRow;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (TableRow);\r\n\n\n/***/ }),\n\n/***/ 1025:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = createDataView;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_dataview__ = __webpack_require__(144);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CreateForm__ = __webpack_require__(1026);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__DataTable__ = __webpack_require__(1021);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__FilterForm__ = __webpack_require__(1027);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Util__ = __webpack_require__(90);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DataView = /** @class */ (function (_super) {\r\n    __extends(DataView, _super);\r\n    function DataView(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            page: 0,\r\n            data: null,\r\n        };\r\n        _this.details = _this.details.bind(_this);\r\n        _this.create = _this.create.bind(_this);\r\n        _this.edit = _this.edit.bind(_this);\r\n        _this.save = _this.save.bind(_this);\r\n        _this.delete = _this.delete.bind(_this);\r\n        return _this;\r\n    }\r\n    DataView.prototype.createTable = function () { return __WEBPACK_IMPORTED_MODULE_6__DataTable__[\"a\" /* default */]; };\r\n    DataView.prototype.componentDidMount = function () {\r\n        if (!this.props.static) {\r\n            this.props.requestList();\r\n            this.interval = setInterval(this.props.requestList, 10000);\r\n        }\r\n    };\r\n    DataView.prototype.componentWillUnmount = function () {\r\n        if (this.interval) {\r\n            clearInterval(this.interval);\r\n        }\r\n    };\r\n    DataView.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.creating !== this.props.creating ||\r\n            nextProps.filter !== this.props.filter ||\r\n            nextProps.fields !== this.props.fields ||\r\n            nextProps.list !== this.props.list ||\r\n            nextState.data !== this.state.data;\r\n    };\r\n    // Create a new data entry\r\n    DataView.prototype.create = function (data) {\r\n        this.props.requestCreate(data);\r\n    };\r\n    // Get the details for a data entry\r\n    DataView.prototype.details = function (data) {\r\n        this.props.requestDetails(data);\r\n    };\r\n    // Select a data entry for editing\r\n    DataView.prototype.edit = function (data) {\r\n        this.setState({\r\n            data: data,\r\n        });\r\n    };\r\n    // Save/Update an existing data entry\r\n    DataView.prototype.save = function (data, newData) {\r\n        this.props.requestChange(data, newData);\r\n        this.setState({\r\n            data: null,\r\n        });\r\n    };\r\n    // Delete a data entry\r\n    DataView.prototype.delete = function (data) {\r\n        this.props.requestDelete(data);\r\n    };\r\n    DataView.prototype.render = function () {\r\n        var _this = this;\r\n        var checks = [];\r\n        var regsValid = false;\r\n        // Reference that we pass to our various functions\r\n        var expandRef = function (tableRef) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, tableRef, {\r\n                create: _this.create,\r\n                details: _this.details,\r\n                save: _this.save,\r\n                edit: _this.edit,\r\n                delete: _this.delete,\r\n            });\r\n        };\r\n        // Get all the fields of the table\r\n        var fields = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"mapValues\"](this.props.fields, function (value, name) {\r\n            var val = {\r\n                name: name,\r\n                view: true\r\n            };\r\n            // If the column is a string use that as the label\r\n            // If the column is a function, use that function to display the cell\r\n            // else if the column provides a view function then use that to display the cell\r\n            if (typeof value === \"string\") {\r\n                val.label = value;\r\n            }\r\n            else if (typeof value === \"function\") {\r\n                val.view = function (obj, tableRef) { return value(obj, expandRef(tableRef)); };\r\n            }\r\n            else if (typeof value === \"object\") {\r\n                __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"](val, value);\r\n                if (typeof value.view === \"function\") {\r\n                    var func_1 = value.view;\r\n                    val.view = function (obj, tableRef) { return func_1(obj, expandRef(tableRef)); };\r\n                }\r\n            }\r\n            return val;\r\n        });\r\n        // Get all the fields for the create form\r\n        // Get all the fields for the filter form\r\n        var createFields = {};\r\n        var filterFields = {};\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash__[\"each\"](fields, function (f, key) {\r\n            if (f.create) {\r\n                createFields[key] = f;\r\n            }\r\n            if (f.filter) {\r\n                filterFields[key] = f;\r\n            }\r\n        });\r\n        try {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash__[\"each\"](this.props.filter, function (value, name) {\r\n                // Get the filter field according to the filterName if specified,\r\n                // otherwise just the name\r\n                var ff = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"find\"](filterFields, { filterName: name }) || filterFields[name];\r\n                // If we have a filterValue function then use that as the value for the check\r\n                var val = function (dataVal) { return __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](dataVal, name); };\r\n                if (typeof ff.filterValue === \"function\") {\r\n                    val = ff.filterValue;\r\n                }\r\n                // If it is an array then we need to check if the value is in the array\r\n                // Otherwise just use a normal regex check\r\n                if (__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isArray\"](value)) {\r\n                    if (value.length === 0) {\r\n                        return;\r\n                    }\r\n                    checks.push(function (dataVal) {\r\n                        var v = val(dataVal);\r\n                        return value.indexOf(v) >= 0;\r\n                    });\r\n                }\r\n                else {\r\n                    checks.push(function (dataVal) { return (new RegExp(value, \"i\")).test(val(dataVal)); });\r\n                }\r\n            });\r\n            regsValid = true;\r\n        }\r\n        catch (_a) {\r\n            regsValid = false;\r\n        }\r\n        // Filter out the values according to the filters\r\n        // If the regex isn't valid then we don't want to filter\r\n        var list = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"filter\"](this.props.list, function (data) {\r\n            return !regsValid || __WEBPACK_IMPORTED_MODULE_0_lodash__[\"every\"](checks, function (check) { return check(data); });\r\n        });\r\n        // Check how many columns we need for the create and filter form\r\n        var cols = this.props.createTitle && this.props.filterTitle ? 2 : 1;\r\n        // Wrap the provided actions if we have any\r\n        var origActions = this.props.actions;\r\n        var actions = origActions;\r\n        if (typeof origActions === \"function\") {\r\n            actions = function (obj, tableRef) { return origActions(obj, expandRef(tableRef)); };\r\n        }\r\n        var DT = this.createTable();\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"t\" /* Segment */], { basic: true },\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"f\" /* Grid */], { stackable: true, doubling: true, columns: cols },\r\n                this.props.createTitle &&\r\n                    Object(__WEBPACK_IMPORTED_MODULE_8__Util__[\"a\" /* checkPermissions */])(this.props.perms, this.props.perm.concat(\"create\")) &&\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"f\" /* Grid */].Column, null,\r\n                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__CreateForm__[\"a\" /* default */], { title: this.props.createTitle, button: this.props.createButton, creating: this.props.creating, fields: createFields, onCreate: function (obj, tableRef) {\r\n                                return _this.props.onCreate ?\r\n                                    _this.props.onCreate(obj, expandRef(tableRef))\r\n                                    :\r\n                                        _this.create(obj);\r\n                            } })),\r\n                this.props.filterTitle &&\r\n                    __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"f\" /* Grid */].Column, null,\r\n                        __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_7__FilterForm__[\"a\" /* default */], { title: this.props.filterTitle, fields: filterFields, valid: regsValid, values: this.props.filter, onFilterChange: this.props.setFilter }))),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](DT, { title: this.props.title, icon: this.props.icon, list: list, t: this.props.t, idFunc: this.props.idFunc, fields: fields, onEdit: function (obj, tableRef) {\r\n                    return _this.props.onEdit ?\r\n                        _this.props.onEdit(obj, expandRef(tableRef))\r\n                        :\r\n                            _this.edit(obj);\r\n                }, onSave: function (obj, newObj, tableRef) {\r\n                    return _this.props.onSave ?\r\n                        _this.props.onSave(obj, newObj, expandRef(tableRef))\r\n                        :\r\n                            _this.save(obj, newObj);\r\n                }, onDelete: function (obj, tableRef) {\r\n                    return _this.props.onDelete ?\r\n                        _this.props.onDelete(obj, expandRef(tableRef))\r\n                        :\r\n                            _this.delete(obj);\r\n                }, canEdit: Object(__WEBPACK_IMPORTED_MODULE_8__Util__[\"a\" /* checkPermissions */])(this.props.perms, this.props.perm.concat(\"change\"))\r\n                    && this.props.canEdit, canDelete: Object(__WEBPACK_IMPORTED_MODULE_8__Util__[\"a\" /* checkPermissions */])(this.props.perms, this.props.perm.concat(\"delete\"))\r\n                    && this.props.canDelete, actions: actions, isEditing: function (obj) { return _this.props.equals(obj, _this.state.data); } })));\r\n    };\r\n    return DataView;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\nfunction mapStateToProps(endpoint, id) {\r\n    return function (_state, ownProps) {\r\n        var state = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](_state, endpoint.replace(/\\//g, \"_\").replace(\"-\", \"\"));\r\n        return {\r\n            creating: state ? state.creating : false,\r\n            filter: state && state.filter ? state.filter : {},\r\n            list: state ? state.list : [],\r\n            types: _state.api.types,\r\n            idFunc: id,\r\n            perm: endpoint.split(\"/\"),\r\n            perms: _state.api.permissions,\r\n        };\r\n    };\r\n}\r\nfunction mapDispatchToProps(endpoint, id, noDetails) {\r\n    return function (dispatch) {\r\n        return {\r\n            requestList: function () { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_dataview__[\"f\" /* requestList */])(endpoint, !noDetails)); },\r\n            requestDetails: function (data) { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_dataview__[\"e\" /* requestDetails */])(endpoint, id, data)); },\r\n            requestCreate: function (data) { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_dataview__[\"c\" /* requestCreate */])(endpoint, id, data)); },\r\n            requestChange: function (data, newData) { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_dataview__[\"b\" /* requestChange */])(endpoint, id, data, newData)); },\r\n            requestDelete: function (data) { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_dataview__[\"d\" /* requestDelete */])(endpoint, id, data)); },\r\n            setFilter: function (filter, value) { return dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_dataview__[\"l\" /* setFilter */])(endpoint, filter, value)); },\r\n            equals: function (o1, o2) { return o1 != null && o2 != null && id(o1) === id(o2); },\r\n        };\r\n    };\r\n}\r\nfunction createDataView(endpoint, objId, noDetails) {\r\n    if (!objId) {\r\n        objId = \"id\";\r\n    }\r\n    var id = typeof objId === \"function\" ? objId : function (data) { return __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](data, objId); };\r\n    return Object(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps(endpoint, id), mapDispatchToProps(endpoint, id, noDetails ? true : false))(DataView);\r\n}\r\n\n\n/***/ }),\n\n/***/ 1026:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_i18next__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Util__ = __webpack_require__(90);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar CreateForm = /** @class */ (function (_super) {\r\n    __extends(CreateForm, _super);\r\n    function CreateForm(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            newData: {},\r\n        };\r\n        _this.doHandleChange = _this.doHandleChange.bind(_this);\r\n        _this.handleChange = __WEBPACK_IMPORTED_MODULE_4__Util__[\"e\" /* handleChange */].bind(_this, _this.doHandleChange);\r\n        _this.create = _this.create.bind(_this);\r\n        return _this;\r\n    }\r\n    CreateForm.prototype.doHandleChange = function (key, value) {\r\n        this.setState({\r\n            newData: __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, this.state.newData, (_a = {},\r\n                _a[key] = value,\r\n                _a))\r\n        });\r\n        var _a;\r\n    };\r\n    CreateForm.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.creating !== this.props.creating ||\r\n            nextProps.fields !== this.props.fields ||\r\n            nextState.newData !== this.state.newData;\r\n    };\r\n    CreateForm.prototype.create = function () {\r\n        var _this = this;\r\n        var data = {};\r\n        Object.keys(this.state.newData).forEach(function (key) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash__[\"set\"](data, key, _this.state.newData[key]);\r\n        });\r\n        this.props.onCreate(data, {\r\n            state: this.state.newData,\r\n            setState: this.setState,\r\n            handleChange: this.handleChange,\r\n        });\r\n    };\r\n    CreateForm.prototype.canCreate = function () {\r\n        var _this = this;\r\n        return Object.keys(this.props.fields).every(function (name) {\r\n            var field = _this.props.fields[name];\r\n            var key = field.createName ? field.createName : name;\r\n            return typeof field === \"string\" || !field.required || _this.state.newData[key];\r\n        });\r\n    };\r\n    CreateForm.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, title = _a.title, creating = _a.creating, fields = _a.fields;\r\n        var _t = this.props.t;\r\n        var fieldGroups = [];\r\n        Object.keys(fields).forEach(function (name) {\r\n            var field = fields[name];\r\n            var newField = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, field, {\r\n                name: field.createName ? field.createName : name,\r\n            });\r\n            if (newField.isGroup) {\r\n                fieldGroups.push({ only: newField });\r\n            }\r\n            else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\r\n                fieldGroups[fieldGroups.length - 1].second = newField;\r\n            }\r\n            else {\r\n                fieldGroups.push({ first: newField });\r\n            }\r\n        });\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"t\" /* Segment */], null,\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"g\" /* Header */], null,\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"h\" /* Icon */], { fitted: true, name: \"plus\" }),\r\n                \" \",\r\n                title),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"e\" /* Form */], { loading: creating },\r\n                fieldGroups.map(function (fg, i) {\r\n                    if (fg.only) {\r\n                        return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](\"div\", { key: i }, _this.renderField(fg.only));\r\n                    }\r\n                    return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"e\" /* Form */].Group, { key: i, widths: \"equal\" },\r\n                        fg.first &&\r\n                            _this.renderField(fg.first),\r\n                        fg.second &&\r\n                            _this.renderField(fg.second));\r\n                }),\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"b\" /* Button */], { color: \"green\", onClick: this.create, disabled: !this.canCreate() }, this.props.button || _t(\"Create\")))));\r\n    };\r\n    CreateForm.prototype.renderField = function (field) {\r\n        var state = this.state.newData;\r\n        if (typeof field.create === \"function\") {\r\n            return field.create({\r\n                state: state,\r\n                setState: this.setState,\r\n                handleChange: this.handleChange,\r\n                value: state[field.name],\r\n            });\r\n        }\r\n        if (field.options) {\r\n            return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"e\" /* Form */].Field, { fluid: true, selection: true, search: true, required: field.required, control: __WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"d\" /* Dropdown */], name: field.name, label: field.label, placeholder: field.label, onChange: this.handleChange, value: state[field.name], options: field.options }));\r\n        }\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__[\"e\" /* Form */].Input, { required: field.required, type: field.type ? field.type : \"text\", name: field.name, label: field.label, placeholder: field.label, onChange: this.handleChange, value: state[field.name] }));\r\n    };\r\n    return CreateForm;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_i18next__[\"c\" /* translate */])(\"CreateForm\")(CreateForm));\r\n\n\n/***/ }),\n\n/***/ 1027:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Util__ = __webpack_require__(90);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\nvar FilterForm = /** @class */ (function (_super) {\r\n    __extends(FilterForm, _super);\r\n    function FilterForm(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.handleChange = __WEBPACK_IMPORTED_MODULE_3__Util__[\"e\" /* handleChange */].bind(_this, _this.props.onFilterChange);\r\n        return _this;\r\n    }\r\n    FilterForm.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return nextProps.values !== this.props.values ||\r\n            nextProps.fields !== this.props.fields ||\r\n            nextProps.valid !== this.props.valid;\r\n    };\r\n    FilterForm.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, title = _a.title, fields = _a.fields, values = _a.values, valid = _a.valid;\r\n        var fieldGroups = [];\r\n        Object.keys(fields).forEach(function (name) {\r\n            var field = fields[name];\r\n            var newField = __WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"]({}, field, {\r\n                name: field.filterName ? field.filterName : name,\r\n            });\r\n            if (newField.isGroup) {\r\n                fieldGroups.push({ only: newField });\r\n            }\r\n            else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\r\n                fieldGroups[fieldGroups.length - 1].second = newField;\r\n            }\r\n            else {\r\n                fieldGroups.push({ first: newField });\r\n            }\r\n        });\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"t\" /* Segment */], null,\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"g\" /* Header */], null,\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"h\" /* Icon */], { name: \"filter\", fitted: true }),\r\n                \" \",\r\n                title),\r\n            __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */], null,\r\n                fieldGroups.map(function (fg, i) {\r\n                    if (fg.only) {\r\n                        return _this.renderField(fg.only, __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](values, fg.only.name), !valid);\r\n                    }\r\n                    return __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Group, { key: i, widths: \"equal\" },\r\n                        fg.first &&\r\n                            _this.renderField(fg.first, __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](values, fg.first.name), !valid),\r\n                        fg.second &&\r\n                            _this.renderField(fg.second, __WEBPACK_IMPORTED_MODULE_0_lodash__[\"get\"](values, fg.second.name), !valid));\r\n                }),\r\n                __WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"o\" /* Message */], { error: true, visible: !valid, content: \"Search term must be a valid regex\" }))));\r\n    };\r\n    FilterForm.prototype.renderField = function (field, value, error) {\r\n        if (typeof field.filter === \"function\") {\r\n            return field.filter({\r\n                state: this.props.values,\r\n                setState: this.setState,\r\n                handleChange: this.handleChange,\r\n                value: value,\r\n            });\r\n        }\r\n        if (field.options) {\r\n            if (!value) {\r\n                value = [];\r\n            }\r\n            return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Field, { fluid: true, selection: true, search: true, multiple: true, control: __WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"d\" /* Dropdown */], name: field.name, label: field.label, placeholder: field.label, options: field.options, value: value, error: error, onChange: this.handleChange }));\r\n        }\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__[\"e\" /* Form */].Input, { name: field.name, type: field.type ? field.type : \"text\", label: field.label, placeholder: field.label, value: value, error: error, onChange: this.handleChange }));\r\n    };\r\n    return FilterForm;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (FilterForm);\r\n\n\n/***/ }),\n\n/***/ 1217:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar deselectCurrent = __webpack_require__(1218);\n\nvar defaultMessage = 'Copy to clipboard: #{key}, Enter';\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? '⌘' : 'Ctrl') + '+C';\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug, message, reselectPrevious, range, selection, mark, success = false;\n  if (!options) { options = {}; }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement('span');\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = 'unset';\n    // prevents scrolling to the end of the page\n    mark.style.position = 'fixed';\n    mark.style.top = 0;\n    mark.style.clip = 'rect(0, 0, 0, 0)';\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = 'pre';\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = 'text';\n    mark.style.MozUserSelect = 'text';\n    mark.style.msUserSelect = 'text';\n    mark.style.userSelect = 'text';\n\n    document.body.appendChild(mark);\n\n    range.selectNode(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand('copy');\n    if (!successful) {\n      throw new Error('copy command was unsuccessful');\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error('unable to copy using execCommand: ', err);\n    debug && console.warn('trying IE specific stuff');\n    try {\n      window.clipboardData.setData('text', text);\n      success = true;\n    } catch (err) {\n      debug && console.error('unable to copy using clipboardData: ', err);\n      debug && console.error('falling back to prompt');\n      message = format('message' in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == 'function') {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n\n\n/***/ }),\n\n/***/ 1218:\n/***/ (function(module, exports) {\n\n\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/8.6ffef578.chunk.js","import * as copy from \"copy-to-clipboard\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Button, Input, List } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../../actions\"\nimport { WebBooksBook } from \"../../../fetch\"\nimport { AppState, DataViewRef } from \"../../../types\"\n\nimport DataViewFunc from \"../../../components/DataView\"\nconst DataView = DataViewFunc(\"web-books/book\", \"id\")\n\ninterface Props extends reactI18Next.InjectedTranslateProps {\n\tapiUrl: string\n}\n\ninterface OwnState {\n\tlines: string[]\n\tnewItem: \"\"\n}\n\nclass Books extends React.Component<Props, OwnState> {\n\n\tconstructor(props: Props) {\n\t\tsuper(props)\n\n\t\tthis.renderEditContent = this.renderEditContent.bind(this)\n\t}\n\n\taddLine(view: DataViewRef<WebBooksBook>) {\n\t\tview.setState({\n\t\t\tlines: view.state.lines.concat(view.state.newItem),\n\t\t\tnewItem: \"\",\n\t\t})\n\t}\n\n\tmoveLineUp(view: DataViewRef<WebBooksBook>, index: number) {\n\t\tview.setState({\n\t\t\tlines: view.state.lines.map((line: string, i: number) =>\n\t\t\t\ti === index ? view.state.lines[index - 1] :\n\t\t\t\t(i === index - 1 ? view.state.lines[index] : line)),\n\t\t})\n\t}\n\n\tmoveLineDown(view: DataViewRef<WebBooksBook>, index: number) {\n\t\tview.setState({\n\t\t\tlines: view.state.lines.map((line: string, i: number) =>\n\t\t\t\ti === index ? view.state.lines[index + 1] :\n\t\t\t\t(i === index + 1 ? view.state.lines[index] : line)),\n\t\t})\n\t}\n\n\tdeleteLine(view: DataViewRef<WebBooksBook>, index: number) {\n\t\tview.setState({\n\t\t\tlines: view.state.lines.filter((line: string, i: number) => i !== index),\n\t\t\tnewItem: \"\",\n\t\t})\n\t}\n\n\tcopy(book: WebBooksBook) {\n\t\tcopy(this.props.apiUrl + \"/api/v5/web-books/book/\" + book.id + \"/html\")\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<DataView\n\t\t\t\tcanEdit\n\t\t\t\tcanDelete\n\t\t\t\ticon=\"book\"\n\t\t\t\ttitle={_t(\"WebBooks\")}\n\t\t\t\tfilterTitle={_t(\"FilterBooks\")}\n\t\t\t\tcreateTitle={_t(\"CreateBook\")}\n\t\t\t\tfields={{\n\t\t\t\t\tid: {\n\t\t\t\t\t\tlabel: _t(\"Id\"),\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\tfilter: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tlabel: _t(\"Title\"),\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\twide: true,\n\t\t\t\t\t},\n\t\t\t\t\tlines: {\n\t\t\t\t\t\tview: false,\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t},\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tlabel: _t(\"Content\"),\n\t\t\t\t\t\twide: true,\n\t\t\t\t\t\tview: (book: WebBooksBook) => <div dangerouslySetInnerHTML={{ __html: book.html }} />,\n\t\t\t\t\t\tedit: this.renderEditContent,\n\t\t\t\t\t},\n\t\t\t\t\tlink: {\n\t\t\t\t\t\tlabel: _t(\"Link\"),\n\t\t\t\t\t\twide: true,\n\t\t\t\t\t\tview: (book: WebBooksBook) =>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\tonFocus={(e: React.SyntheticEvent<HTMLInputElement>) => (e.target as any).select()}\n\t\t\t\t\t\t\t\taction={{ color: \"teal\", icon: \"linkify\", onClick: () => this.copy(book) }}\n\t\t\t\t\t\t\t\tvalue={this.props.apiUrl + \"/api/v5/web-books/book/\" + book.id + \"/html\"}\n\t\t\t\t\t\t\t/>,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tonSave={(obj: WebBooksBook, newData: any, view: DataViewRef<WebBooksBook>) => {\n\t\t\t\t\tview.save(obj, {\n\t\t\t\t\t\tid: obj.id,\n\t\t\t\t\t\ttitle: newData.title,\n\t\t\t\t\t\tlines: newData.lines,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t}\n\n\trenderEditContent(book: WebBooksBook, view: DataViewRef<WebBooksBook>) {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<List size=\"large\">\n\t\t\t\t\t{view.state.lines.map((line: string, index: number) =>\n\t\t\t\t\t\t<List.Item key={index}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcompact\n\t\t\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t\tonClick={e => this.deleteLine(view, index)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{line}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcompact\n\t\t\t\t\t\t\t\ticon=\"arrow down\"\n\t\t\t\t\t\t\t\tcolor=\"blue\"\n\t\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t\tfloated=\"right\"\n\t\t\t\t\t\t\t\tonClick={e => this.moveLineDown(view, index)}\n\t\t\t\t\t\t\t\tdisabled={index >= view.state.lines.length - 1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcompact\n\t\t\t\t\t\t\t\ticon=\"arrow up\"\n\t\t\t\t\t\t\t\tcolor=\"blue\"\n\t\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t\tfloated=\"right\"\n\t\t\t\t\t\t\t\tonClick={e => this.moveLineUp(view, index)}\n\t\t\t\t\t\t\t\tdisabled={index <= 0}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</List.Item>\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t\t<Input\n\t\t\t\t\tname=\"newItem\"\n\t\t\t\t\tplaceholder={_t(\"NewLine\")}\n\t\t\t\t\tonChange={view.handleChange}\n\t\t\t\t\tvalue={view.state.newItem ? view.state.newItem : \"\"}\n\t\t\t\t\taction={{ color: \"green\", icon: \"plus\", onClick: () => this.addLine(view) }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {\n\t\tapiUrl: state.api.server.apiUrl\n\t}\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\n\treturn {}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n\ttranslate(\"Integrations.WebBooks\")(Books)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Integrations/WebBooks/Books.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Header, Icon, SemanticICONS, Table } from \"semantic-ui-react\"\n\nimport { DataFieldRaw, DataTableRef, IdFunction } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nimport Pagination from \"./Pagination\"\nimport TableHeader from \"./TableHeader\"\nimport TableRow from \"./TableRow\"\n\nconst ITEMS_PER_PAGE = 20\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle?: string\n\ticon?: SemanticICONS\n\tlist: T[]\n\tcanEdit?: boolean\n\tcanDelete?: boolean\n\tfields: {\n\t\t[key: string]: DataFieldRaw<T>\n\t}\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\n\tonEdit?: (data: T | null, view: DataTableRef) => void\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\n\tonDelete?: (data: T, view: DataTableRef) => void\n\tidFunc: IdFunction<T>\n\tisEditing: (data: T) => boolean\n}\n\ninterface OwnState {\n\tpage: number\n\tnewData: any\n}\n\nclass DataTable<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props:  Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: _.assign({}, this.state.newData, {\n\t\t\t\t[key]: value\n\t\t\t})\n\t\t})\n\t}\n\n\tchangePage(event: React.MouseEvent<HTMLElement>, page: number) {\n\t\tevent.preventDefault()\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj: T | null, view: DataTableRef): void {\n\t\tconst newData = {}\n\t\tif (obj) {\n\t\t\t_.each(this.props.fields, (field, name) => {\n\t\t\t\tif (!field.edit) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tif (this.props.onEdit) {\n\t\t\tthis.props.onEdit(obj, view)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.page !== this.state.page ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst fields = _.filter(this.props.fields, \"view\")\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE)\n\t\tconst page = Math.min(this.state.page, maxPage - 1)\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n\t\tconst thisRef: DataTableRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes: object) => this.setState({\n\t\t\t\tnewData: _.assign({}, this.state.newData, changes)\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div style={{marginTop: \"2em\"}}>\n\t\t\t\t{title &&\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t\t\t</Header>\n\t\t\t\t}\n\n\t\t\t\t<Table striped={true} stackable>\n\t\t\t\t\t<TableHeader\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\thasActions={typeof actions !== \"undefined\"}\n\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\tt={_t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{_.map(listPage, (obj, i) =>\n\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\tkey={this.props.idFunc(obj)}\n\t\t\t\t\t\t\t\tobj={obj}\n\t\t\t\t\t\t\t\ttableRef={thisRef}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\t\t\tediting={this.props.isEditing(obj)}\n\t\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\t\tonEdit={(d: T, v) => this.onEdit(d, v)}\n\t\t\t\t\t\t\t\tonSave={this.props.onSave}\n\t\t\t\t\t\t\t\tonDelete={this.props.onDelete}\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tnewData={this.state.newData}\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tt={_t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t\t<Pagination\n\t\t\t\t\tpage={page}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tchangePage={(e, p) => this.changePage(e, p)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from \"react\"\r\nimport { Menu } from \"semantic-ui-react\"\r\n\r\nexport interface Props {\r\n\tpage: number\r\n\tmaxPage: number\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn nextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst { page, maxPage } = this.props\r\n\t\tconst from = Math.max(0, page - 4)\r\n\t\tconst to = Math.min(maxPage, page + 5)\r\n\t\tconst pages = []\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{ page > 4 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, 0)}>\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page > 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page - 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ pages.map(p => (\r\n\t\t\t\t\t<Menu.Item key={p} onClick={e => this.props.changePage(e, p)} active={p === page}>\r\n\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t))}\r\n\t\t\t\t{ page < maxPage - 6 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page + 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page < maxPage - 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, maxPage - 1)}>\r\n\t\t\t\t\t\t{maxPage}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from \"react\"\r\nimport { Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw } from \"../../types\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\thasActions: boolean\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{Object.keys(this.props.fields).map(name => {\r\n\t\t\t\t\t\tconst field = this.props.fields[name]\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t\t\t\t{field.label ? field.label : \"<\" + field.name + \">\"}\r\n\t\t\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n\t\t\t\t\t\t<Table.HeaderCell>{this.props.t(\"Actions\")}</Table.HeaderCell>\r\n\t\t\t\t\t: null}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from \"react\"\r\nimport { Button, Dropdown, Form, Icon, Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw, DataTableRef } from \"../../types\"\r\nimport { get, HandleChangeFunc } from \"../Util\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\tobj: T\r\n\ttableRef: DataTableRef\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tediting: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n\tonEdit: (data: T | null, view: DataTableRef) => void\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\r\n\tonDelete?: (data: T, view: DataTableRef) => void\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\r\n\thandleChange: HandleChangeFunc\r\n\tnewData: any\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t}\r\n\r\n\trenderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : \"text\"}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actions, fields, obj, canEdit, canDelete, editing, tableRef } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{fields.map((field, j) =>\r\n\t\t\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t\t\t{field.edit && editing ?\r\n\t\t\t\t\t\t\t(typeof field.edit === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.edit(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tthis.renderEdit(obj, field)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(typeof field.view === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.view(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tget(obj, field.name)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t)}\r\n\t\t\t\t{actions || canEdit || canDelete ?\r\n\t\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t\t{canEdit && editing ?\r\n\t\t\t\t\t\t\t[<Button\r\n\t\t\t\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onSave) { this.props.onSave(obj, this.props.newData, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t(\"Save\")}\r\n\t\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\t\t\tcolor=\"yellow\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(null, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t(\"Cancel\")}\r\n\t\t\t\t\t\t\t</Button>]\r\n\t\t\t\t\t\t: canEdit ?\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(obj, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t(\"Edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t{canDelete &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onDelete) { this.props.onDelete(obj, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t(\"Remove\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{actions && actions(obj, tableRef)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t: null}\r\n\t\t\t</Table.Row>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Dispatch } from \"redux\"\nimport { Grid, Segment } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../actions\"\nimport { requestChange, requestCreate, requestDelete, requestDetails, requestList,\n\tsetFilter } from \"../../actions/dataview\"\nimport { DataViewState } from \"../../reducers/dataview\"\nimport { AppState, DataFieldRaw, DataTableRef, DataViewRef, IdFunction } from \"../../types\"\nimport CreateForm from \"../CreateForm\"\nimport DataTable, { Props as DataTableProps } from \"../DataTable\"\nimport FilterForm from \"../FilterForm\"\nimport { checkPermissions } from \"../Util\"\n\nimport { DispatchProps, FullProps, OwnProps, OwnState, StateProps } from \"./types\"\n\nclass DataView<T> extends React.Component<FullProps<T>, OwnState<T>> {\n\n\tinterval: NodeJS.Timer\n\n\tconstructor(props: FullProps<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tdata: null,\n\t\t}\n\n\t\tthis.details = this.details.bind(this)\n\t\tthis.create = this.create.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t}\n\n\tcreateTable() { return DataTable as React.ComponentClass<DataTableProps<T>> }\n\n\tcomponentDidMount() {\n\t\tif (!this.props.static) {\n\t\t\tthis.props.requestList()\n\t\t\tthis.interval = setInterval(this.props.requestList, 10000)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.interval) {\n\t\t\tclearInterval(this.interval)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: FullProps<T>, nextState: OwnState<T>) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.filter !== this.props.filter ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.data !== this.state.data\n\t}\n\n\t// Create a new data entry\n\tcreate(data: T) {\n\t\tthis.props.requestCreate(data)\n\t}\n\n\t// Get the details for a data entry\n\tdetails(data: T) {\n\t\tthis.props.requestDetails(data)\n\t}\n\n\t// Select a data entry for editing\n\tedit(data: T | null) {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t})\n\t}\n\n\t// Save/Update an existing data entry\n\tsave(data: T, newData: any) {\n\t\tthis.props.requestChange(data, newData)\n\t\tthis.setState({\n\t\t\tdata: null,\n\t\t})\n\t}\n\n\t// Delete a data entry\n\tdelete(data: T) {\n\t\tthis.props.requestDelete(data)\n\t}\n\n\trender() {\n\t\tconst checks: ((val: T) => boolean)[] = []\n\t\tlet regsValid = false\n\n\t\t// Reference that we pass to our various functions\n\t\tconst expandRef = (tableRef: DataTableRef): DataViewRef<T> =>\n\t\t\t_.assign({}, tableRef, {\n\t\t\t\tcreate: this.create,\n\t\t\t\tdetails: this.details,\n\t\t\t\tsave: this.save,\n\t\t\t\tedit: this.edit,\n\t\t\t\tdelete: this.delete,\n\t\t\t})\n\n\t\t// Get all the fields of the table\n\t\tconst fields: { [x: string]:  DataFieldRaw<T> } = _.mapValues(this.props.fields, (value, name) => {\n\t\t\tlet val: DataFieldRaw<T> = {\n\t\t\t\tname: name,\n\t\t\t\tview: true\n\t\t\t}\n\n\t\t\t// If the column is a string use that as the label\n\t\t\t// If the column is a function, use that function to display the cell\n\t\t\t// else if the column provides a view function then use that to display the cell\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tval.label = value\n\t\t\t} else if (typeof value === \"function\") {\n\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => value(obj, expandRef(tableRef))\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\t_.assign(val, value)\n\t\t\t\tif (typeof value.view === \"function\") {\n\t\t\t\t\tconst func = value.view\n\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => func(obj, expandRef(tableRef))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn val\n\t\t})\n\n\t\t// Get all the fields for the create form\n\t\t// Get all the fields for the filter form\n\t\tconst createFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tconst filterFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\t_.each(fields, (f, key) => {\n\t\t\tif (f.create) { createFields[key] = f }\n\t\t\tif (f.filter) { filterFields[key] = f }\n\t\t})\n\n\t\ttry {\n\t\t\t_.each(this.props.filter, (value, name) => {\n\t\t\t\t// Get the filter field according to the filterName if specified,\n\t\t\t\t// otherwise just the name\n\t\t\t\tconst ff = _.find(filterFields, { filterName: name }) || filterFields[name]\n\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\n\t\t\t\tlet val = (dataVal: T) => _.get(dataVal, name)\n\t\t\t\tif (typeof ff.filterValue === \"function\") {\n\t\t\t\t\tval = ff.filterValue\n\t\t\t\t}\n\n\t\t\t\t// If it is an array then we need to check if the value is in the array\n\t\t\t\t// Otherwise just use a normal regex check\n\t\t\t\tif (_.isArray(value)) {\n\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tchecks.push((dataVal: T) => {\n\t\t\t\t\t\tconst v = val(dataVal)\n\t\t\t\t\t\treturn value.indexOf(v) >= 0\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tchecks.push((dataVal: T) => (new RegExp(value, \"i\")).test(val(dataVal)))\n\t\t\t\t}\n\t\t\t})\n\t\t\tregsValid = true\n\t\t} catch {\n\t\t\tregsValid = false\n\t\t}\n\n\t\t// Filter out the values according to the filters\n\t\t// If the regex isn't valid then we don't want to filter\n\t\tconst list = _.filter(this.props.list, data => {\n\t\t\treturn !regsValid || _.every(checks, check => check(data))\n\t\t})\n\n\t\t// Check how many columns we need for the create and filter form\n\t\tconst cols = this.props.createTitle && this.props.filterTitle ? 2 : 1\n\n\t\t// Wrap the provided actions if we have any\n\t\tconst origActions = this.props.actions\n\t\tlet actions = origActions\n\t\tif (typeof origActions === \"function\") {\n\t\t\tactions = (obj, tableRef) => origActions(obj, expandRef(tableRef))\n\t\t}\n\n\t\tconst DT = this.createTable()\n\n\t\treturn (\n\t\t\t<Segment basic>\n\n\t\t\t\t<Grid stackable doubling columns={cols}>\n\t\t\t\t\t{this.props.createTitle &&\n\t\t\t\t\t\tcheckPermissions(this.props.perms, this.props.perm.concat(\"create\")) &&\n\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<CreateForm\n\t\t\t\t\t\t\t\ttitle={this.props.createTitle}\n\t\t\t\t\t\t\t\tbutton={this.props.createButton}\n\t\t\t\t\t\t\t\tcreating={this.props.creating}\n\t\t\t\t\t\t\t\tfields={createFields}\n\t\t\t\t\t\t\t\tonCreate={(obj: any, tableRef: DataTableRef) =>\n\t\t\t\t\t\t\t\t\tthis.props.onCreate ?\n\t\t\t\t\t\t\t\t\t\tthis.props.onCreate(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tthis.create(obj)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.props.filterTitle &&\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<FilterForm\n\t\t\t\t\t\t\t\ttitle={this.props.filterTitle}\n\t\t\t\t\t\t\t\tfields={filterFields}\n\t\t\t\t\t\t\t\tvalid={regsValid}\n\t\t\t\t\t\t\t\tvalues={this.props.filter}\n\t\t\t\t\t\t\t\tonFilterChange={this.props.setFilter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<DT\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tt={this.props.t}\n\t\t\t\t\tidFunc={this.props.idFunc}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tonEdit={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onEdit ?\n\t\t\t\t\t\t\tthis.props.onEdit(obj, expandRef(tableRef))\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.edit(obj)\n\t\t\t\t\t}\n\t\t\t\t\tonSave={(obj, newObj, tableRef) =>\n\t\t\t\t\t\tthis.props.onSave ?\n\t\t\t\t\t\t\tthis.props.onSave(obj, newObj, expandRef(tableRef))\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.save(obj, newObj)\n\t\t\t\t\t}\n\t\t\t\t\tonDelete={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onDelete ?\n\t\t\t\t\t\t\tthis.props.onDelete(obj, expandRef(tableRef))\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.delete(obj)\n\t\t\t\t\t}\n\t\t\t\t\tcanEdit={checkPermissions(this.props.perms, this.props.perm.concat(\"change\"))\n\t\t\t\t\t\t&& this.props.canEdit}\n\t\t\t\t\tcanDelete={checkPermissions(this.props.perms, this.props.perm.concat(\"delete\"))\n\t\t\t\t\t\t&& this.props.canDelete}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tisEditing={obj => this.props.equals(obj, this.state.data)}\n\t\t\t\t/>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps<T>(endpoint: string, id: IdFunction<T>) {\n\treturn (_state: AppState, ownProps: OwnProps<T>) => {\n\t\tconst state: DataViewState<T> = _.get(_state, endpoint.replace(/\\//g, \"_\").replace(\"-\", \"\"))\n\n\t\treturn {\n\t\t\tcreating: state ? state.creating : false,\n\t\t\tfilter: state && state.filter ? state.filter : {},\n\t\t\tlist: state ? state.list : [],\n\t\t\ttypes: _state.api.types,\n\t\t\tidFunc: id,\n\t\t\tperm: endpoint.split(\"/\"),\n\t\t\tperms: _state.api.permissions,\n\t\t}\n\t}\n}\n\nfunction mapDispatchToProps<T>(endpoint: string, id: IdFunction<T>, noDetails: boolean) {\n\treturn (dispatch: Dispatch<AppAction>) => {\n\t\treturn {\n\t\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\n\t\t\trequestDetails: (data: T) => dispatch(requestDetails(endpoint, id, data)),\n\t\t\trequestCreate: (data: T) => dispatch(requestCreate(endpoint, id, data)),\n\t\t\trequestChange: (data: T, newData: object) => dispatch(requestChange(endpoint, id, data, newData)),\n\t\t\trequestDelete: (data: T) => dispatch(requestDelete(endpoint, id, data)),\n\t\t\tsetFilter: (filter: string, value: string) => dispatch(setFilter(endpoint, filter, value)),\n\t\t\tequals: (o1: T, o2: T) => o1 != null && o2 != null && id(o1) === id(o2),\n\t\t}\n\t}\n}\n\nexport default function createDataView<T>(endpoint: string, objId: string | IdFunction<T>, noDetails?: boolean) {\n\tif (!objId) {\n\t\tobjId = \"id\"\n\t}\n\tconst id = typeof objId === \"function\" ? objId : (data: T) => _.get(data, objId as string)\n\n\treturn connect<StateProps<T>, DispatchProps<T>, OwnProps<T>, AppState>(\n\t\tmapStateToProps<T>(endpoint, id),\n\t\tmapDispatchToProps<T>(endpoint, id, noDetails ? true : false)\n\t)(DataView)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Button, Dropdown, Form, Header, Icon, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw, DataTableRef } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle: string\n\tcreating: boolean\n\tonCreate: (data: any, view: DataTableRef) => void\n\tbutton?: string\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n}\n\ninterface OwnState {\n\tnewData: any\n}\n\nclass CreateForm<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t\tthis.create = this.create.bind(this)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: _.assign({}, this.state.newData, {\n\t\t\t\t[key]: value\n\t\t\t})\n\t\t})\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\tcreate() {\n\t\tconst data = {}\n\t\tObject.keys(this.state.newData).forEach(key => {\n\t\t\t_.set(data, key, this.state.newData[key])\n\t\t})\n\n\t\tthis.props.onCreate(data, {\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: this.setState,\n\t\t\thandleChange: this.handleChange,\n\t\t})\n\t}\n\n\tcanCreate(): boolean {\n\t\treturn Object.keys(this.props.fields).every(name => {\n\t\t\tconst field = this.props.fields[name]\n\t\t\tconst key = field.createName ? field.createName : name\n\t\t\treturn typeof field === \"string\" || !field.required || this.state.newData[key]\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { title, creating, fields } = this.props\n\n\t\tconst _t = this.props.t\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = _.assign({}, field, {\n\t\t\t\tname: field.createName ? field.createName : name,\n\t\t\t})\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon fitted name=\"plus\"/> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form loading={creating}>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn <div key={i}>\n\t\t\t\t\t\t\t\t{this.renderField(fg.only)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Button color=\"green\" onClick={this.create} disabled={!this.canCreate()}>\n\t\t\t\t\t\t{this.props.button || _t(\"Create\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>) {\n\t\tconst state = this.state.newData\n\n\t\tif (typeof field.create === \"function\") {\n\t\t\treturn field.create({\n\t\t\t\tstate: state,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: state[field.name],\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid={true}\n\t\t\t\t\tselection={true}\n\t\t\t\t\tsearch={true}\n\t\t\t\t\trequired={field.required}\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tvalue={state[field.name]}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\trequired={field.required}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tvalue={state[field.name]}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default translate(\"CreateForm\")(CreateForm)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { Dropdown, Form, Header, Icon, Message, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> {\n\ttitle: string\n\tvalid: boolean\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n\tvalues: {\n\t\t[x: string]: string | string[]\n\t}\n\tonFilterChange: (key: string, value: string) => void\n}\n\nclass FilterForm<T> extends React.Component<Props<T>> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange)\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\n\t\treturn nextProps.values !== this.props.values ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.valid !== this.props.valid\n\t}\n\n\trender() {\n\t\tconst { title, fields, values, valid } = this.props\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = _.assign({}, field, {\n\t\t\t\tname: field.filterName ? field.filterName : name,\n\t\t\t})\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon name=\"filter\" fitted /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first, _.get(values, fg.first.name), !valid)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second, _.get(values, fg.second.name), !valid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\t\t\t\t\t<Message\n\t\t\t\t\t\terror\n\t\t\t\t\t\tvisible={!valid}\n\t\t\t\t\t\tcontent=\"Search term must be a valid regex\"\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>, value: string | string[], error: boolean) {\n\t\tif (typeof field.filter === \"function\") {\n\t\t\treturn field.filter({\n\t\t\t\tstate: this.props.values,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = []\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid\n\t\t\t\t\tselection\n\t\t\t\t\tsearch\n\t\t\t\t\tmultiple\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\terror={error}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\tname={field.name}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tvalue={value}\n\t\t\t\terror={error}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default FilterForm\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.tsx","'use strict';\n\nvar deselectCurrent = require('toggle-selection');\n\nvar defaultMessage = 'Copy to clipboard: #{key}, Enter';\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? '⌘' : 'Ctrl') + '+C';\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug, message, reselectPrevious, range, selection, mark, success = false;\n  if (!options) { options = {}; }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement('span');\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = 'unset';\n    // prevents scrolling to the end of the page\n    mark.style.position = 'fixed';\n    mark.style.top = 0;\n    mark.style.clip = 'rect(0, 0, 0, 0)';\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = 'pre';\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = 'text';\n    mark.style.MozUserSelect = 'text';\n    mark.style.msUserSelect = 'text';\n    mark.style.userSelect = 'text';\n\n    document.body.appendChild(mark);\n\n    range.selectNode(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand('copy');\n    if (!successful) {\n      throw new Error('copy command was unsuccessful');\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error('unable to copy using execCommand: ', err);\n    debug && console.warn('trying IE specific stuff');\n    try {\n      window.clipboardData.setData('text', text);\n      success = true;\n    } catch (err) {\n      debug && console.error('unable to copy using clipboardData: ', err);\n      debug && console.error('falling back to prompt');\n      message = format('message' in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == 'function') {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/copy-to-clipboard/index.js\n// module id = 1217\n// module chunks = 8","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/toggle-selection/index.js\n// module id = 1218\n// module chunks = 8"],"sourceRoot":""}